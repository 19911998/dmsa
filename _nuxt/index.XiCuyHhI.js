import{_ as B}from"./PageHero.vue.UUU6BGKH.js";import{_ as D}from"./nuxt-img.KqF6xFCQ.js";import{_ as $}from"./MDC.vue.WCW7GIzw.js";import{d as w,b as i,a8 as l,w as p,F as L,f as y,g as s,e as r,aA as n,t as C,ac as d,a7 as N,c as T,a3 as U,E as A,aC as v,aD as E,aE as S,ao as P,a9 as V,ap as q,s as F,aF as h,aG as M,q as u}from"./entry.yAKcStRx.js";import{_ as z}from"./TagList.vue.RBZS_CVY.js";import{_ as G,a as I}from"./LandingSection.vue.xr12HolI.js";import{_ as H}from"./LandingGrid.vue.p8Cmea2z.js";import{_ as O}from"./getCreationDate.WZs4bTl3.js";import"./MDCRenderer.chAgBix4.js";import"./index.Wme0U9j4.js";import"./_commonjsHelpers.5-cIlDoe.js";import"./node.kQagOfUD.js";import"./Card.ptNpPlC-.js";const R={class:"flex flex-col md:flex-row items-start gap-4"},j={class:"text-2xl mb-1 text-gray-900 dark:text-white font-bold truncate"},J={class:"mb-4 text-slate-500 dark:text-slate-400 text-sm flex items-center gap-x-2"},K={class:"text-[15px] text-gray-500 dark:text-gray-400 mt-1"},Q=w({__name:"BlogList",props:{entries:{},pageTag:{}},setup(b){return(t,c)=>{const a=D,_=$,o=U,f=z,x=G,g=H,m=I;return i(),l(m,null,{default:p(()=>[s(g,{class:"lg:grid-cols-1 max-w-2xl mx-auto"},{default:p(()=>[(i(!0),T(L,null,N(t.entries,(e,k)=>(i(),l(x,{key:k,to:e==null?void 0:e._path},{container:p(()=>[r("div",R,[e.image?(i(),l(a,{key:0,src:e.image.src,alt:e.image.alt,preset:"blog",width:"250",height:"150"},null,8,["src","alt"])):y("",!0),r("div",null,[r("div",j,[s(_,{value:e.title},null,8,["value"])]),r("div",J,[s(o,{name:"i-heroicons-calendar"}),d(" "+C(("getCreationDate"in t?t.getCreationDate:n(O))(e)),1)]),r("div",K,[s(_,{value:e.description},null,8,["value"])]),s(f,{base:"/blog",tags:e.tags,"page-tag":t.pageTag,class:"mt-4"},null,8,["tags","page-tag"])])])]),_:2},1032,["to"]))),128))]),_:1})]),_:1})}}}),W={class:"text-primary"},lt=w({__name:"index",async setup(b){let t,c;const a=A(()=>F().query.tag),{data:_}=([t,c]=v(()=>h(a.value?"tag-"+a.value:"blog-entries",()=>a.value?u("blog").where({tags:{$contains:a.value}}).sort({createdAt:-1}).find():u("blog").sort({createdAt:-1}).find(),{watch:[a]})),t=await t,c(),t);if(!_.value.length)throw E({statusCode:404,statusMessage:"Page not found",fatal:!0});const{data:o}=([t,c]=v(()=>h("blog-overview",()=>u("_blog").findOne())),t=await t,c(),t);return S({title:o.value.title,ogTitle:o.value.title,ogSiteName:o.value.title,description:o.value.description,ogDescription:o.value.description}),(f,x)=>{const g=B,m=Q,e=M;return i(),l(e,null,{default:p(()=>[n(o).hero?(i(),l(g,P(V({key:0},n(o).hero)),q({_:2},[n(a)?{name:"description",fn:p(()=>[d(" Es werden alle Blog-BeitrÃ¤ge mit dem Tag "),r("span",W,"#"+C(n(a)),1),d(" angezeigt ")]),key:"0"}:void 0]),1040)):y("",!0),s(m,{entries:n(_),"page-tag":n(a)},null,8,["entries","page-tag"])]),_:1})}}});export{lt as default};
