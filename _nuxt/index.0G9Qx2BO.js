import{d as I,r as j,X as ae,o as oe,_ as V,aU as ie,a0 as X,N as ne,aV as gt,J as H,E as v,aE as Oe,M as Ce,a as Ue,aW as yt,m as Ae,ac as ce,ad as P,af as ye,ag as W,aj as D,b as w,c as T,ab as fe,n as R,j as te,t as E,f as J,a9 as be,aX as ht,aY as _t,aR as ve,aZ as wt,a3 as je,a4 as He,e as x,F as ge,a8 as q,a_ as We,al as Ve,a$ as kt,b0 as xt,aa as zt,s as $e,v as St,av as b,w as A,g as O,aw as Ct,a7 as Le,ak as Lt,b1 as Ot,aI as At,b2 as jt,ae as Je,ay as Re,aA as Bt,aB as Pe,aJ as Tt,b3 as $t}from"./entry.0gqKqSUW.js";import{_ as Rt,a as Pt}from"./BlogList.vue.WKbT9ohR.js";import{_ as It}from"./Select.Et151ETV.js";import{q as Ie}from"./query.a4VjnjKS.js";import{_ as Ut}from"./formatDate.R--iNgjV.js";import"./nuxt-img.uMcGZ_Z_.js";const Vt={wrapper:{horizontal:"inline-flex -space-x-px",vertical:"inline-flex flex-col -space-y-px"},rounded:"rounded-md",shadow:"shadow-sm",orientation:{"rounded-none":{horizontal:{start:"rounded-s-none",end:"rounded-e-none"},vertical:{start:"rounded-t-none",end:"rounded-b-none"}},"rounded-sm":{horizontal:{start:"rounded-s-sm",end:"rounded-e-sm"},vertical:{start:"rounded-t-sm",end:"rounded-b-sm"}},rounded:{horizontal:{start:"rounded-s",end:"rounded-e"},vertical:{start:"rounded-t",end:"rounded-b"}},"rounded-md":{horizontal:{start:"rounded-s-md",end:"rounded-e-md"},vertical:{start:"rounded-t-md",end:"rounded-b-md"}},"rounded-lg":{horizontal:{start:"rounded-s-lg",end:"rounded-e-lg"},vertical:{start:"rounded-t-lg",end:"rounded-b-lg"}},"rounded-xl":{horizontal:{start:"rounded-s-xl",end:"rounded-e-xl"},vertical:{start:"rounded-t-xl",end:"rounded-b-xl"}},"rounded-2xl":{horizontal:{start:"rounded-s-2xl",end:"rounded-e-2xl"},vertical:{start:"rounded-t-2xl",end:"rounded-b-2xl"}},"rounded-3xl":{horizontal:{start:"rounded-s-3xl",end:"rounded-e-3xl"},vertical:{start:"rounded-t-3xl",end:"rounded-b-3xl"}},"rounded-full":{horizontal:{start:"rounded-s-full",end:"rounded-e-full"},vertical:{start:"rounded-t-full",end:"rounded-b-full"}}}},Mt={wrapper:"relative inline-flex items-center justify-center flex-shrink-0",base:"absolute rounded-full ring-1 ring-white dark:ring-gray-900 flex items-center justify-center text-white dark:text-gray-900 font-medium whitespace-nowrap",background:"bg-{color}-500 dark:bg-{color}-400",position:{"top-right":"top-0 right-0","bottom-right":"bottom-0 right-0","top-left":"top-0 left-0","bottom-left":"bottom-0 left-0"},translate:{"top-right":"-translate-y-1/2 translate-x-1/2 transform","bottom-right":"translate-y-1/2 translate-x-1/2 transform","top-left":"-translate-y-1/2 -translate-x-1/2 transform","bottom-left":"translate-y-1/2 -translate-x-1/2 transform"},size:{"3xs":"h-[4px] min-w-[4px] text-[4px] p-px","2xs":"h-[5px] min-w-[5px] text-[5px] p-px",xs:"h-1.5 min-w-[0.375rem] text-[6px] p-px",sm:"h-2 min-w-[0.5rem] text-[7px] p-0.5",md:"h-2.5 min-w-[0.625rem] text-[8px] p-0.5",lg:"h-3 min-w-[0.75rem] text-[10px] p-0.5",xl:"h-3.5 min-w-[0.875rem] text-[11px] p-1","2xl":"h-4 min-w-[1rem] text-[12px] p-1","3xl":"h-5 min-w-[1.25rem] text-[14px] p-1"},default:{size:"sm",color:"primary",position:"top-right",inset:!1}},Nt={wrapper:"relative flex items-start",container:"flex items-center h-5",base:"h-4 w-4 dark:checked:bg-current dark:checked:border-transparent dark:indeterminate:bg-current dark:indeterminate:border-transparent disabled:opacity-50 disabled:cursor-not-allowed focus:ring-0 focus:ring-transparent focus:ring-offset-transparent",form:"form-checkbox",rounded:"rounded",color:"text-{color}-500 dark:text-{color}-400",background:"bg-white dark:bg-gray-900",border:"border border-gray-300 dark:border-gray-700",ring:"focus-visible:ring-2 focus-visible:ring-{color}-500 dark:focus-visible:ring-{color}-400 focus-visible:ring-offset-2 focus-visible:ring-offset-white dark:focus-visible:ring-offset-gray-900",inner:"ms-3 flex flex-col",label:"text-sm font-medium text-gray-700 dark:text-gray-200",required:"text-sm text-red-500 dark:text-red-400",help:"text-sm text-gray-500 dark:text-gray-400",default:{color:"primary"}},Et={wrapper:"relative w-full flex items-center",base:"w-full absolute appearance-none cursor-pointer disabled:cursor-not-allowed disabled:bg-opacity-50 focus:outline-none peer group",rounded:"rounded-lg",background:"bg-transparent",ring:"focus-visible:ring-2 focus-visible:ring-{color}-500 dark:focus-visible:ring-{color}-400 focus-visible:ring-offset-2 focus-visible:ring-offset-white dark:focus-visible:ring-offset-gray-900",progress:{base:"absolute pointer-events-none peer-disabled:bg-opacity-50",rounded:"rounded-s-lg",background:"bg-{color}-500 dark:bg-{color}-400",size:{"2xs":"h-px",xs:"h-0.5",sm:"h-1",md:"h-2",lg:"h-3",xl:"h-4","2xl":"h-5"}},thumb:{base:"[&::-webkit-slider-thumb]:relative [&::-moz-range-thumb]:relative [&::-webkit-slider-thumb]:z-[1] [&::-moz-range-thumb]:z-[1] [&::-webkit-slider-thumb]:appearance-none [&::-moz-range-thumb]:appearance-none [&::-webkit-slider-thumb]:rounded-full [&::-moz-range-thumb]:rounded-full [&::-moz-range-thumb]:border-0",color:"text-{color}-500 dark:text-{color}-400",background:"[&::-webkit-slider-thumb]:bg-white [&::-webkit-slider-thumb]:dark:bg-gray-900 [&::-moz-range-thumb]:bg-current",ring:"[&::-webkit-slider-thumb]:ring-2 [&::-webkit-slider-thumb]:ring-current",size:{"2xs":"[&::-webkit-slider-thumb]:h-1.5 [&::-moz-range-thumb]:h-1.5 [&::-webkit-slider-thumb]:w-1.5 [&::-moz-range-thumb]:w-1.5 [&::-webkit-slider-thumb]:mt-[-2.5px] [&::-moz-range-thumb]:mt-[-2.5px]",xs:"[&::-webkit-slider-thumb]:h-2 [&::-moz-range-thumb]:h-2 [&::-webkit-slider-thumb]:w-2 [&::-moz-range-thumb]:w-2 [&::-webkit-slider-thumb]:mt-[-3px] [&::-moz-range-thumb]:mt-[-3px]",sm:"[&::-webkit-slider-thumb]:h-3 [&::-moz-range-thumb]:h-3 [&::-webkit-slider-thumb]:w-3 [&::-moz-range-thumb]:w-3 [&::-webkit-slider-thumb]:-mt-1 [&::-moz-range-thumb]:-mt-1",md:"[&::-webkit-slider-thumb]:h-4 [&::-moz-range-thumb]:h-4 [&::-webkit-slider-thumb]:w-4 [&::-moz-range-thumb]:w-4 [&::-webkit-slider-thumb]:-mt-1 [&::-moz-range-thumb]:-mt-1",lg:"[&::-webkit-slider-thumb]:h-5 [&::-moz-range-thumb]:h-5 [&::-webkit-slider-thumb]:w-5 [&::-moz-range-thumb]:w-5 [&::-webkit-slider-thumb]:-mt-1 [&::-moz-range-thumb]:-mt-1",xl:"[&::-webkit-slider-thumb]:h-6 [&::-moz-range-thumb]:h-6 [&::-webkit-slider-thumb]:w-6 [&::-moz-range-thumb]:w-6 [&::-webkit-slider-thumb]:-mt-1 [&::-moz-range-thumb]:-mt-1","2xl":"[&::-webkit-slider-thumb]:h-7 [&::-moz-range-thumb]:h-7 [&::-webkit-slider-thumb]:w-7 [&::-moz-range-thumb]:w-7 [&::-webkit-slider-thumb]:-mt-1 [&::-moz-range-thumb]:-mt-1"}},track:{base:"[&::-webkit-slider-runnable-track]:group-disabled:bg-opacity-50 [&::-moz-range-track]:group-disabled:bg-opacity-50",background:"[&::-webkit-slider-runnable-track]:bg-gray-200 [&::-moz-range-track]:bg-gray-200 [&::-webkit-slider-runnable-track]:dark:bg-gray-700 [&::-moz-range-track]:dark:bg-gray-700",rounded:"[&::-webkit-slider-runnable-track]:rounded-lg [&::-moz-range-track]:rounded-lg",size:{"2xs":"[&::-webkit-slider-runnable-track]:h-px [&::-moz-range-track]:h-px",xs:"[&::-webkit-slider-runnable-track]:h-0.5 [&::-moz-range-track]:h-0.5",sm:"[&::-webkit-slider-runnable-track]:h-1 [&::-moz-range-track]:h-1",md:"[&::-webkit-slider-runnable-track]:h-2 [&::-moz-range-track]:h-2",lg:"[&::-webkit-slider-runnable-track]:h-3 [&::-moz-range-track]:h-3",xl:"[&::-webkit-slider-runnable-track]:h-4 [&::-moz-range-track]:h-4","2xl":"[&::-webkit-slider-runnable-track]:h-5 [&::-moz-range-track]:h-5"}},size:{"2xs":"h-1.5",xs:"h-2",sm:"h-3",md:"h-4",lg:"h-5",xl:"h-6","2xl":"h-7"},default:{size:"md",color:"primary"}},Dt={wrapper:{base:"flex items-center align-center text-center w-full",horizontal:"flex-row",vertical:"flex-col"},container:{base:"font-medium text-gray-700 dark:text-gray-200 flex",horizontal:"mx-3 whitespace-nowrap",vertical:"my-2"},border:{base:"flex border-gray-200 dark:border-gray-800",horizontal:"w-full",vertical:"h-full",size:{horizontal:"border-t",vertical:"border-s"},type:{solid:"border-solid",dotted:"border-dotted",dashed:"border-dashed"}},icon:{base:"flex-shrink-0 w-5 h-5"},avatar:{base:"flex-shrink-0",size:"2xs"},label:"text-sm"},De=(e,a)=>{for(const t of Object.keys(a))e.on(t,a[t])},Xe=e=>{for(const a of Object.keys(e)){const t=e[a];t&&ee(t.cancel)&&t.cancel()}},qt=e=>!e||typeof e.charAt!="function"?e:e.charAt(0).toUpperCase()+e.slice(1),ee=e=>typeof e=="function",re=(e,a,t)=>{for(const o in t){const l="set"+qt(o);e[l]?Ce(()=>t[o],(n,s)=>{e[l](n,s)}):a[l]&&Ce(()=>t[o],n=>{a[l](n)})}},ue=(e,a,t={})=>{const o={...t};for(const l in e){const n=a[l],s=e[l];n&&(n&&n.custom===!0||s!==void 0&&(o[l]=s))}return o},de=e=>{const a={},t={};for(const o in e)if(o.startsWith("on")&&!o.startsWith("onUpdate")&&o!=="onReady"){const l=o.slice(2).toLocaleLowerCase();a[l]=e[o]}else t[o]=e[o];return{listeners:a,attrs:t}},Ft=async e=>{const a=await Promise.all([V(()=>import("./marker-icon-2x.ISnV03A7.js"),__vite__mapDeps([]),import.meta.url),V(()=>import("./marker-icon.v2plvzwn.js"),__vite__mapDeps([]),import.meta.url),V(()=>import("./marker-shadow.mNDLcDeE.js"),__vite__mapDeps([]),import.meta.url)]);delete e.Default.prototype._getIconUrl,e.Default.mergeOptions({iconRetinaUrl:a[0].default,iconUrl:a[1].default,shadowUrl:a[2].default})},xe=e=>{const a=j((...o)=>console.warn(`Method ${e} has been invoked without being replaced`)),t=(...o)=>a.value(...o);return t.wrapped=a,H(e,t),t},ze=(e,a)=>e.wrapped.value=a,G=typeof self=="object"&&self.self===self&&self||typeof global=="object"&&global.global===global&&global||globalThis,M=e=>{const a=ae(e);if(a===void 0)throw new Error(`Attempt to inject ${e.description} before it was provided.`);return a},le=Symbol("useGlobalLeaflet"),he=Symbol("addLayer"),Ke=Symbol("removeLayer"),Ye=Symbol("registerControl"),Gt=Symbol("registerLayerControl"),Qe=Symbol("canSetParentHtml"),et=Symbol("setParentHtml"),tt=Symbol("setIcon"),at=Symbol("bindPopup"),ot=Symbol("bindTooltip"),nt=Symbol("unbindPopup"),rt=Symbol("unbindTooltip"),_e={options:{type:Object,default:()=>({}),custom:!0}},we=e=>({options:e.options,methods:{}}),pe={..._e,pane:{type:String},attribution:{type:String},name:{type:String,custom:!0},layerType:{type:String,custom:!0},visible:{type:Boolean,custom:!0,default:!0}},lt=(e,a,t)=>{const o=M(he),l=M(Ke),{options:n,methods:s}=we(e),u=ue(e,pe,n),p=()=>o({leafletObject:a.value}),m=()=>l({leafletObject:a.value}),c={...s,setAttribution(d){m(),a.value.options.attribution=d,e.visible&&p()},setName(){m(),e.visible&&p()},setLayerType(){m(),e.visible&&p()},setVisible(d){a.value&&(d?p():m())},bindPopup(d){if(!a.value||!ee(a.value.bindPopup)){console.warn("Attempt to bind popup before bindPopup method available on layer.");return}a.value.bindPopup(d)},bindTooltip(d){if(!a.value||!ee(a.value.bindTooltip)){console.warn("Attempt to bind tooltip before bindTooltip method available on layer.");return}a.value.bindTooltip(d)},unbindTooltip(){a.value&&(ee(a.value.closeTooltip)&&a.value.closeTooltip(),ee(a.value.unbindTooltip)&&a.value.unbindTooltip())},unbindPopup(){a.value&&(ee(a.value.closePopup)&&a.value.closePopup(),ee(a.value.unbindPopup)&&a.value.unbindPopup())},updateVisibleProp(d){t.emit("update:visible",d)}};return H(at,c.bindPopup),H(ot,c.bindTooltip),H(nt,c.unbindPopup),H(rt,c.unbindTooltip),Ue(()=>{c.unbindPopup(),c.unbindTooltip(),m()}),{options:u,methods:c}},Zt=(e,a)=>{if(e&&a.default)return ne("div",{style:{display:"none"}},a.default())},Ht={...pe,interactive:{type:Boolean,default:void 0},bubblingMouseEvents:{type:Boolean,default:void 0}},st={...Ht,stroke:{type:Boolean,default:void 0},color:{type:String},weight:{type:Number},opacity:{type:Number},lineCap:{type:String},lineJoin:{type:String},dashArray:{type:String},dashOffset:{type:String},fill:{type:Boolean,default:void 0},fillColor:{type:String},fillOpacity:{type:Number},fillRule:{type:String},className:{type:String}},Wt={...st,radius:{type:Number},latLng:{type:[Object,Array],required:!0,custom:!0}};({...Wt});const me={..._e,position:{type:String}},Jt=(e,a)=>{const{options:t,methods:o}=we(e),l=ue(e,me,t),n={...o,setPosition(s){a.value&&a.value.setPosition(s)}};return Ue(()=>{a.value&&a.value.remove()}),{options:l,methods:n}},Xt=e=>e.default?ne("div",{ref:"root"},e.default()):null,Kt=I({name:"LControl",props:{...me,disableClickPropagation:{type:Boolean,custom:!0,default:!0},disableScrollPropagation:{type:Boolean,custom:!0,default:!1}},setup(e,a){const t=j(),o=j(),l=ae(le),n=M(Ye),{options:s,methods:u}=Jt(e,t);return oe(async()=>{const{Control:p,DomEvent:m}=l?G.L:await V(()=>import("./leaflet-src.esm.NPgqU0nd.js"),__vite__mapDeps([]),import.meta.url),c=p.extend({onAdd(){return o.value}});t.value=ie(new c(s)),re(u,t.value,e),n({leafletObject:t.value}),e.disableClickPropagation&&o.value&&m.disableClickPropagation(o.value),e.disableScrollPropagation&&o.value&&m.disableScrollPropagation(o.value),X(()=>a.emit("ready",t.value))}),{root:o,leafletObject:t}},render(){return Xt(this.$slots)}});({...me});({...me});({...me});({...me});const it={...pe};({...it});({...it});const Me={...pe,opacity:{type:Number},zIndex:{type:Number},tileSize:{type:[Number,Array,Object]},noWrap:{type:Boolean,default:void 0},minZoom:{type:Number},maxZoom:{type:Number},className:{type:String}},ut=(e,a,t)=>{const{options:o,methods:l}=lt(e,a,t),n=ue(e,Me,o),s={...l,setTileComponent(){var u;(u=a.value)==null||u.redraw()}};return Ue(()=>{a.value.off()}),{options:n,methods:s}},Yt=(e,a,t,o)=>e.extend({initialize(l){this.tileComponents={},this.on("tileunload",this._unloadTile),t.setOptions(this,l)},createTile(l){const n=this._tileCoordsToKey(l);this.tileComponents[n]=a.create("div");const s=ne({setup:o,props:["coords"]},{coords:l});return yt(s,this.tileComponents[n]),this.tileComponents[n]},_unloadTile(l){const n=this._tileCoordsToKey(l.coords);this.tileComponents[n]&&(this.tileComponents[n].innerHTML="",this.tileComponents[n]=void 0)}});I({props:{...Me,childRender:{type:Function,required:!0}},setup(e,a){const t=j(),o=j(null),l=j(!1),n=ae(le),s=M(he),{options:u,methods:p}=ut(e,t,a);return oe(async()=>{const{GridLayer:m,DomUtil:c,Util:d}=n?G.L:await V(()=>import("./leaflet-src.esm.NPgqU0nd.js"),__vite__mapDeps([]),import.meta.url),z=Yt(m,c,d,e.childRender);t.value=ie(new z(u));const{listeners:y}=de(a.attrs);t.value.on(y),re(p,t.value,e),s({...e,...p,leafletObject:t.value}),l.value=!0,X(()=>a.emit("ready",t.value))}),{root:o,ready:l,leafletObject:t}},render(){return this.ready?ne("div",{style:{display:"none"},ref:"root"}):null}});const qe={iconUrl:{type:String},iconRetinaUrl:{type:String},iconSize:{type:[Object,Array]},iconAnchor:{type:[Object,Array]},popupAnchor:{type:[Object,Array]},tooltipAnchor:{type:[Object,Array]},shadowUrl:{type:String},shadowRetinaUrl:{type:String},shadowSize:{type:[Object,Array]},shadowAnchor:{type:[Object,Array]},bgPos:{type:[Object,Array]},className:{type:String}};I({name:"LIcon",props:{...qe,..._e},setup(e,a){const t=j(),o=ae(le),l=M(Qe),n=M(et),s=M(tt);let u,p,m,c,d;const z=(g,h,S)=>{const _=g&&g.innerHTML;if(!h){S&&d&&l()&&n(_);return}const{listeners:C}=de(a.attrs);d&&p(d,C);const{options:K}=we(e),U=ue(e,qe,K);_&&(U.html=_),d=U.html?m(U):c(U),u(d,C),s(d)},y=()=>{X(()=>z(t.value,!0,!1))},B=()=>{X(()=>z(t.value,!1,!0))},k={setIconUrl:y,setIconRetinaUrl:y,setIconSize:y,setIconAnchor:y,setPopupAnchor:y,setTooltipAnchor:y,setShadowUrl:y,setShadowRetinaUrl:y,setShadowAnchor:y,setBgPos:y,setClassName:y,setHtml:y};return oe(async()=>{const{DomEvent:g,divIcon:h,icon:S}=o?G.L:await V(()=>import("./leaflet-src.esm.NPgqU0nd.js"),__vite__mapDeps([]),import.meta.url);u=g.on,p=g.off,m=h,c=S,re(k,{},e),new MutationObserver(B).observe(t.value,{attributes:!0,childList:!0,characterData:!0,subtree:!0}),y()}),{root:t}},render(){const e=this.$slots.default?this.$slots.default():void 0;return ne("div",{ref:"root"},e)}});({...pe});function dt(e,a,t){var o,l,n;a===void 0&&(a=50),t===void 0&&(t={});var s=(o=t.isImmediate)!=null&&o,u=(l=t.callback)!=null&&l,p=t.maxWait,m=Date.now(),c=[];function d(){if(p!==void 0){var y=Date.now()-m;if(y+a>=p)return p-y}return a}var z=function(){var y=[].slice.call(arguments),B=this;return new Promise(function(k,g){var h=s&&n===void 0;if(n!==void 0&&clearTimeout(n),n=setTimeout(function(){if(n=void 0,m=Date.now(),!s){var _=e.apply(B,y);u&&u(_),c.forEach(function(C){return(0,C.resolve)(_)}),c=[]}},d()),h){var S=e.apply(B,y);return u&&u(S),k(S)}c.push({resolve:k,reject:g})})};return z.cancel=function(y){n!==void 0&&clearTimeout(n),c.forEach(function(B){return(0,B.reject)(y)}),c=[]},z}const Fe={..._e,center:{type:[Object,Array]},bounds:{type:[Array,Object]},maxBounds:{type:[Array,Object]},zoom:{type:Number},minZoom:{type:Number},maxZoom:{type:Number},paddingBottomRight:{type:[Object,Array]},paddingTopLeft:{type:Object},padding:{type:Object},worldCopyJump:{type:Boolean,default:void 0},crs:{type:[String,Object]},maxBoundsViscosity:{type:Number},inertia:{type:Boolean,default:void 0},inertiaDeceleration:{type:Number},inertiaMaxSpeed:{type:Number},easeLinearity:{type:Number},zoomAnimation:{type:Boolean,default:void 0},zoomAnimationThreshold:{type:Number},fadeAnimation:{type:Boolean,default:void 0},markerZoomAnimation:{type:Boolean,default:void 0},noBlockingAnimations:{type:Boolean,default:void 0},useGlobalLeaflet:{type:Boolean,default:!0,custom:!0}},Qt=I({inheritAttrs:!1,emits:["ready","update:zoom","update:center","update:bounds"],props:Fe,setup(e,a){const t=j(),o=gt({ready:!1,layersToAdd:[],layersInControl:[]}),{options:l}=we(e),n=ue(e,Fe,l),{listeners:s,attrs:u}=de(a.attrs),p=xe(he),m=xe(Ke),c=xe(Ye),d=xe(Gt);H(le,e.useGlobalLeaflet);const z=v(()=>{const h={};return e.noBlockingAnimations&&(h.animate=!1),h}),y=v(()=>{const h=z.value;return e.padding&&(h.padding=e.padding),e.paddingTopLeft&&(h.paddingTopLeft=e.paddingTopLeft),e.paddingBottomRight&&(h.paddingBottomRight=e.paddingBottomRight),h}),B={moveend:dt(h=>{o.leafletRef&&(a.emit("update:zoom",o.leafletRef.getZoom()),a.emit("update:center",o.leafletRef.getCenter()),a.emit("update:bounds",o.leafletRef.getBounds()))}),overlayadd(h){const S=o.layersInControl.find(_=>_.name===h.name);S&&S.updateVisibleProp(!0)},overlayremove(h){const S=o.layersInControl.find(_=>_.name===h.name);S&&S.updateVisibleProp(!1)}};oe(async()=>{e.useGlobalLeaflet&&(G.L=G.L||await V(()=>import("./entry.0gqKqSUW.js").then(r=>r.l),__vite__mapDeps([0,1]),import.meta.url));const{map:h,CRS:S,Icon:_,latLngBounds:C,latLng:K,stamp:U}=e.useGlobalLeaflet?G.L:await V(()=>import("./leaflet-src.esm.NPgqU0nd.js"),__vite__mapDeps([]),import.meta.url);try{n.beforeMapMount&&await n.beforeMapMount()}catch(r){console.error(`The following error occurred running the provided beforeMapMount hook ${r.message}`)}await Ft(_);const Y=typeof n.crs=="string"?S[n.crs]:n.crs;n.crs=Y||S.EPSG3857;const i={addLayer(r){r.layerType!==void 0&&(o.layerControl===void 0?o.layersToAdd.push(r):o.layersInControl.find(f=>U(f.leafletObject)===U(r.leafletObject))||(o.layerControl.addLayer(r),o.layersInControl.push(r))),r.visible!==!1&&o.leafletRef.addLayer(r.leafletObject)},removeLayer(r){r.layerType!==void 0&&(o.layerControl===void 0?o.layersToAdd=o.layersToAdd.filter(f=>f.name!==r.name):(o.layerControl.removeLayer(r.leafletObject),o.layersInControl=o.layersInControl.filter(f=>U(f.leafletObject)!==U(r.leafletObject)))),o.leafletRef.removeLayer(r.leafletObject)},registerLayerControl(r){o.layerControl=r,o.layersToAdd.forEach(f=>{o.layerControl.addLayer(f)}),o.layersToAdd=[],c(r)},registerControl(r){o.leafletRef.addControl(r.leafletObject)},setZoom(r){const f=o.leafletRef.getZoom();r!==f&&o.leafletRef.setZoom(r,z.value)},setCrs(r){const f=o.leafletRef.getBounds();o.leafletRef.options.crs=r,o.leafletRef.fitBounds(f,{animate:!1,padding:[0,0]})},fitBounds(r){o.leafletRef.fitBounds(r,y.value)},setBounds(r){if(!r)return;const f=C(r);f.isValid()&&!(o.lastSetBounds||o.leafletRef.getBounds()).equals(f,0)&&(o.lastSetBounds=f,o.leafletRef.fitBounds(f))},setCenter(r){if(r==null)return;const f=K(r),$=o.lastSetCenter||o.leafletRef.getCenter();($.lat!==f.lat||$.lng!==f.lng)&&(o.lastSetCenter=f,o.leafletRef.panTo(f,z.value))}};ze(p,i.addLayer),ze(m,i.removeLayer),ze(c,i.registerControl),ze(d,i.registerLayerControl),o.leafletRef=ie(h(t.value,n)),re(i,o.leafletRef,e),De(o.leafletRef,B),De(o.leafletRef,s),o.ready=!0,X(()=>a.emit("ready",o.leafletRef))}),Oe(()=>{Xe(B),o.leafletRef&&(o.leafletRef.off(),o.leafletRef.remove())});const k=v(()=>o.leafletRef),g=v(()=>o.ready);return{root:t,ready:g,leafletObject:k,attrs:u}},render({attrs:e}){return e.style||(e.style={}),e.style.width||(e.style.width="100%"),e.style.height||(e.style.height="100%"),ne("div",{...e,ref:"root"},this.ready&&this.$slots.default?this.$slots.default():{})}}),ea=["Symbol(Comment)","Symbol(Text)"],ta=["LTooltip","LPopup"],ct={...pe,draggable:{type:Boolean,default:void 0},icon:{type:[Object]},zIndexOffset:{type:Number},latLng:{type:[Object,Array],custom:!0,required:!0}},aa=(e,a,t)=>{const{options:o,methods:l}=lt(e,a,t),n=ue(e,ct,o),s={...l,setDraggable(u){a.value.dragging&&(u?a.value.dragging.enable():a.value.dragging.disable())},latLngSync(u){t.emit("update:latLng",u.latlng),t.emit("update:lat-lng",u.latlng)},setLatLng(u){if(u!=null&&a.value){const p=a.value.getLatLng();(!p||!p.equals(u))&&a.value.setLatLng(u)}}};return{options:n,methods:s}},oa=(e,a)=>{const t=a.slots.default&&a.slots.default();return t&&t.length&&t.some(na)};function na(e){return!(ea.includes(e.type.toString())||ta.includes(e.type.name))}const ra=I({name:"LMarker",props:ct,setup(e,a){const t=j(),o=j(!1),l=ae(le),n=M(he);H(Qe,()=>{var m;return!!((m=t.value)!=null&&m.getElement())}),H(et,m=>{var c,d;const z=ee((c=t.value)==null?void 0:c.getElement)&&((d=t.value)==null?void 0:d.getElement());z&&(z.innerHTML=m)}),H(tt,m=>{var c;return((c=t.value)==null?void 0:c.setIcon)&&t.value.setIcon(m)});const{options:s,methods:u}=aa(e,t,a),p={moveHandler:dt(u.latLngSync)};return oe(async()=>{const{marker:m,divIcon:c}=l?G.L:await V(()=>import("./leaflet-src.esm.NPgqU0nd.js"),__vite__mapDeps([]),import.meta.url);oa(s,a)&&(s.icon=c({className:""})),t.value=ie(m(e.latLng,s));const{listeners:d}=de(a.attrs);t.value.on(d),t.value.on("move",p.moveHandler),re(u,t.value,e),n({...e,...u,leafletObject:t.value}),o.value=!0,X(()=>a.emit("ready",t.value))}),Oe(()=>Xe(p)),{ready:o,leafletObject:t}},render(){return Zt(this.ready,this.$slots)}}),la={...st,smoothFactor:{type:Number},noClip:{type:Boolean,default:void 0},latLngs:{type:Array,required:!0,custom:!0}},Ge={...la},pt={..._e,content:{type:String,default:null}},mt=(e,a)=>{const{options:t,methods:o}=we(e),l={...o,setContent(n){a.value&&n!==null&&n!==void 0&&a.value.setContent(n)}};return{options:t,methods:l}},ft=e=>e.default?ne("div",{ref:"root"},e.default()):null,sa={...pt,latLng:{type:[Object,Array],default:()=>[]}},ia=(e,a)=>{const{options:t,methods:o}=mt(e,a);return{options:t,methods:o}},ua=I({name:"LPopup",props:sa,setup(e,a){const t=j(),o=j(null),l=ae(le),n=M(at),s=M(nt),{options:u,methods:p}=ia(e,t);return oe(async()=>{const{popup:m}=l?G.L:await V(()=>import("./leaflet-src.esm.NPgqU0nd.js"),__vite__mapDeps([]),import.meta.url);t.value=ie(m(u)),e.latLng!==void 0&&t.value.setLatLng(e.latLng),re(p,t.value,e);const{listeners:c}=de(a.attrs);t.value.on(c),t.value.setContent(e.content||o.value||""),n(t.value),X(()=>a.emit("ready",t.value))}),Oe(()=>{s()}),{root:o,leafletObject:t}},render(){return ft(this.$slots)}});({...Ge,latLngs:{...Ge.latLngs}});const Ne={...Me,tms:{type:Boolean,default:void 0},subdomains:{type:[String,Array],validator:e=>typeof e=="string"?!0:Array.isArray(e)?e.every(a=>typeof a=="string"):!1},detectRetina:{type:Boolean,default:void 0},url:{type:String,required:!0,custom:!0}},da=(e,a,t)=>{const{options:o,methods:l}=ut(e,a,t),n=ue(e,Ne,o),s={...l};return{options:n,methods:s}},ca=I({props:Ne,setup(e,a){const t=j(),o=ae(le),l=M(he),{options:n,methods:s}=da(e,t,a);return oe(async()=>{const{tileLayer:u}=o?G.L:await V(()=>import("./leaflet-src.esm.NPgqU0nd.js"),__vite__mapDeps([]),import.meta.url);t.value=ie(u(e.url,n));const{listeners:p}=de(a.attrs);t.value.on(p),re(s,t.value,e),l({...e,...s,leafletObject:t.value}),X(()=>a.emit("ready",t.value))}),{leafletObject:t}},render(){return null}}),pa={...pt},ma=(e,a)=>{const{options:t,methods:o}=mt(e,a),l=M(rt);return Oe(()=>{l()}),{options:t,methods:o}},fa=I({name:"LTooltip",props:pa,setup(e,a){const t=j(),o=j(null),l=ae(le),n=M(ot),{options:s,methods:u}=ma(e,t);return oe(async()=>{const{tooltip:p}=l?G.L:await V(()=>import("./leaflet-src.esm.NPgqU0nd.js"),__vite__mapDeps([]),import.meta.url);t.value=ie(p(s)),re(u,t.value,e);const{listeners:m}=de(a.attrs);t.value.on(m),t.value.setContent(e.content||o.value||""),n(t.value),X(()=>a.emit("ready",t.value))}),{root:o,leafletObject:t}},render(){return ft(this.$slots)}});({...Ne});const se=ce(P.ui.strategy,P.ui.chip,Mt),ba=I({inheritAttrs:!1,props:{size:{type:String,default:()=>se.default.size,validator(e){return Object.keys(se.size).includes(e)}},color:{type:String,default:()=>se.default.color,validator(e){return["gray",...P.ui.colors].includes(e)}},position:{type:String,default:()=>se.default.position,validator(e){return Object.keys(se.position).includes(e)}},text:{type:[String,Number],default:null},inset:{type:Boolean,default:()=>se.default.inset},show:{type:Boolean,default:!0},class:{type:[String,Object,Array],default:()=>""},ui:{type:Object,default:()=>({})}},setup(e){const{ui:a,attrs:t}=ye("chip",W(e,"ui"),se,W(e,"class")),o=v(()=>D(a.value.base,a.value.size[e.size],a.value.position[e.position],e.inset?null:a.value.translate[e.position],a.value.background.replaceAll("{color}",e.color)));return{ui:a,attrs:t,chipClass:o}}});function va(e,a,t,o,l,n){return w(),T("div",be({class:e.ui.wrapper},e.attrs),[fe(e.$slots,"default"),e.show?(w(),T("span",{key:0,class:R(e.chipClass)},[fe(e.$slots,"content",{},()=>[te(E(e.text),1)])],2)):J("",!0)],16)}const ga=Ae(ba,[["render",va]]),ya=ce(P.ui.strategy,P.ui.button,ht),ha=ce(P.ui.strategy,P.ui.buttonGroup,Vt),_a=I({name:"ButtonGroup",inheritAttrs:!1,props:{size:{type:String,default:null,validator(e){return Object.keys(ya.size).includes(e)}},orientation:{type:String,default:"horizontal",validator(e){return["horizontal","vertical"].includes(e)}},class:{type:[String,Object,Array],default:()=>""},ui:{type:Object,default:()=>({})}},setup(e,{slots:a}){const{ui:t,attrs:o}=ye("buttonGroup",W(e,"ui"),ha),l=v(()=>_t(a)),n=v(()=>ve(D(t.value.wrapper[e.orientation],t.value.rounded,t.value.shadow),e.class)),s=v(()=>t.value.orientation[t.value.rounded][e.orientation]);return wt({orientation:W(e,"orientation"),size:W(e,"size"),ui:t,rounded:s}),()=>ne("div",{class:n.value,...o.value},l.value)}}),wa=ce(P.ui.strategy,P.ui.divider,Dt),ka=I({components:{UIcon:je,UAvatar:He},inheritAttrs:!1,props:{label:{type:String,default:null},icon:{type:String,default:null},avatar:{type:Object,default:null},orientation:{type:String,default:"horizontal",validator:e=>["horizontal","vertical"].includes(e)},type:{type:String,default:"solid",validator:e=>["solid","dotted","dashed"].includes(e)},class:{type:[String,Object,Array],default:()=>""},ui:{type:Object,default:()=>({})}},setup(e){const{ui:a,attrs:t}=ye("divider",W(e,"ui"),wa),o=v(()=>ve(D(a.value.wrapper.base,a.value.wrapper[e.orientation]),e.class)),l=v(()=>D(a.value.container.base,a.value.container[e.orientation])),n=v(()=>D(a.value.border.base,a.value.border[e.orientation],a.value.border.size[e.orientation],a.value.border.type[e.type]));return{ui:a,attrs:t,wrapperClass:o,containerClass:l,borderClass:n}}});function xa(e,a,t,o,l,n){const s=je,u=He;return w(),T("div",be({class:e.wrapperClass},e.attrs),[x("div",{class:R(e.borderClass)},null,2),e.label||e.icon||e.avatar||e.$slots.default?(w(),T(ge,{key:0},[x("div",{class:R(e.containerClass)},[fe(e.$slots,"default",{},()=>[e.label?(w(),T("span",{key:0,class:R(e.ui.label)},E(e.label),3)):e.icon?(w(),q(s,{key:1,name:e.icon,class:R(e.ui.icon.base)},null,8,["name","class"])):e.avatar?(w(),q(u,be({key:2},{size:e.ui.avatar.size,...e.avatar},{class:e.ui.avatar.base}),null,16,["class"])):J("",!0)])],2),x("div",{class:R(e.borderClass)},null,2)],64)):J("",!0)],16)}const za=Ae(ka,[["render",xa]]),Ze=ce(P.ui.strategy,P.ui.checkbox,Nt),Sa=I({inheritAttrs:!1,props:{id:{type:String,default:()=>null},value:{type:[String,Number,Boolean,Object],default:null},modelValue:{type:[Boolean,Array],default:null},name:{type:String,default:null},disabled:{type:Boolean,default:!1},checked:{type:Boolean,default:!1},indeterminate:{type:Boolean,default:!1},help:{type:String,default:null},label:{type:String,default:null},required:{type:Boolean,default:!1},color:{type:String,default:()=>Ze.default.color,validator(e){return P.ui.colors.includes(e)}},inputClass:{type:String,default:""},class:{type:[String,Object,Array],default:()=>""},ui:{type:Object,default:()=>({})}},emits:["update:modelValue","change"],setup(e,{emit:a}){const{ui:t,attrs:o}=ye("checkbox",W(e,"ui"),Ze,W(e,"class")),{emitFormChange:l,color:n,name:s,inputId:u}=We(e),p=v({get(){return e.modelValue},set(d){a("update:modelValue",d)}}),m=d=>{a("change",d),l()},c=v(()=>ve(D(t.value.base,t.value.form,t.value.rounded,t.value.background,t.value.border,n.value&&t.value.ring.replaceAll("{color}",n.value),n.value&&t.value.color.replaceAll("{color}",n.value)),e.inputClass));return{ui:t,attrs:o,toggle:p,inputId:u,name:s,inputClass:c,onChange:m}}}),Ca=["id","name","required","value","disabled","checked","indeterminate"],La=["for"];function Oa(e,a,t,o,l,n){return w(),T("div",{class:R(e.ui.wrapper)},[x("div",{class:R(e.ui.container)},[Ve(x("input",be({id:e.inputId,"onUpdate:modelValue":a[0]||(a[0]=s=>e.toggle=s),name:e.name,required:e.required,value:e.value,disabled:e.disabled,checked:e.checked,indeterminate:e.indeterminate,type:"checkbox",class:e.inputClass},e.attrs,{onChange:a[1]||(a[1]=(...s)=>e.onChange&&e.onChange(...s))}),null,16,Ca),[[kt,e.toggle]])],2),e.label||e.$slots.label?(w(),T("div",{key:0,class:R(e.ui.inner)},[x("label",{for:e.inputId,class:R(e.ui.label)},[fe(e.$slots,"label",{},()=>[te(E(e.label),1)]),e.required?(w(),T("span",{key:0,class:R(e.ui.required)},"*",2)):J("",!0)],10,La),e.help?(w(),T("p",{key:0,class:R(e.ui.help)},E(e.help),3)):J("",!0)],2)):J("",!0)],2)}const Aa=Ae(Sa,[["render",Oa]]),Se=ce(P.ui.strategy,P.ui.range,Et),ja=I({inheritAttrs:!1,props:{modelValue:{type:Number,default:0},id:{type:String,default:null},name:{type:String,default:null},disabled:{type:Boolean,default:!1},min:{type:Number,default:0},max:{type:Number,default:100},step:{type:Number,default:1},size:{type:String,default:null,validator(e){return Object.keys(Se.size).includes(e)}},color:{type:String,default:()=>Se.default.color,validator(e){return P.ui.colors.includes(e)}},inputClass:{type:String,default:null},class:{type:[String,Object,Array],default:()=>""},ui:{type:Object,default:()=>({})}},emits:["update:modelValue","change"],setup(e,{emit:a}){const{ui:t,attrs:o}=ye("range",W(e,"ui"),Se),{emitFormChange:l,inputId:n,color:s,size:u,name:p}=We(e,Se),m=v({get(){return e.modelValue},set(h){a("update:modelValue",h)}}),c=h=>{a("change",h),l()},d=v(()=>ve(D(t.value.wrapper,t.value.size[u.value]),e.class)),z=v(()=>ve(D(t.value.base,t.value.background,t.value.rounded,s.value&&t.value.ring.replaceAll("{color}",s.value),t.value.size[u.value]),e.inputClass)),y=v(()=>D(t.value.thumb.base,s.value&&t.value.thumb.color.replaceAll("{color}",s.value),t.value.thumb.ring,t.value.thumb.background,t.value.thumb.size[u.value])),B=v(()=>D(t.value.track.base,t.value.track.background,t.value.track.rounded,t.value.track.size[u.value])),k=v(()=>D(t.value.progress.base,t.value.progress.rounded,s.value&&t.value.progress.background.replaceAll("{color}",s.value),t.value.progress.size[u.value])),g=v(()=>{const{modelValue:h,min:S,max:_}=e;return{width:`${(Math.max(S,Math.min(h,_))-S)/(_-S)*100}%`}});return{ui:t,attrs:o,name:p,inputId:n,value:m,wrapperClass:d,inputClass:z,thumbClass:y,trackClass:B,progressClass:k,progressStyle:g,onChange:c}}}),Ba=["id","name","min","max","disabled","step"];function Ta(e,a,t,o,l,n){return w(),T("div",{class:R(e.wrapperClass)},[Ve(x("input",be({id:e.inputId,ref:"input","onUpdate:modelValue":a[0]||(a[0]=s=>e.value=s),name:e.name,min:e.min,max:e.max,disabled:e.disabled,step:e.step,type:"range",class:[e.inputClass,e.thumbClass,e.trackClass]},e.attrs,{onChange:a[1]||(a[1]=(...s)=>e.onChange&&e.onChange(...s))}),null,16,Ba),[[xt,e.value,void 0,{number:!0}]]),x("span",{class:R(e.progressClass),style:zt(e.progressStyle)},null,6)],2)}const $a=Ae(ja,[["render",Ta]]),Ra={class:"overflow-y-scroll z-[100] relative h-full px-5 py-4 max-h-[calc(100vh-210px)] lg:max-h-[calc(100vh-139px)]"},Pa={class:"text-primary text-sm/6 font-semibold mb-2 flex items-center gap-x-2"},Ia={class:"flex flex-col gap-4 items-stretch"},Ua={class:"whitespace-nowrap flex items-center gap-x-1"},Va={class:"flex flex-col gap-2 items-stretch"},Ma={key:1,class:"italic text-sm tracking-wide opacity-60"},Na={class:"flex flex-col gap-1 mt-1"},Ea={class:"space-y-1"},Da={class:"italic text-sm tracking-wide opacity-60"},qa={class:"flex items-center gap-x-2"},Fa={class:"flex items-stretch gap-2"},Ga={class:"relative grow"},Za=I({__name:"FilterMap",props:{page:{},schema:{},entries:{}},setup(e,{expose:a}){const t=e,o=v(()=>s.query.tag),l=j(0),n=$e("timeAxis",()=>!1),s=St(),u=v(()=>g.value.length&&[[Math.min(...g.value.map(i=>i.meta.lat)),Math.min(...g.value.map(i=>i.meta.lng))],[Math.max(...g.value.map(i=>i.meta.lat)),Math.max(...g.value.map(i=>i.meta.lng))]]),p=v(()=>n.value?g.value.filter(({meta:i})=>{var r;return((r=i.jahre)==null?void 0:r.length)&&l.value>=Math.min(...i.jahre)&&l.value<=Math.max(...i.jahre)}):g.value),m=v(()=>p.value.length<y.value.length),c=v(()=>{const i={};for(const r in d.value)for(const f in d.value[r])i[f]=d.value[r][f]?k.value.filter(({meta:$})=>Y($,{...d.value,[r]:{...d.value[r],[f]:!1}})).length===p.value.length:p.value.every(({meta:$})=>{var N;return(N=$.filter[r])==null?void 0:N[f]});return i}),d=$e("filters",()=>U(t.schema.meta.filter)),z=v(()=>{const i={};for(const r in d.value)for(const f in d.value[r])i[f]=p.value.every(({meta:$})=>{var N;return!((N=$.filter[r])!=null&&N[f])});return i}),y=v(()=>t.entries.filter(({meta:i})=>(i==null?void 0:i.lng)&&i.lat)),B=v(()=>y.value.filter(({tags:i})=>!o.value||(i==null?void 0:i.includes(o.value)))),k=v(()=>_.value?B.value.filter(({meta:i})=>i.bundesland===_.value):B.value),g=v(()=>k.value.filter(({meta:i})=>Y(i,d.value))),h=v(()=>B.value.filter(({meta:i})=>Y(i,d.value))),S=v(()=>[{label:"Alle Bundesländer",value:""},...Array.from(t.entries.reduce((i,{meta:r})=>(r!=null&&r.bundesland&&i.add(r.bundesland),i),new Set)).map(i=>({label:i,value:i,disabled:!h.value.some(r=>r.meta.bundesland===i)}))]),_=$e("state",()=>""),C=v(()=>[...new Set([Math.min(...g.value.map(({meta:i})=>i.jahre&&Math.min(...i.jahre)).filter(Boolean)),Math.max(...g.value.map(({meta:i})=>i.jahre&&Math.max(...i.jahre)).filter(Boolean))])]);function K(){for(const i in d.value)for(const r in d.value[i])d.value[i][r]=!1;_.value="",n.value=!1,o.value&&Ot({path:s.path})}function U(i){return Object.keys(i).reduce((r,f)=>(Object.values(i[f])[0]===null?r[f]=!1:r[f]=U(i[f]),r),{})}function Y(i,r){var f;for(const $ in r)for(const N in r[$])if(r[$][N]&&!((f=i.filter[$])!=null&&f[N]))return!1;return!0}return Ce(()=>C.value,()=>{l.value=l.value?Math.min(C.value[1],Math.max(l.value,C.value[0])):C.value[1]},{immediate:!0}),a({bounds:u,filtered:p,filterActive:m}),(i,r)=>{const f=je,$=At,N=jt,ke=Je,Be=It,L=_a,Q=za,Ee=Aa,bt=$a;return w(),T("div",Ra,[fe(i.$slots,"default"),x("div",Pa,[te(" Filter "),b(m)?(w(),q(N,{key:0,text:"Zurücksetzen"},{default:A(()=>[O($,{class:"cursor-pointer",variant:"outline",onClick:K},{default:A(()=>[O(f,{name:"i-heroicons-minus",class:"text-md"})]),_:1})]),_:1})):J("",!0)]),x("div",Ia,[b(o)?(w(),q($,{key:0,size:"md",class:"pr-1 self-start"},{default:A(()=>[x("div",Ua,[te(E(b(o))+" ",1),O(ke,{icon:"i-heroicons-x-mark-20-solid",class:"text-md",padded:!1,to:b(s).path},null,8,["to"])])]),_:1})):J("",!0),O(L,null,{default:A(()=>[O(Be,{modelValue:b(_),"onUpdate:modelValue":r[0]||(r[0]=F=>Ct(_)?_.value=F:null),options:b(S)},null,8,["modelValue","options"]),b(_)?(w(),q(ke,{key:0,color:"gray",icon:"i-heroicons-x-mark-20-solid",onClick:r[1]||(r[1]=F=>_.value="")})):J("",!0)]),_:1}),x("div",Va,[(w(!0),T(ge,null,Le(b(d),(F,Te)=>(w(),T("div",{key:Te},[Te==="Effekt"?(w(),q(Q,{key:0,class:"mb-2"})):(w(),T("div",Ma,E(Te),1)),x("div",Na,[(w(!0),T(ge,null,Le(Object.keys(F),Z=>(w(),q(Ee,{key:Z,"model-value":F[Z]||b(p).length&&b(c)[Z]||!1,label:Z,disabled:b(z)[Z]||b(c)[Z],ui:b(z)[Z]||b(c)[Z]?{label:"text-gray-500 dark:text-gray-400 cursor-not-allowed"}:void 0,"onUpdate:modelValue":vt=>F[Z]=vt},null,8,["model-value","label","disabled","ui","onUpdate:modelValue"]))),128))])]))),128)),x("div",Ea,[x("div",Da,E(b(n)||b(C).length===1?"Jahr":"Zeitraum"),1),x("div",qa,[O(Ee,{"model-value":b(n)||b(C).length===1,disabled:b(C).length===1,ui:{wrapper:"items-center",inner:"grow"},"onUpdate:modelValue":r[2]||(r[2]=F=>n.value=F)},{label:A(()=>[x("div",Fa,[x("span",{class:R(["whitespace-nowrap",{"font-mono":b(n)}])},E(b(n)?b(l):b(C).join(" – ")),3)])]),_:1},8,["model-value","disabled"]),x("div",Ga,[Ve(O(bt,{"model-value":b(n)?b(l):b(C)[1],size:"xs",min:b(C)[0],max:b(C)[1],ui:b(n)?{progress:{background:"bg-gray-200 dark:bg-gray-700"}}:void 0,"onUpdate:modelValue":r[3]||(r[3]=F=>(l.value=F,n.value=!0))},null,8,["model-value","min","max","ui"]),[[Lt,b(C).length>1]])])])])])])])}}}),Ha={class:"flex relative"},Wa={class:"w-full min-h-[calc(100vh-210px)] lg:h-[calc(100vh-139px)]"},Ja={class:"font-semibold"},Xa={class:"font-semibold"},Ka={class:"flex gap-2"},Ya={class:"text-gray"},Qa={class:"absolute top-0 right-0 mt-1 transform sm:hidden"},lo=I({__name:"index",async setup(e){let a,t;const{data:o}=([a,t]=Re(()=>Pe("map-overview",()=>Ie("_map").findOne())),a=await a,t(),a),{data:l}=([a,t]=Re(()=>Pe("filters",()=>Ie("_schema").findOne())),a=await a,t(),a),{data:n}=([a,t]=Re(()=>Pe("map-entries",()=>Ie("map").without("body").find())),a=await a,t(),a),s=j(null),u=j(null),p=v(()=>{var k;return(k=s.value)==null?void 0:k.filtered}),m=v(()=>{var k;return(k=s.value)==null?void 0:k.bounds}),c=j(!1);let d;const z=j(null),y=j([]);async function B(){var g;const k=(g=z.value)==null?void 0:g.leafletObject;!k||!m.value||(d||(d=await V(()=>import("./entry.0gqKqSUW.js").then(h=>h.l),__vite__mapDeps([0,1]),import.meta.url)),k.fitBounds(m.value,{padding:[50,50]}))}return Ce([()=>{var k;return(k=z.value)==null?void 0:k.leafletObject},()=>m.value,()=>p.value],B),Bt({title:o.value.title,ogTitle:o.value.title,description:o.value.description,ogDescription:o.value.description}),(k,g)=>{const h=ca,S=fa,_=Je,C=ua,K=ra,U=ga,Y=Kt,i=Qt,r=Pt,f=Rt,$=Tt,N=$t,ke=je,Be=Za;return w(),T("div",Ha,[x("div",Wa,[O(N,null,{fallback:A(()=>[O($,{class:"mt-4"},{default:A(()=>[O(f,{orientation:"horizontal"},{default:A(()=>[(w(!0),T(ge,null,Le(b(p)||b(n),(L,Q)=>(w(),q(r,{key:Q,to:L._path,title:L.title,description:L.description,image:L.image,date:("formatDate"in k?k.formatDate:b(Ut))(L.date),badge:L.badge,orientation:"vertical"},null,8,["to","title","description","image","date","badge"]))),128))]),_:1})]),_:1})]),default:A(()=>[O(i,{ref_key:"mapRef",ref:z,"min-zoom":5,"max-zoom":10},{default:A(()=>[O(h,{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",attribution:'&copy; <a href="https://www.openstreetmap.org/">OpenStreetMap</a> contributors',"layer-type":"base",name:"OpenStreetMap"}),(w(!0),T(ge,null,Le(b(p),L=>(w(),q(K,{ref_for:!0,ref_key:"markerRef",ref:y,key:L._path,"lat-lng":[L.meta.lat,L.meta.lng],options:{autoPanOnFocus:!0}},{default:A(()=>[O(S,null,{default:A(()=>[te(E(L.meta.name)+", ",1),x("span",Ja,E(L.meta.ort),1)]),_:2},1024),O(C,null,{default:A(()=>[x("div",Xa,E(L.title),1),x("div",Ka,[x("div",Ya,E(L.description),1),O(_,{to:L._path,size:"sm",icon:"i-heroicons-arrow-right-20-solid",trailing:""},{default:A(()=>[te(" Mehr ")]),_:2},1032,["to"])])]),_:2},1024)]),_:2},1032,["lat-lng"]))),128)),O(Y,{position:"topright"},{default:A(()=>{var L;return[(L=b(s))!=null&&L.filterActive?(w(),q(U,{key:0,inset:"",color:"orange",class:"sm:hidden",size:"lg",ui:{base:"!ring-0"}},{default:A(()=>[O(_,{icon:"i-heroicons-funnel",onClick:g[0]||(g[0]=Q=>c.value=!0)},{default:A(()=>[te(" Filter ")]),_:1})]),_:1})):(w(),q(_,{key:1,icon:"i-heroicons-funnel",onClick:g[1]||(g[1]=Q=>c.value=!0)},{default:A(()=>[te(" Filter ")]),_:1}))]}),_:1}),O(Y,{position:"bottomleft"},{default:A(()=>[O(_,{ref_key:"centerButtonRef",ref:u,variant:"ghost",class:"bg-white text-black dark:text-black shadow-md dark:hover:bg-gray-100",icon:"i-heroicons-arrows-pointing-out",size:"xl",onClick:g[2]||(g[2]=L=>{var Q;return B(),(Q=b(u).value)==null?void 0:Q.blur()})},null,512)]),_:1})]),_:1},512)]),_:1})]),x("div",{class:R(["absolute sm:relative top-[65] right-0 z-[1000] h-full min-w-fit transition-transform",b(c)?"":"transform translate-x-full sm:translate-x-0"])},[O(Be,{ref_key:"filterMapRef",ref:s,page:b(o),schema:b(l),entries:b(n),shadow:!1,rounded:!1,class:"sm:relative bg-background"},{default:A(()=>[x("div",Qa,[O(_,{variant:"ghost",color:"white",onClick:g[3]||(g[3]=L=>c.value=!1)},{default:A(()=>[O(ke,{name:"i-heroicons-chevron-right",class:"text-2xl"})]),_:1})])]),_:1},8,["page","schema","entries"])],2)])}}});export{lo as default};
function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = ["./entry.0gqKqSUW.js","./entry.2p9d7H8O.css"]
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}
