import{d as N,ah as D,ai as C,b as a,c as o,e as l,n as c,aB as t,ac as p,f as g,g as m,aa as A,a$ as I,ad as x,t as k,F as v,a8 as B,a9 as S,a4 as L,ag as O,v as q,y as H,aD as P,aE as M,aF as Z,w as _,aq as G,aG as j,b0 as K,s as z,aL as X}from"./entry.0nGgSXsd.js";import{_ as J,a as Q}from"./DocsSurround.vue.kH4p5VPB.js";import W from"./ContentRenderer.heQTDz0w.js";import{_ as Y}from"./PageBody.vue.d7kRqYov.js";import"./ContentRendererMarkdown.vue.7OiADieo.js";import"./MDCRenderer.JlO_PS9h.js";import"./index.Wme0U9j4.js";const ee={class:"relative"},te=N({inheritAttrs:!1,__name:"Aside",props:{links:{},ui:{},class:{}},setup($){const r={wrapper:"hidden overflow-y-auto lg:block lg:max-h-[calc(100vh-var(--header-height))] lg:sticky lg:top-[--header-height] py-8 lg:px-4 lg:-mx-4",top:{wrapper:"sticky -top-8 -mt-8 pointer-events-none z-[1]",header:"h-8 bg-background -mx-4 px-4",body:"bg-background relative pointer-events-auto flex -mx-4 px-4",footer:"h-8 bg-gradient-to-b from-background -mx-4 px-4"}},d=$,{ui:s,attrs:u}=D("aside",C(d,"ui"),r,C(d,"class"),!0);return(e,b)=>{const n=I;return a(),o("aside",A({class:t(s).wrapper},t(u)),[l("div",ee,[e.$slots.top?(a(),o("div",{key:0,class:c(t(s).top.wrapper)},[l("div",{class:c(t(s).top.header)},null,2),l("div",{class:c(t(s).top.body)},[p(e.$slots,"top")],2),l("div",{class:c(t(s).top.footer)},null,2)],2)):g("",!0),p(e.$slots,"links",{},()=>[m(n,{links:e.links},null,8,["links"])]),p(e.$slots,"default"),p(e.$slots,"bottom")])],16)}}}),se={class:"flex flex-col lg:flex-row items-start gap-6"},ae={class:"flex-1"},oe=N({inheritAttrs:!1,__name:"PageHeader",props:{headline:{default:void 0},title:{default:""},description:{default:""},icon:{default:void 0},links:{default:()=>[]},ui:{default:()=>({})},class:{default:void 0}},setup($){const r={wrapper:"relative border-b border-gray-200 dark:border-gray-800 py-8",container:"flex flex-col lg:flex-row lg:items-center lg:justify-between",headline:"mb-4 text-sm font-semibold text-primary flex items-center gap-1.5",title:"text-3xl sm:text-4xl font-bold text-gray-900 dark:text-white tracking-tight",description:"mt-4 text-lg text-gray-500 dark:text-gray-400",icon:{wrapper:"flex",base:"w-10 h-10 flex-shrink-0 text-primary"},links:"flex flex-wrap items-center gap-1.5 mt-4 lg:mt-0"},d=$,{ui:s,attrs:u}=D("page.header",C(d,"ui"),r,C(d,"class"),!0);return(e,b)=>{var y;const n=L,f=O;return a(),o("div",A({class:t(s).wrapper},t(u)),[e.headline||e.$slots.headline?(a(),o("div",{key:0,class:c(t(s).headline)},[p(e.$slots,"headline",{},()=>[x(k(e.headline),1)])],2)):g("",!0),l("div",se,[e.icon||e.$slots.icon?(a(),o("div",{key:0,class:c(t(s).icon.wrapper)},[p(e.$slots,"icon",{},()=>[m(n,{name:e.icon,class:c(t(s).icon.base)},null,8,["name","class"])])],2)):g("",!0),l("div",ae,[l("div",{class:c(t(s).container)},[l("h1",{class:c(t(s).title)},[p(e.$slots,"title",{},()=>[x(k(e.title),1)])],2),(y=e.links)!=null&&y.length||e.$slots.links?(a(),o("div",{key:0,class:c(t(s).links)},[p(e.$slots,"links",{},()=>[(a(!0),o(v,null,B(e.links,(h,U)=>(a(),S(f,A({key:U},{...h,target:h.target||"_blank",color:h.color||"white"},{onClick:h.click}),null,16,["onClick"]))),128))])],2)):g("",!0)],2),e.description||e.$slots.description?(a(),o("p",{key:0,class:c(t(s).description)},[p(e.$slots,"description",{},()=>[x(k(e.description),1)])],2)):g("",!0),p(e.$slots,"default")])])],16)}}}),ne=l("div",{class:"mb-3"}," Schlagworte ",-1),re={class:"flex flex-col gap-y-2 text-sm"},ie={key:0},le={class:"text-primary font-semibold capitalize"},ce={key:0},de={key:1},ke=N({__name:"[...slug]",async setup($){let r,d;const s=q(),{seo:u}=H(),{data:e}=([r,d]=P(()=>j(s.path,()=>z(s.path).findOne(),"$g9rZZjXO3T")),r=await r,d(),r);if(!e.value)throw M({statusCode:404,statusMessage:"Page not found",fatal:!0});e.value.meta.jahre&&(e.value.meta.zeitraum=e.value.meta.jahre.reduce((n,f)=>(!n.length||f>n.at(-1).at(-1)+1?n.push([f]):n.at(-1)[1]=f,n),[]).map(n=>n.length>1?n.join(" – "):n[0]));const{data:b}=([r,d]=P(()=>j(`${s.path}-surround`,()=>z("map").where({_extension:"md",navigation:{$ne:!1}}).only(["title","description","_path"]).findSurround(X(s.path)))),r=await r,d(),r);return Z({titleTemplate:`%s - ${u==null?void 0:u.siteName}`,title:e.value.title,ogTitle:`${e.value.title} - ${u==null?void 0:u.siteName}`,description:e.value.description,ogDescription:e.value.description}),(n,f)=>{const y=te,h=J,U=oe,R=W,T=Q,V=Y,E=K;return a(),S(E,null,{left:_(()=>{var i;return[m(y,{links:(i=t(e).tags)==null?void 0:i.map(w=>({label:w,to:`/map?tag=${encodeURIComponent(w)}`,icon:"i-heroicons-tag"})),ui:{top:""}},G({_:2},[t(e).tags?{name:"top",fn:_(()=>[ne]),key:"0"}:void 0]),1032,["links"])]}),right:_(()=>[m(y,null,{default:_(()=>[l("dl",re,[(a(),o(v,null,B(["bundesland","ort","träger","zeitraum","Organisationen"],i=>(a(),o(v,{key:i},[t(e).meta[i]?(a(),o("div",ie,[l("dt",le,k(i),1),l("dd",null,[Array.isArray(t(e).meta[i])?(a(),o("ul",ce,[(a(!0),o(v,null,B(t(e).meta[i],(w,F)=>(a(),o("li",{key:F,class:"mb-2"},k(w),1))),128))])):(a(),o(v,{key:1},[x(k(t(e).meta[i]),1)],64))])])):g("",!0)],64))),64))])]),_:1})]),default:_(()=>[m(U,{title:t(e).title,description:t(e).description},{headline:_(()=>[m(h,{links:[{label:"Karte",icon:"i-heroicons-map",to:"/map"}]})]),_:1},8,["title","description"]),m(V,{prose:""},{default:_(()=>{var i;return[t(e).body?(a(),S(R,{key:0,value:t(e),class:"max-w-xl"},null,8,["value"])):g("",!0),(i=t(b))!=null&&i.length?(a(),o("hr",de)):g("",!0),m(T,{surround:t(b)},null,8,["surround"])]}),_:1})]),_:1})}}});export{ke as default};
