import{D as ve,E as Ue,r as B,G as A,d as oe,H as Y,B as T,I as j,J as bt,K as yt,L as xt,M as ge,o as pe,N as se,O as Ne,P as St,Q as It,R as Ot,S as Ie,U as He,F as me,V as Le,W as be,X as kt,Y as wt,Z as Mt,$ as Ct,a0 as q,a1 as ze,a as At,a2 as Rt,a3 as H,m as We,a4 as Oe,a5 as qe,a6 as Ge,a7 as de,b as P,c as K,n as _,t as Q,f as z,e as Z,a8 as ye,a9 as D,w as ie,aa as re,ab as xe,ac as Et,j as $t,ad as Pt,ae as Te,af as Ye,ag as Xe,ah as Me,ai as Je,aj as Qe,ak as Lt,al as _t,g as Ze,am as Nt,an as Tt,ao as Bt,ap as Ft,aq as et,ar as jt,u as Vt,z as Kt,as as Dt,at as Ut,au as Ht,av as zt,aw as G,ax as Wt,ay as qt}from"./entry.XgI6RlEz.js";function Gt(e){throw new Error("Unexpected object: "+e)}var F=(e=>(e[e.First=0]="First",e[e.Previous=1]="Previous",e[e.Next=2]="Next",e[e.Last=3]="Last",e[e.Specific=4]="Specific",e[e.Nothing=5]="Nothing",e))(F||{});function Yt(e,t){let n=t.resolveItems();if(n.length<=0)return null;let r=t.resolveActiveIndex(),a=r??-1,o=(()=>{switch(e.focus){case 0:return n.findIndex(i=>!t.resolveDisabled(i));case 1:{let i=n.slice().reverse().findIndex((l,u,d)=>a!==-1&&d.length-u-1>=a?!1:!t.resolveDisabled(l));return i===-1?i:n.length-1-i}case 2:return n.findIndex((i,l)=>l<=a?!1:!t.resolveDisabled(i));case 3:{let i=n.slice().reverse().findIndex(l=>!t.resolveDisabled(l));return i===-1?i:n.length-1-i}case 4:return n.findIndex(i=>t.resolveId(i)===e.id);case 5:return null;default:Gt(e)}})();return o===-1?r:o}function Xt({container:e,accept:t,walk:n,enabled:r}){ve(()=>{let a=e.value;if(!a||r!==void 0&&!r.value)return;let o=Ue(e);if(!o)return;let i=Object.assign(u=>t(u),{acceptNode:t}),l=o.createTreeWalker(a,NodeFilter.SHOW_ELEMENT,i,!1);for(;l.nextNode();)n(l.currentNode)})}function tt(e={},t=null,n=[]){for(let[r,a]of Object.entries(e))ot(n,nt(t,r),a);return n}function nt(e,t){return e?e+"["+t+"]":t}function ot(e,t,n){if(Array.isArray(n))for(let[r,a]of n.entries())ot(e,nt(t,r.toString()),a);else n instanceof Date?e.push([t,n.toISOString()]):typeof n=="boolean"?e.push([t,n?"1":"0"]):typeof n=="string"?e.push([t,n]):typeof n=="number"?e.push([t,`${n}`]):n==null?e.push([t,""]):tt(n,t,e)}function Jt(e,t,n){let r=B(n==null?void 0:n.value),a=A(()=>e.value!==void 0);return[A(()=>a.value?e.value:r.value),function(o){return a.value||(r.value=o),t==null?void 0:t(o)}]}function Be(e){return[e.screenX,e.screenY]}function Qt(){let e=B([-1,-1]);return{wasMoved(t){let n=Be(t);return e.value[0]===n[0]&&e.value[1]===n[1]?!1:(e.value=n,!0)},update(t){e.value=Be(t)}}}function Zt(e,t){return e===t}var en=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(en||{}),tn=(e=>(e[e.Single=0]="Single",e[e.Multi=1]="Multi",e))(tn||{}),nn=(e=>(e[e.Pointer=0]="Pointer",e[e.Other=1]="Other",e))(nn||{});let at=Symbol("ComboboxContext");function ke(e){let t=wt(at,null);if(t===null){let n=new Error(`<${e} /> is missing a parent <Combobox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,ke),n}return t}let on=oe({name:"Combobox",emits:{"update:modelValue":e=>!0},props:{as:{type:[Object,String],default:"template"},disabled:{type:[Boolean],default:!1},by:{type:[String,Function],default:()=>Zt},modelValue:{type:[Object,String,Number,Boolean],default:void 0},defaultValue:{type:[Object,String,Number,Boolean],default:void 0},form:{type:String,optional:!0},name:{type:String,optional:!0},nullable:{type:Boolean,default:!1},multiple:{type:[Boolean],default:!1}},inheritAttrs:!1,setup(e,{slots:t,attrs:n,emit:r}){let a=B(1),o=B(null),i=B(null),l=B(null),u=B(null),d=B({static:!1,hold:!1}),s=B([]),p=B(null),h=B(1),x=B(!1);function I(y=c=>c){let c=p.value!==null?s.value[p.value]:null,f=Mt(y(s.value.slice()),b=>j(b.dataRef.domRef)),v=c?f.indexOf(c):null;return v===-1&&(v=null),{options:f,activeOptionIndex:v}}let w=A(()=>e.multiple?1:0),M=A(()=>e.nullable),[g,E]=Jt(A(()=>e.modelValue),y=>r("update:modelValue",y),A(()=>e.defaultValue)),R=A(()=>g.value===void 0?Y(w.value,{1:[],0:void 0}):g.value),L=null,$=null,k={comboboxState:a,value:R,mode:w,compare(y,c){if(typeof e.by=="string"){let f=e.by;return(y==null?void 0:y[f])===(c==null?void 0:c[f])}return e.by(y,c)},defaultValue:A(()=>e.defaultValue),nullable:M,inputRef:i,labelRef:o,buttonRef:l,optionsRef:u,disabled:A(()=>e.disabled),options:s,change(y){E(y)},activeOptionIndex:A(()=>{if(x.value&&p.value===null&&s.value.length>0){let y=s.value.findIndex(c=>!c.dataRef.disabled);y!==-1&&(p.value=y)}return p.value}),activationTrigger:h,optionsPropsRef:d,closeCombobox(){x.value=!1,!e.disabled&&a.value!==1&&(a.value=1,p.value=null)},openCombobox(){if(x.value=!0,e.disabled||a.value===0)return;let y=s.value.findIndex(c=>{let f=T(c.dataRef.value);return Y(w.value,{0:()=>k.compare(T(k.value.value),T(f)),1:()=>T(k.value.value).some(v=>k.compare(T(v),T(f)))})});y!==-1&&(p.value=y),a.value=0},goToOption(y,c,f){x.value=!1,L!==null&&cancelAnimationFrame(L),L=requestAnimationFrame(()=>{if(e.disabled||u.value&&!d.value.static&&a.value===1)return;let v=I();if(v.activeOptionIndex===null){let m=v.options.findIndex(N=>!N.dataRef.disabled);m!==-1&&(v.activeOptionIndex=m)}let b=Yt(y===F.Specific?{focus:F.Specific,id:c}:{focus:y},{resolveItems:()=>v.options,resolveActiveIndex:()=>v.activeOptionIndex,resolveId:m=>m.id,resolveDisabled:m=>m.dataRef.disabled});p.value=b,h.value=f??1,s.value=v.options})},selectOption(y){let c=s.value.find(v=>v.id===y);if(!c)return;let{dataRef:f}=c;E(Y(w.value,{0:()=>f.value,1:()=>{let v=T(k.value.value).slice(),b=T(f.value),m=v.findIndex(N=>k.compare(b,T(N)));return m===-1?v.push(b):v.splice(m,1),v}}))},selectActiveOption(){if(k.activeOptionIndex.value===null)return;let{dataRef:y,id:c}=s.value[k.activeOptionIndex.value];E(Y(w.value,{0:()=>y.value,1:()=>{let f=T(k.value.value).slice(),v=T(y.value),b=f.findIndex(m=>k.compare(v,T(m)));return b===-1?f.push(v):f.splice(b,1),f}})),k.goToOption(F.Specific,c)},registerOption(y,c){$&&cancelAnimationFrame($);let f={id:y,dataRef:c},v=I(b=>(b.push(f),b));if(p.value===null){let b=c.value.value;Y(w.value,{0:()=>k.compare(T(k.value.value),T(b)),1:()=>T(k.value.value).some(m=>k.compare(T(m),T(b)))})&&(v.activeOptionIndex=v.options.indexOf(f))}s.value=v.options,p.value=v.activeOptionIndex,h.value=1,v.options.some(b=>!j(b.dataRef.domRef))&&($=requestAnimationFrame(()=>{let b=I();s.value=b.options,p.value=b.activeOptionIndex}))},unregisterOption(y){var c;k.activeOptionIndex.value!==null&&((c=k.options.value[k.activeOptionIndex.value])==null?void 0:c.id)===y&&(x.value=!0);let f=I(v=>{let b=v.findIndex(m=>m.id===y);return b!==-1&&v.splice(b,1),v});s.value=f.options,p.value=f.activeOptionIndex,h.value=1}};bt([i,l,u],()=>k.closeCombobox(),A(()=>a.value===0)),yt(at,k),xt(A(()=>Y(a.value,{0:ge.Open,1:ge.Closed})));let S=A(()=>k.activeOptionIndex.value===null?null:s.value[k.activeOptionIndex.value].dataRef.value),C=A(()=>{var y;return(y=j(i))==null?void 0:y.closest("form")});return pe(()=>{se([C],()=>{if(!C.value||e.defaultValue===void 0)return;function y(){k.change(e.defaultValue)}return C.value.addEventListener("reset",y),()=>{var c;(c=C.value)==null||c.removeEventListener("reset",y)}},{immediate:!0})}),()=>{let{name:y,disabled:c,form:f,...v}=e,b={open:a.value===0,disabled:c,activeIndex:k.activeOptionIndex.value,activeOption:S.value,value:R.value};return Ne(me,[...y!=null&&R.value!=null?tt({[y]:R.value}).map(([m,N])=>Ne(St,It({features:Ot.Hidden,key:m,as:"input",type:"hidden",hidden:!0,readOnly:!0,form:f,name:m,value:N}))):[],Ie({theirProps:{...n,...He(v,["modelValue","defaultValue","nullable","multiple","onUpdate:modelValue","by"])},ourProps:{},slot:b,slots:t,attrs:n,name:"Combobox"})])}}}),an=oe({name:"ComboboxInput",props:{as:{type:[Object,String],default:"input"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0},displayValue:{type:Function},defaultValue:{type:String,default:void 0},id:{type:String,default:()=>`headlessui-combobox-input-${Le()}`}},emits:{change:e=>!0},setup(e,{emit:t,attrs:n,slots:r,expose:a}){let o=ke("ComboboxInput"),i=A(()=>Ue(j(o.inputRef))),l={value:!1};a({el:o.inputRef,$el:o.inputRef});function u(){o.change(null);let g=j(o.optionsRef);g&&(g.scrollTop=0),o.goToOption(F.Nothing)}let d=A(()=>{var g;let E=o.value.value;return j(o.inputRef)?typeof e.displayValue<"u"&&E!==void 0?(g=e.displayValue(E))!=null?g:"":typeof E=="string"?E:"":""});pe(()=>{se([d,o.comboboxState,i],([g,E],[R,L])=>{if(l.value)return;let $=j(o.inputRef);$&&((L===0&&E===1||g!==R)&&($.value=g),requestAnimationFrame(()=>{var k;if(l.value||!$||((k=i.value)==null?void 0:k.activeElement)!==$)return;let{selectionStart:S,selectionEnd:C}=$;Math.abs((C??0)-(S??0))===0&&S===0&&$.setSelectionRange($.value.length,$.value.length)}))},{immediate:!0}),se([o.comboboxState],([g],[E])=>{if(g===0&&E===1){if(l.value)return;let R=j(o.inputRef);if(!R)return;let L=R.value,{selectionStart:$,selectionEnd:k,selectionDirection:S}=R;R.value="",R.value=L,S!==null?R.setSelectionRange($,k,S):R.setSelectionRange($,k)}})});let s=B(!1);function p(){s.value=!0}function h(){Ct().nextFrame(()=>{s.value=!1})}function x(g){switch(l.value=!0,g.key){case q.Enter:if(l.value=!1,o.comboboxState.value!==0||s.value)return;if(g.preventDefault(),g.stopPropagation(),o.activeOptionIndex.value===null){o.closeCombobox();return}o.selectActiveOption(),o.mode.value===0&&o.closeCombobox();break;case q.ArrowDown:return l.value=!1,g.preventDefault(),g.stopPropagation(),Y(o.comboboxState.value,{0:()=>o.goToOption(F.Next),1:()=>o.openCombobox()});case q.ArrowUp:return l.value=!1,g.preventDefault(),g.stopPropagation(),Y(o.comboboxState.value,{0:()=>o.goToOption(F.Previous),1:()=>{o.openCombobox(),ze(()=>{o.value.value||o.goToOption(F.Last)})}});case q.Home:if(g.shiftKey)break;return l.value=!1,g.preventDefault(),g.stopPropagation(),o.goToOption(F.First);case q.PageUp:return l.value=!1,g.preventDefault(),g.stopPropagation(),o.goToOption(F.First);case q.End:if(g.shiftKey)break;return l.value=!1,g.preventDefault(),g.stopPropagation(),o.goToOption(F.Last);case q.PageDown:return l.value=!1,g.preventDefault(),g.stopPropagation(),o.goToOption(F.Last);case q.Escape:if(l.value=!1,o.comboboxState.value!==0)return;g.preventDefault(),o.optionsRef.value&&!o.optionsPropsRef.value.static&&g.stopPropagation(),o.nullable.value&&o.mode.value===0&&o.value.value===null&&u(),o.closeCombobox();break;case q.Tab:if(l.value=!1,o.comboboxState.value!==0)return;o.mode.value===0&&o.selectActiveOption(),o.closeCombobox();break}}function I(g){t("change",g),o.nullable.value&&o.mode.value===0&&g.target.value===""&&u(),o.openCombobox()}function w(){l.value=!1}let M=A(()=>{var g,E,R,L;return(L=(R=(E=e.defaultValue)!=null?E:o.defaultValue.value!==void 0?(g=e.displayValue)==null?void 0:g.call(e,o.defaultValue.value):null)!=null?R:o.defaultValue.value)!=null?L:""});return()=>{var g,E,R,L,$,k;let S={open:o.comboboxState.value===0},{id:C,displayValue:y,onChange:c,...f}=e,v={"aria-controls":(g=o.optionsRef.value)==null?void 0:g.id,"aria-expanded":o.comboboxState.value===0,"aria-activedescendant":o.activeOptionIndex.value===null||(E=o.options.value[o.activeOptionIndex.value])==null?void 0:E.id,"aria-labelledby":($=(R=j(o.labelRef))==null?void 0:R.id)!=null?$:(L=j(o.buttonRef))==null?void 0:L.id,"aria-autocomplete":"list",id:C,onCompositionstart:p,onCompositionend:h,onKeydown:x,onInput:I,onBlur:w,role:"combobox",type:(k=n.type)!=null?k:"text",tabIndex:0,ref:o.inputRef,defaultValue:M.value,disabled:o.disabled.value===!0?!0:void 0};return Ie({ourProps:v,theirProps:f,slot:S,attrs:n,slots:r,features:be.RenderStrategy|be.Static,name:"ComboboxInput"})}}}),rn=oe({name:"ComboboxOptions",props:{as:{type:[Object,String],default:"ul"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0},hold:{type:[Boolean],default:!1}},setup(e,{attrs:t,slots:n,expose:r}){let a=ke("ComboboxOptions"),o=`headlessui-combobox-options-${Le()}`;r({el:a.optionsRef,$el:a.optionsRef}),ve(()=>{a.optionsPropsRef.value.static=e.static}),ve(()=>{a.optionsPropsRef.value.hold=e.hold});let i=kt(),l=A(()=>i!==null?(i.value&ge.Open)===ge.Open:a.comboboxState.value===0);return Xt({container:A(()=>j(a.optionsRef)),enabled:A(()=>a.comboboxState.value===0),accept(u){return u.getAttribute("role")==="option"?NodeFilter.FILTER_REJECT:u.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT},walk(u){u.setAttribute("role","none")}}),()=>{var u,d,s;let p={open:a.comboboxState.value===0},h={"aria-labelledby":(s=(u=j(a.labelRef))==null?void 0:u.id)!=null?s:(d=j(a.buttonRef))==null?void 0:d.id,id:o,ref:a.optionsRef,role:"listbox","aria-multiselectable":a.mode.value===1?!0:void 0},x=He(e,["hold"]);return Ie({ourProps:h,theirProps:x,slot:p,attrs:t,slots:n,features:be.RenderStrategy|be.Static,visible:l.value,name:"ComboboxOptions"})}}}),sn=oe({name:"ComboboxOption",props:{as:{type:[Object,String],default:"li"},value:{type:[Object,String,Number,Boolean]},disabled:{type:Boolean,default:!1}},setup(e,{slots:t,attrs:n,expose:r}){let a=ke("ComboboxOption"),o=`headlessui-combobox-option-${Le()}`,i=B(null);r({el:i,$el:i});let l=A(()=>a.activeOptionIndex.value!==null?a.options.value[a.activeOptionIndex.value].id===o:!1),u=A(()=>Y(a.mode.value,{0:()=>a.compare(T(a.value.value),T(e.value)),1:()=>T(a.value.value).some(M=>a.compare(T(M),T(e.value)))})),d=A(()=>({disabled:e.disabled,value:e.value,domRef:i}));pe(()=>a.registerOption(o,d)),At(()=>a.unregisterOption(o)),ve(()=>{a.comboboxState.value===0&&l.value&&a.activationTrigger.value!==0&&ze(()=>{var M,g;return(g=(M=j(i))==null?void 0:M.scrollIntoView)==null?void 0:g.call(M,{block:"nearest"})})});function s(M){if(e.disabled)return M.preventDefault();a.selectOption(o),a.mode.value===0&&a.closeCombobox(),Rt()||requestAnimationFrame(()=>{var g;return(g=j(a.inputRef))==null?void 0:g.focus()})}function p(){if(e.disabled)return a.goToOption(F.Nothing);a.goToOption(F.Specific,o)}let h=Qt();function x(M){h.update(M)}function I(M){h.wasMoved(M)&&(e.disabled||l.value||a.goToOption(F.Specific,o,0))}function w(M){h.wasMoved(M)&&(e.disabled||l.value&&(a.optionsPropsRef.value.hold||a.goToOption(F.Nothing)))}return()=>{let{disabled:M}=e,g={active:l.value,selected:u.value,disabled:M},E={id:o,ref:i,role:"option",tabIndex:M===!0?void 0:-1,"aria-disabled":M===!0?!0:void 0,"aria-selected":u.value,disabled:void 0,onClick:s,onFocus:p,onPointerenter:x,onMouseenter:x,onPointermove:I,onMousemove:I,onPointerleave:w,onMouseleave:w};return Ie({ourProps:E,theirProps:e,slot:g,attrs:n,slots:t,name:"ComboboxOption"})}}});const ln={wrapper:"flex flex-col flex-1 min-h-0 divide-y divide-gray-100 dark:divide-gray-800",container:"relative flex-1 overflow-y-auto divide-y divide-gray-100 dark:divide-gray-800 scroll-py-2",input:{wrapper:"relative flex items-center",base:"w-full placeholder-gray-400 dark:placeholder-gray-500 bg-transparent border-0 text-gray-900 dark:text-white focus:ring-0 focus:outline-none",padding:"px-4",height:"h-12",size:"sm:text-sm",icon:{base:"pointer-events-none absolute start-4 text-gray-400 dark:text-gray-500",loading:"animate-spin",size:"h-4 w-4",padding:"ps-10"},closeButton:{base:"absolute end-4",padding:"pe-10"}},emptyState:{wrapper:"flex flex-col items-center justify-center flex-1 px-6 py-14 sm:px-14",label:"text-sm text-center text-gray-900 dark:text-white",queryLabel:"text-sm text-center text-gray-900 dark:text-white",icon:"w-6 h-6 mx-auto text-gray-400 dark:text-gray-500 mb-4"},group:{wrapper:"p-2",label:"px-2 my-2 text-xs font-semibold text-gray-900 dark:text-white",container:"text-sm text-gray-700 dark:text-gray-200",command:{base:"flex justify-between select-none items-center rounded-md px-2 py-1.5 gap-2 relative",active:"bg-gray-100 dark:bg-gray-800 text-gray-900 dark:text-white",inactive:"",label:"flex items-center gap-1.5 min-w-0",prefix:"text-gray-400 dark:text-gray-500",suffix:"text-gray-400 dark:text-gray-500",container:"flex items-center gap-2 min-w-0",icon:{base:"flex-shrink-0 w-4 h-4",active:"text-gray-900 dark:text-white",inactive:"text-gray-400 dark:text-gray-500"},selectedIcon:{base:"h-4 w-4 text-gray-900 dark:text-white flex-shrink-0"},avatar:{base:"flex-shrink-0",size:"3xs"},chip:{base:"flex-shrink-0 w-2 h-2 mx-1 rounded-full"},disabled:"opacity-50",shortcuts:"hidden md:inline-flex flex-shrink-0 gap-0.5"},active:"flex-shrink-0 text-gray-500 dark:text-gray-400",inactive:"flex-shrink-0 text-gray-500 dark:text-gray-400"},default:{icon:"i-heroicons-magnifying-glass-20-solid",loadingIcon:"i-heroicons-arrow-path-20-solid",emptyState:{icon:"i-heroicons-magnifying-glass-20-solid",label:"We couldn't find any items.",queryLabel:"We couldn't find any items with that term. Please try again."},closeButton:null,selectedIcon:"i-heroicons-check-20-solid"}};function X(e){return Array.isArray?Array.isArray(e):st(e)==="[object Array]"}const un=1/0;function cn(e){if(typeof e=="string")return e;let t=e+"";return t=="0"&&1/e==-un?"-0":t}function dn(e){return e==null?"":cn(e)}function W(e){return typeof e=="string"}function rt(e){return typeof e=="number"}function pn(e){return e===!0||e===!1||fn(e)&&st(e)=="[object Boolean]"}function it(e){return typeof e=="object"}function fn(e){return it(e)&&e!==null}function V(e){return e!=null}function we(e){return!e.trim().length}function st(e){return e==null?e===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(e)}const hn="Incorrect 'index' type",vn=e=>`Invalid value for key ${e}`,gn=e=>`Pattern length exceeds max of ${e}.`,mn=e=>`Missing ${e} property in key`,bn=e=>`Property 'weight' in key '${e}' must be a positive integer`,Fe=Object.prototype.hasOwnProperty;class yn{constructor(t){this._keys=[],this._keyMap={};let n=0;t.forEach(r=>{let a=lt(r);n+=a.weight,this._keys.push(a),this._keyMap[a.id]=a,n+=a.weight}),this._keys.forEach(r=>{r.weight/=n})}get(t){return this._keyMap[t]}keys(){return this._keys}toJSON(){return JSON.stringify(this._keys)}}function lt(e){let t=null,n=null,r=null,a=1,o=null;if(W(e)||X(e))r=e,t=je(e),n=Ce(e);else{if(!Fe.call(e,"name"))throw new Error(mn("name"));const i=e.name;if(r=i,Fe.call(e,"weight")&&(a=e.weight,a<=0))throw new Error(bn(i));t=je(i),n=Ce(i),o=e.getFn}return{path:t,id:n,weight:a,src:r,getFn:o}}function je(e){return X(e)?e:e.split(".")}function Ce(e){return X(e)?e.join("."):e}function xn(e,t){let n=[],r=!1;const a=(o,i,l)=>{if(V(o))if(!i[l])n.push(o);else{let u=i[l];const d=o[u];if(!V(d))return;if(l===i.length-1&&(W(d)||rt(d)||pn(d)))n.push(dn(d));else if(X(d)){r=!0;for(let s=0,p=d.length;s<p;s+=1)a(d[s],i,l+1)}else i.length&&a(d,i,l+1)}};return a(e,W(t)?t.split("."):t,0),r?n:n[0]}const Sn={includeMatches:!1,findAllMatches:!1,minMatchCharLength:1},In={isCaseSensitive:!1,includeScore:!1,keys:[],shouldSort:!0,sortFn:(e,t)=>e.score===t.score?e.idx<t.idx?-1:1:e.score<t.score?-1:1},On={location:0,threshold:.6,distance:100},kn={useExtendedSearch:!1,getFn:xn,ignoreLocation:!1,ignoreFieldNorm:!1,fieldNormWeight:1};var O={...In,...Sn,...On,...kn};const wn=/[^ ]+/g;function Mn(e=1,t=3){const n=new Map,r=Math.pow(10,t);return{get(a){const o=a.match(wn).length;if(n.has(o))return n.get(o);const i=1/Math.pow(o,.5*e),l=parseFloat(Math.round(i*r)/r);return n.set(o,l),l},clear(){n.clear()}}}class _e{constructor({getFn:t=O.getFn,fieldNormWeight:n=O.fieldNormWeight}={}){this.norm=Mn(n,3),this.getFn=t,this.isCreated=!1,this.setIndexRecords()}setSources(t=[]){this.docs=t}setIndexRecords(t=[]){this.records=t}setKeys(t=[]){this.keys=t,this._keysMap={},t.forEach((n,r)=>{this._keysMap[n.id]=r})}create(){this.isCreated||!this.docs.length||(this.isCreated=!0,W(this.docs[0])?this.docs.forEach((t,n)=>{this._addString(t,n)}):this.docs.forEach((t,n)=>{this._addObject(t,n)}),this.norm.clear())}add(t){const n=this.size();W(t)?this._addString(t,n):this._addObject(t,n)}removeAt(t){this.records.splice(t,1);for(let n=t,r=this.size();n<r;n+=1)this.records[n].i-=1}getValueForItemAtKeyId(t,n){return t[this._keysMap[n]]}size(){return this.records.length}_addString(t,n){if(!V(t)||we(t))return;let r={v:t,i:n,n:this.norm.get(t)};this.records.push(r)}_addObject(t,n){let r={i:n,$:{}};this.keys.forEach((a,o)=>{let i=a.getFn?a.getFn(t):this.getFn(t,a.path);if(V(i)){if(X(i)){let l=[];const u=[{nestedArrIndex:-1,value:i}];for(;u.length;){const{nestedArrIndex:d,value:s}=u.pop();if(V(s))if(W(s)&&!we(s)){let p={v:s,i:d,n:this.norm.get(s)};l.push(p)}else X(s)&&s.forEach((p,h)=>{u.push({nestedArrIndex:h,value:p})})}r.$[o]=l}else if(W(i)&&!we(i)){let l={v:i,n:this.norm.get(i)};r.$[o]=l}}}),this.records.push(r)}toJSON(){return{keys:this.keys,records:this.records}}}function ut(e,t,{getFn:n=O.getFn,fieldNormWeight:r=O.fieldNormWeight}={}){const a=new _e({getFn:n,fieldNormWeight:r});return a.setKeys(e.map(lt)),a.setSources(t),a.create(),a}function Cn(e,{getFn:t=O.getFn,fieldNormWeight:n=O.fieldNormWeight}={}){const{keys:r,records:a}=e,o=new _e({getFn:t,fieldNormWeight:n});return o.setKeys(r),o.setIndexRecords(a),o}function he(e,{errors:t=0,currentLocation:n=0,expectedLocation:r=0,distance:a=O.distance,ignoreLocation:o=O.ignoreLocation}={}){const i=t/e.length;if(o)return i;const l=Math.abs(r-n);return a?i+l/a:l?1:i}function An(e=[],t=O.minMatchCharLength){let n=[],r=-1,a=-1,o=0;for(let i=e.length;o<i;o+=1){let l=e[o];l&&r===-1?r=o:!l&&r!==-1&&(a=o-1,a-r+1>=t&&n.push([r,a]),r=-1)}return e[o-1]&&o-r>=t&&n.push([r,o-1]),n}const ne=32;function Rn(e,t,n,{location:r=O.location,distance:a=O.distance,threshold:o=O.threshold,findAllMatches:i=O.findAllMatches,minMatchCharLength:l=O.minMatchCharLength,includeMatches:u=O.includeMatches,ignoreLocation:d=O.ignoreLocation}={}){if(t.length>ne)throw new Error(gn(ne));const s=t.length,p=e.length,h=Math.max(0,Math.min(r,p));let x=o,I=h;const w=l>1||u,M=w?Array(p):[];let g;for(;(g=e.indexOf(t,I))>-1;){let S=he(t,{currentLocation:g,expectedLocation:h,distance:a,ignoreLocation:d});if(x=Math.min(S,x),I=g+s,w){let C=0;for(;C<s;)M[g+C]=1,C+=1}}I=-1;let E=[],R=1,L=s+p;const $=1<<s-1;for(let S=0;S<s;S+=1){let C=0,y=L;for(;C<y;)he(t,{errors:S,currentLocation:h+y,expectedLocation:h,distance:a,ignoreLocation:d})<=x?C=y:L=y,y=Math.floor((L-C)/2+C);L=y;let c=Math.max(1,h-y+1),f=i?p:Math.min(h+y,p)+s,v=Array(f+2);v[f+1]=(1<<S)-1;for(let m=f;m>=c;m-=1){let N=m-1,J=n[e.charAt(N)];if(w&&(M[N]=+!!J),v[m]=(v[m+1]<<1|1)&J,S&&(v[m]|=(E[m+1]|E[m])<<1|1|E[m+1]),v[m]&$&&(R=he(t,{errors:S,currentLocation:N,expectedLocation:h,distance:a,ignoreLocation:d}),R<=x)){if(x=R,I=N,I<=h)break;c=Math.max(1,2*h-I)}}if(he(t,{errors:S+1,currentLocation:h,expectedLocation:h,distance:a,ignoreLocation:d})>x)break;E=v}const k={isMatch:I>=0,score:Math.max(.001,R)};if(w){const S=An(M,l);S.length?u&&(k.indices=S):k.isMatch=!1}return k}function En(e){let t={};for(let n=0,r=e.length;n<r;n+=1){const a=e.charAt(n);t[a]=(t[a]||0)|1<<r-n-1}return t}class ct{constructor(t,{location:n=O.location,threshold:r=O.threshold,distance:a=O.distance,includeMatches:o=O.includeMatches,findAllMatches:i=O.findAllMatches,minMatchCharLength:l=O.minMatchCharLength,isCaseSensitive:u=O.isCaseSensitive,ignoreLocation:d=O.ignoreLocation}={}){if(this.options={location:n,threshold:r,distance:a,includeMatches:o,findAllMatches:i,minMatchCharLength:l,isCaseSensitive:u,ignoreLocation:d},this.pattern=u?t:t.toLowerCase(),this.chunks=[],!this.pattern.length)return;const s=(h,x)=>{this.chunks.push({pattern:h,alphabet:En(h),startIndex:x})},p=this.pattern.length;if(p>ne){let h=0;const x=p%ne,I=p-x;for(;h<I;)s(this.pattern.substr(h,ne),h),h+=ne;if(x){const w=p-ne;s(this.pattern.substr(w),w)}}else s(this.pattern,0)}searchIn(t){const{isCaseSensitive:n,includeMatches:r}=this.options;if(n||(t=t.toLowerCase()),this.pattern===t){let I={isMatch:!0,score:0};return r&&(I.indices=[[0,t.length-1]]),I}const{location:a,distance:o,threshold:i,findAllMatches:l,minMatchCharLength:u,ignoreLocation:d}=this.options;let s=[],p=0,h=!1;this.chunks.forEach(({pattern:I,alphabet:w,startIndex:M})=>{const{isMatch:g,score:E,indices:R}=Rn(t,I,w,{location:a+M,distance:o,threshold:i,findAllMatches:l,minMatchCharLength:u,includeMatches:r,ignoreLocation:d});g&&(h=!0),p+=E,g&&R&&(s=[...s,...R])});let x={isMatch:h,score:h?p/this.chunks.length:1};return h&&r&&(x.indices=s),x}}class ee{constructor(t){this.pattern=t}static isMultiMatch(t){return Ve(t,this.multiRegex)}static isSingleMatch(t){return Ve(t,this.singleRegex)}search(){}}function Ve(e,t){const n=e.match(t);return n?n[1]:null}class $n extends ee{constructor(t){super(t)}static get type(){return"exact"}static get multiRegex(){return/^="(.*)"$/}static get singleRegex(){return/^=(.*)$/}search(t){const n=t===this.pattern;return{isMatch:n,score:n?0:1,indices:[0,this.pattern.length-1]}}}class Pn extends ee{constructor(t){super(t)}static get type(){return"inverse-exact"}static get multiRegex(){return/^!"(.*)"$/}static get singleRegex(){return/^!(.*)$/}search(t){const r=t.indexOf(this.pattern)===-1;return{isMatch:r,score:r?0:1,indices:[0,t.length-1]}}}class Ln extends ee{constructor(t){super(t)}static get type(){return"prefix-exact"}static get multiRegex(){return/^\^"(.*)"$/}static get singleRegex(){return/^\^(.*)$/}search(t){const n=t.startsWith(this.pattern);return{isMatch:n,score:n?0:1,indices:[0,this.pattern.length-1]}}}class _n extends ee{constructor(t){super(t)}static get type(){return"inverse-prefix-exact"}static get multiRegex(){return/^!\^"(.*)"$/}static get singleRegex(){return/^!\^(.*)$/}search(t){const n=!t.startsWith(this.pattern);return{isMatch:n,score:n?0:1,indices:[0,t.length-1]}}}class Nn extends ee{constructor(t){super(t)}static get type(){return"suffix-exact"}static get multiRegex(){return/^"(.*)"\$$/}static get singleRegex(){return/^(.*)\$$/}search(t){const n=t.endsWith(this.pattern);return{isMatch:n,score:n?0:1,indices:[t.length-this.pattern.length,t.length-1]}}}class Tn extends ee{constructor(t){super(t)}static get type(){return"inverse-suffix-exact"}static get multiRegex(){return/^!"(.*)"\$$/}static get singleRegex(){return/^!(.*)\$$/}search(t){const n=!t.endsWith(this.pattern);return{isMatch:n,score:n?0:1,indices:[0,t.length-1]}}}class dt extends ee{constructor(t,{location:n=O.location,threshold:r=O.threshold,distance:a=O.distance,includeMatches:o=O.includeMatches,findAllMatches:i=O.findAllMatches,minMatchCharLength:l=O.minMatchCharLength,isCaseSensitive:u=O.isCaseSensitive,ignoreLocation:d=O.ignoreLocation}={}){super(t),this._bitapSearch=new ct(t,{location:n,threshold:r,distance:a,includeMatches:o,findAllMatches:i,minMatchCharLength:l,isCaseSensitive:u,ignoreLocation:d})}static get type(){return"fuzzy"}static get multiRegex(){return/^"(.*)"$/}static get singleRegex(){return/^(.*)$/}search(t){return this._bitapSearch.searchIn(t)}}class pt extends ee{constructor(t){super(t)}static get type(){return"include"}static get multiRegex(){return/^'"(.*)"$/}static get singleRegex(){return/^'(.*)$/}search(t){let n=0,r;const a=[],o=this.pattern.length;for(;(r=t.indexOf(this.pattern,n))>-1;)n=r+o,a.push([r,n-1]);const i=!!a.length;return{isMatch:i,score:i?0:1,indices:a}}}const Ae=[$n,pt,Ln,_n,Tn,Nn,Pn,dt],Ke=Ae.length,Bn=/ +(?=(?:[^\"]*\"[^\"]*\")*[^\"]*$)/,Fn="|";function jn(e,t={}){return e.split(Fn).map(n=>{let r=n.trim().split(Bn).filter(o=>o&&!!o.trim()),a=[];for(let o=0,i=r.length;o<i;o+=1){const l=r[o];let u=!1,d=-1;for(;!u&&++d<Ke;){const s=Ae[d];let p=s.isMultiMatch(l);p&&(a.push(new s(p,t)),u=!0)}if(!u)for(d=-1;++d<Ke;){const s=Ae[d];let p=s.isSingleMatch(l);if(p){a.push(new s(p,t));break}}}return a})}const Vn=new Set([dt.type,pt.type]);class Kn{constructor(t,{isCaseSensitive:n=O.isCaseSensitive,includeMatches:r=O.includeMatches,minMatchCharLength:a=O.minMatchCharLength,ignoreLocation:o=O.ignoreLocation,findAllMatches:i=O.findAllMatches,location:l=O.location,threshold:u=O.threshold,distance:d=O.distance}={}){this.query=null,this.options={isCaseSensitive:n,includeMatches:r,minMatchCharLength:a,findAllMatches:i,ignoreLocation:o,location:l,threshold:u,distance:d},this.pattern=n?t:t.toLowerCase(),this.query=jn(this.pattern,this.options)}static condition(t,n){return n.useExtendedSearch}searchIn(t){const n=this.query;if(!n)return{isMatch:!1,score:1};const{includeMatches:r,isCaseSensitive:a}=this.options;t=a?t:t.toLowerCase();let o=0,i=[],l=0;for(let u=0,d=n.length;u<d;u+=1){const s=n[u];i.length=0,o=0;for(let p=0,h=s.length;p<h;p+=1){const x=s[p],{isMatch:I,indices:w,score:M}=x.search(t);if(I){if(o+=1,l+=M,r){const g=x.constructor.type;Vn.has(g)?i=[...i,...w]:i.push(w)}}else{l=0,o=0,i.length=0;break}}if(o){let p={isMatch:!0,score:l/o};return r&&(p.indices=i),p}}return{isMatch:!1,score:1}}}const Re=[];function Dn(...e){Re.push(...e)}function Ee(e,t){for(let n=0,r=Re.length;n<r;n+=1){let a=Re[n];if(a.condition(e,t))return new a(e,t)}return new ct(e,t)}const Se={AND:"$and",OR:"$or"},$e={PATH:"$path",PATTERN:"$val"},Pe=e=>!!(e[Se.AND]||e[Se.OR]),Un=e=>!!e[$e.PATH],Hn=e=>!X(e)&&it(e)&&!Pe(e),De=e=>({[Se.AND]:Object.keys(e).map(t=>({[t]:e[t]}))});function ft(e,t,{auto:n=!0}={}){const r=a=>{let o=Object.keys(a);const i=Un(a);if(!i&&o.length>1&&!Pe(a))return r(De(a));if(Hn(a)){const u=i?a[$e.PATH]:o[0],d=i?a[$e.PATTERN]:a[u];if(!W(d))throw new Error(vn(u));const s={keyId:Ce(u),pattern:d};return n&&(s.searcher=Ee(d,t)),s}let l={children:[],operator:o[0]};return o.forEach(u=>{const d=a[u];X(d)&&d.forEach(s=>{l.children.push(r(s))})}),l};return Pe(e)||(e=De(e)),r(e)}function zn(e,{ignoreFieldNorm:t=O.ignoreFieldNorm}){e.forEach(n=>{let r=1;n.matches.forEach(({key:a,norm:o,score:i})=>{const l=a?a.weight:null;r*=Math.pow(i===0&&l?Number.EPSILON:i,(l||1)*(t?1:o))}),n.score=r})}function Wn(e,t){const n=e.matches;t.matches=[],V(n)&&n.forEach(r=>{if(!V(r.indices)||!r.indices.length)return;const{indices:a,value:o}=r;let i={indices:a,value:o};r.key&&(i.key=r.key.src),r.idx>-1&&(i.refIndex=r.idx),t.matches.push(i)})}function qn(e,t){t.score=e.score}function Gn(e,t,{includeMatches:n=O.includeMatches,includeScore:r=O.includeScore}={}){const a=[];return n&&a.push(Wn),r&&a.push(qn),e.map(o=>{const{idx:i}=o,l={item:t[i],refIndex:i};return a.length&&a.forEach(u=>{u(o,l)}),l})}class le{constructor(t,n={},r){this.options={...O,...n},this.options.useExtendedSearch,this._keyStore=new yn(this.options.keys),this.setCollection(t,r)}setCollection(t,n){if(this._docs=t,n&&!(n instanceof _e))throw new Error(hn);this._myIndex=n||ut(this.options.keys,this._docs,{getFn:this.options.getFn,fieldNormWeight:this.options.fieldNormWeight})}add(t){V(t)&&(this._docs.push(t),this._myIndex.add(t))}remove(t=()=>!1){const n=[];for(let r=0,a=this._docs.length;r<a;r+=1){const o=this._docs[r];t(o,r)&&(this.removeAt(r),r-=1,a-=1,n.push(o))}return n}removeAt(t){this._docs.splice(t,1),this._myIndex.removeAt(t)}getIndex(){return this._myIndex}search(t,{limit:n=-1}={}){const{includeMatches:r,includeScore:a,shouldSort:o,sortFn:i,ignoreFieldNorm:l}=this.options;let u=W(t)?W(this._docs[0])?this._searchStringList(t):this._searchObjectList(t):this._searchLogical(t);return zn(u,{ignoreFieldNorm:l}),o&&u.sort(i),rt(n)&&n>-1&&(u=u.slice(0,n)),Gn(u,this._docs,{includeMatches:r,includeScore:a})}_searchStringList(t){const n=Ee(t,this.options),{records:r}=this._myIndex,a=[];return r.forEach(({v:o,i,n:l})=>{if(!V(o))return;const{isMatch:u,score:d,indices:s}=n.searchIn(o);u&&a.push({item:o,idx:i,matches:[{score:d,value:o,norm:l,indices:s}]})}),a}_searchLogical(t){const n=ft(t,this.options),r=(l,u,d)=>{if(!l.children){const{keyId:p,searcher:h}=l,x=this._findMatches({key:this._keyStore.get(p),value:this._myIndex.getValueForItemAtKeyId(u,p),searcher:h});return x&&x.length?[{idx:d,item:u,matches:x}]:[]}const s=[];for(let p=0,h=l.children.length;p<h;p+=1){const x=l.children[p],I=r(x,u,d);if(I.length)s.push(...I);else if(l.operator===Se.AND)return[]}return s},a=this._myIndex.records,o={},i=[];return a.forEach(({$:l,i:u})=>{if(V(l)){let d=r(n,l,u);d.length&&(o[u]||(o[u]={idx:u,item:l,matches:[]},i.push(o[u])),d.forEach(({matches:s})=>{o[u].matches.push(...s)}))}}),i}_searchObjectList(t){const n=Ee(t,this.options),{keys:r,records:a}=this._myIndex,o=[];return a.forEach(({$:i,i:l})=>{if(!V(i))return;let u=[];r.forEach((d,s)=>{u.push(...this._findMatches({key:d,value:i[s],searcher:n}))}),u.length&&o.push({idx:l,item:i,matches:u})}),o}_findMatches({key:t,value:n,searcher:r}){if(!V(n))return[];let a=[];if(X(n))n.forEach(({v:o,i,n:l})=>{if(!V(o))return;const{isMatch:u,score:d,indices:s}=r.searchIn(o);u&&a.push({score:d,key:t,value:o,idx:i,norm:l,indices:s})});else{const{v:o,n:i}=n,{isMatch:l,score:u,indices:d}=r.searchIn(o);l&&a.push({score:u,key:t,value:o,norm:i,indices:d})}return a}}le.version="6.6.2";le.createIndex=ut;le.parseIndex=Cn;le.config=O;le.parseQuery=ft;Dn(Kn);function Yn(e,t,n){const r=()=>{var i,l;return new le((i=H(t))!=null?i:[],(l=H(n))==null?void 0:l.fuseOptions)},a=B(r());se(()=>{var i;return(i=H(n))==null?void 0:i.fuseOptions},()=>{a.value=r()},{deep:!0}),se(()=>H(t),i=>{a.value.setCollection(i)},{deep:!0});const o=A(()=>{const i=H(n);if(i!=null&&i.matchAllWhenSearchEmpty&&!H(e))return H(t).map((u,d)=>({item:u,refIndex:d}));const l=i==null?void 0:i.resultLimit;return a.value.search(H(e),l?{limit:l}:void 0)});return{fuse:a,results:o}}const Xn=oe({components:{HComboboxOption:sn,UIcon:Oe,UAvatar:qe,UKbd:Ge},props:{group:{type:Object,required:!0},query:{type:String,default:""},groupAttribute:{type:String,required:!0},commandAttribute:{type:String,required:!0},selectedIcon:{type:String,required:!0},ui:{type:Object,required:!0}},setup(e){const t=A(()=>{const r=e.group[e.groupAttribute];return typeof r=="function"?r(e.query):r});function n(r,{indices:a,value:o}){if(r===o)return"";let i="",l=0;a.forEach(d=>{const s=d[1]+1,p=s-d[0]>=e.query.length;i+=[o.substring(l,d[0]),p&&"<mark>",o.substring(d[0],s),p&&"</mark>"].filter(Boolean).join(""),l=s}),i+=o.substring(l);const u=i.indexOf("<mark>");return u>60&&(i=`...${i.substring(u-60)}`),i}return{label:t,highlight:n}}}),Jn=["aria-label"],Qn=["innerHTML"];function Zn(e,t,n,r,a,o){const i=Oe,l=qe,u=Ge,d=de("HComboboxOption");return P(),K("div",{class:_(e.ui.group.wrapper),role:"option"},[e.label?(P(),K("h2",{key:0,class:_(e.ui.group.label)},Q(e.label),3)):z("",!0),Z("div",{class:_(e.ui.group.container),role:"listbox","aria-label":e.group[e.groupAttribute]},[(P(!0),K(me,null,ye(e.group.commands,(s,p)=>(P(),D(d,{key:`${e.group.key}-${p}`,value:s,disabled:s.disabled,as:"template"},{default:ie(({active:h,selected:x})=>[Z("div",{class:_([e.ui.group.command.base,h?e.ui.group.command.active:e.ui.group.command.inactive,s.disabled?"cursor-not-allowed":"cursor-pointer"])},[Z("div",{class:_(e.ui.group.command.container)},[re(e.$slots,`${e.group.key}-icon`,{group:e.group,command:s,active:h,selected:x},()=>[s.icon?(P(),D(i,{key:0,name:s.icon,class:_([e.ui.group.command.icon.base,h?e.ui.group.command.icon.active:e.ui.group.command.icon.inactive,s.iconClass]),"aria-hidden":"true"},null,8,["name","class"])):s.avatar?(P(),D(l,xe({key:1},{size:e.ui.group.command.avatar.size,...s.avatar},{class:e.ui.group.command.avatar.base,"aria-hidden":"true"}),null,16,["class"])):s.chip?(P(),K("span",{key:2,class:_(e.ui.group.command.chip.base),style:Et({background:`#${s.chip}`})},null,6)):z("",!0)]),Z("div",{class:_([e.ui.group.command.label,s.disabled&&e.ui.group.command.disabled])},[re(e.$slots,`${e.group.key}-command`,{group:e.group,command:s,active:h,selected:x},()=>{var I,w;return[s.prefix?(P(),K("span",{key:0,class:_(["flex-shrink-0",s.prefixClass||e.ui.group.command.prefix])},Q(s.prefix),3)):z("",!0),Z("span",{class:_(["truncate",{"flex-none":s.suffix||((I=s.matches)==null?void 0:I.length)}])},Q(s[e.commandAttribute]),3),(w=s.matches)!=null&&w.length?(P(),K("span",{key:1,class:_(["truncate",s.suffixClass||e.ui.group.command.suffix]),innerHTML:e.highlight(s[e.commandAttribute],s.matches[0])},null,10,Qn)):s.suffix?(P(),K("span",{key:2,class:_(["truncate",s.suffixClass||e.ui.group.command.suffix])},Q(s.suffix),3)):z("",!0)]})],2)],2),x?(P(),D(i,{key:0,name:e.selectedIcon,class:_(e.ui.group.command.selectedIcon.base),"aria-hidden":"true"},null,8,["name","class"])):h&&(e.group.active||e.$slots[`${e.group.key}-active`])?re(e.$slots,`${e.group.key}-active`,{key:1,group:e.group,command:s,active:h,selected:x},()=>[e.group.active?(P(),K("span",{key:0,class:_(e.ui.group.active)},Q(e.group.active),3)):z("",!0)]):re(e.$slots,`${e.group.key}-inactive`,{key:2,group:e.group,command:s,active:h,selected:x},()=>{var I;return[(I=s.shortcuts)!=null&&I.length?(P(),K("span",{key:0,class:_(e.ui.group.command.shortcuts)},[(P(!0),K(me,null,ye(s.shortcuts,w=>(P(),D(u,{key:w},{default:ie(()=>[$t(Q(w),1)]),_:2},1024))),128))],2)):!s.disabled&&e.group.inactive?(P(),K("span",{key:1,class:_(e.ui.group.inactive)},Q(e.group.inactive),3)):z("",!0)]})],2)]),_:2},1032,["value","disabled"]))),128))],10,Jn)],2)}const eo=We(Xn,[["render",Zn]]),ae=Pt(Te.ui.strategy,Te.ui.commandPalette,ln),to=oe({components:{HCombobox:on,HComboboxInput:an,HComboboxOptions:rn,UIcon:Oe,UButton:Ye,CommandPaletteGroup:eo},inheritAttrs:!1,props:{modelValue:{type:[String,Number,Object,Array],default:null},by:{type:String,default:"id"},multiple:{type:Boolean,default:!1},nullable:{type:Boolean,default:!1},searchable:{type:Boolean,default:!0},loading:{type:Boolean,default:!1},groups:{type:Array,default:()=>[]},icon:{type:String,default:()=>ae.default.icon},loadingIcon:{type:String,default:()=>ae.default.loadingIcon},selectedIcon:{type:String,default:()=>ae.default.selectedIcon},closeButton:{type:Object,default:()=>ae.default.closeButton},emptyState:{type:Object,default:()=>ae.default.emptyState},placeholder:{type:String,default:"Search..."},groupAttribute:{type:String,default:"label"},commandAttribute:{type:String,default:"label"},autoselect:{type:Boolean,default:!0},autoclear:{type:Boolean,default:!0},debounce:{type:Number,default:200},fuse:{type:Object,default:()=>({})},class:{type:[String,Object,Array],default:()=>""},ui:{type:Object,default:()=>({})}},emits:["update:modelValue","close"],setup(e,{emit:t,expose:n}){const{ui:r,attrs:a}=Xe("commandPalette",Me(e,"ui"),ae,Me(e,"class")),o=B(""),i=B(),l=B(null),u=B(!1);pe(()=>{e.autoselect&&L()}),pe(()=>{setTimeout(()=>{var y;const S=(y=i.value)==null?void 0:y.$.provides;if(!S)return;const C=Object.getOwnPropertySymbols(S);l.value=C.length&&S[C[0]]},200)});const d=A(()=>Je({},e.fuse,{fuseOptions:{keys:[e.commandAttribute]},resultLimit:12,matchAllWhenSearchEmpty:!0})),s=A(()=>{var C;const S=[];for(const y of e.groups)y.search||S.push(...((C=y.commands)==null?void 0:C.map(c=>({...c,group:y.key})))||[]);return S}),p=B({}),{results:h}=Yn(o,s,d);function x(S,C){if(S)return S.filter&&typeof S.filter=="function"&&(C=S.filter(o.value,C)),{...S,commands:C.slice(0,d.value.resultLimit)}}const I=A(()=>{if(!h.value)return[];const S=h.value.reduce((c,f)=>{var m;const{item:v,...b}=f;return v.group&&(c[m=v.group]||(c[m]=[]),c[v.group].push({...v,...b})),c},{}),C=Object.entries(S).map(([c,f])=>{const v=e.groups.find(b=>b.key===c);return v?x(v,f):null}).filter(Boolean),y=e.groups.filter(c=>{var f;return!!c.search&&((f=p.value[c.key])==null?void 0:f.length)}).map(c=>{const f=p.value[c.key]||[];return x(c,[...f])});return[...C,...y]}),w=Qe(async()=>{const S=e.groups.filter(C=>!!C.search);S.length&&(u.value=!0,await Promise.all(S.map(async C=>{p.value[C.key]=await C.search(o.value)})),u.value=!1,R())},e.debounce);se(o,()=>{w(),R()});const M=A(()=>(e.loading||u.value)&&e.loadingIcon?e.loadingIcon:e.icon),g=A(()=>Lt(r.value.input.icon.base,r.value.input.icon.size,(e.loading||u.value)&&e.loadingIcon&&r.value.input.icon.loading)),E=A(()=>({...r.value.default.emptyState,...e.emptyState}));function R(){setTimeout(()=>{var S;(S=i.value)==null||S.$el.dispatchEvent(new KeyboardEvent("keydown",{key:"PageUp"}))},0)}function L(){setTimeout(()=>{var S;(S=i.value)==null||S.$el.dispatchEvent(new KeyboardEvent("keydown",{key:"ArrowDown"}))},0)}function $(S){t("update:modelValue",S,{query:o.value}),e.autoclear&&setTimeout(()=>{o.value=""},0)}function k(){o.value?o.value="":t("close")}return n({query:o,updateQuery:S=>{o.value=S},comboboxApi:l,results:h}),{ui:r,attrs:a,groups:I,comboboxInput:i,query:o,iconName:M,iconClass:g,emptyState:E,onSelect:$,onClear:k}}});function no(e,t,n,r,a,o){const i=Oe,l=de("HComboboxInput"),u=Ye,d=de("CommandPaletteGroup"),s=de("HComboboxOptions"),p=de("HCombobox");return P(),D(p,xe({by:e.by,"model-value":e.modelValue,multiple:e.multiple,nullable:e.nullable,class:e.ui.wrapper},e.attrs,{as:"div","onUpdate:modelValue":e.onSelect}),{default:ie(()=>[_t(Z("div",{class:_(e.ui.input.wrapper)},[e.iconName?(P(),D(i,{key:0,name:e.iconName,class:_(e.iconClass),"aria-hidden":"true"},null,8,["name","class"])):z("",!0),Ze(l,{ref:"comboboxInput",value:e.query,class:_([e.ui.input.base,e.ui.input.size,e.ui.input.height,e.ui.input.padding,e.icon&&e.ui.input.icon.padding,e.closeButton&&e.ui.input.closeButton.padding]),placeholder:e.placeholder,"aria-label":e.placeholder,autocomplete:"off",onChange:t[0]||(t[0]=h=>e.query=h.target.value)},null,8,["value","class","placeholder","aria-label"]),e.closeButton?(P(),D(u,xe({key:1,"aria-label":"Close"},{...e.ui.default.closeButton||{},...e.closeButton},{class:e.ui.input.closeButton.base,onClick:e.onClear}),null,16,["class","onClick"])):z("",!0)],2),[[Nt,e.searchable]]),e.groups.length?(P(),D(s,{key:0,static:"",hold:"",as:"div","aria-label":"Commands",class:_(e.ui.container)},{default:ie(()=>[(P(!0),K(me,null,ye(e.groups,h=>(P(),D(d,{key:h.key,query:e.query,group:h,"group-attribute":e.groupAttribute,"command-attribute":e.commandAttribute,"selected-icon":e.selectedIcon,ui:e.ui},Tt({_:2},[ye(e.$slots,(x,I)=>({name:I,fn:ie(w=>[re(e.$slots,I,Bt(Ft(w)))])}))]),1032,["query","group","group-attribute","command-attribute","selected-icon","ui"]))),128))]),_:3},8,["class"])):e.emptyState?re(e.$slots,"empty-state",{key:1},()=>[Z("div",{class:_(e.ui.emptyState.wrapper)},[e.emptyState.icon?(P(),D(i,{key:0,name:e.emptyState.icon,class:_(e.ui.emptyState.icon),"aria-hidden":"true"},null,8,["name","class"])):z("",!0),Z("p",{class:_(e.query?e.ui.emptyState.queryLabel:e.ui.emptyState.label)},Q(e.query?e.emptyState.queryLabel:e.emptyState.label),3)],2)]):z("",!0)]),_:3},16,["by","model-value","multiple","nullable","class","onUpdate:modelValue"])}const oo=We(to,[["render",no]]),ht=e=>{if(!e.children)return e._path;for(const t of(e==null?void 0:e.children)||[]){const n=ht(t);if(n)return n}},vt=(e,t)=>{for(const n of t){if(n._path===e&&!n._id)return n.children;if(n.children){const r=vt(e,n.children);if(r)return r}}},gt=(e,t)=>{for(const n of t){if(n._path===e)return n;if(n.children){const r=gt(e,n.children);if(r)return r}}},ao=(e,t,n)=>{let r;const a=(o,i)=>{for(const l of i)if(!(o!=="/"&&l._path==="/")){if(o!=null&&o.startsWith(l._path)&&l[t]&&(r=l[t]),l._path===o)return;l.children&&a(o,l.children)}};return a(e,n),r},ro=()=>({navBottomLink:ht,navDirFromPath:vt,navPageFromPath:gt,navKeyFromPath:ao});function io(...e){return A(()=>e.every(t=>H(t)))}function so(e){return A(()=>!H(e))}const lo=/^[^-]+.*-.*[^-]+$/,uo=/^[^_]+.*_.*[^_]+$/,co=(e,t={})=>{const{macOS:n,usingInput:r}=et();let a=[];const o=B([]),i=()=>{o.value.splice(0,o.value.length)},l=Qe(i,t.chainDelay??800),u=d=>{if(!d.key)return;const s=/^[a-z]{1}$/i.test(d.key);let p;if(o.value.push(d.key),o.value.length>=2){p=o.value.slice(-2).join("-");for(const h of a.filter(x=>x.chained))if(h.key===p){h.condition.value&&(d.preventDefault(),h.handler()),i();return}}for(const h of a.filter(x=>!x.chained))if(d.key.toLowerCase()===h.key&&d.metaKey===h.metaKey&&d.ctrlKey===h.ctrlKey&&!(s&&d.shiftKey!==h.shiftKey)){h.condition.value&&(d.preventDefault(),h.handler()),i();return}l()};a=Object.entries(e).map(([d,s])=>{var I,w;if(!s)return null;let p;d.includes("-")&&d!=="-"&&!((I=d.match(lo))!=null&&I.length)&&console.trace(`[Shortcut] Invalid key: "${d}"`),d.includes("_")&&d!=="_"&&!((w=d.match(uo))!=null&&w.length)&&console.trace(`[Shortcut] Invalid key: "${d}"`);const h=d.includes("-")&&d!=="-";if(h)p={key:d.toLowerCase(),metaKey:!1,ctrlKey:!1,shiftKey:!1,altKey:!1};else{const M=d.toLowerCase().split("_").map(g=>g);p={key:M.filter(g=>!["meta","ctrl","shift","alt"].includes(g)).join("_"),metaKey:M.includes("meta"),ctrlKey:M.includes("ctrl"),shiftKey:M.includes("shift"),altKey:M.includes("alt")}}if(p.chained=h,!n.value&&p.metaKey&&!p.ctrlKey&&(p.metaKey=!1,p.ctrlKey=!0),typeof s=="function"?p.handler=s:typeof s=="object"&&(p={...p,handler:s.handler}),!p.handler)return console.trace("[Shortcut] Invalid value"),null;const x=[];return s.usingInput?typeof s.usingInput=="string"&&x.push(A(()=>r.value===s.usingInput)):x.push(so(r)),p.condition=io(...x,...s.whenever||[]),p}).filter(Boolean),jt("keydown",u)},fo=oe({__name:"DocsSearch",props:{files:{type:Array,default:()=>[]},navigation:{type:Array,default:()=>[]},links:{type:Array,default:()=>[]},groups:{type:Array,default:()=>[]},fuse:{type:Object,default:()=>({})},hideColorMode:{type:Boolean,default:!1},ui:{type:Object,default:()=>({})}},setup(e,{expose:t}){const n={padding:"p-0 sm:p-4",rounded:"rounded-none sm:rounded-lg",width:"sm:max-w-3xl",height:"h-screen sm:h-[28rem]",commandPalette:{input:{height:"h-[--header-height] sm:h-12",icon:{size:"h-5 w-5",padding:"ps-11"}},group:{command:{prefix:"!text-foreground after:content-['_>']"}},container:"scroll-py-10",closeButton:{icon:"i-heroicons-x-mark-20-solid",color:"gray",variant:"ghost",size:"xs"}},fileIcon:{name:"i-heroicons-document-text"}},r=e,a=Vt(),{navKeyFromPath:o}=ro(),i=Kt(),{usingInput:l}=et(),{isDocsSearchModalOpen:u}=Dt(),d=Ut({mobile:640}),s=Ht(),{ui:p,attrs:h}=Xe("docs.search",Me(r,"ui"),n,void 0,!0),x=d.smaller("mobile"),I=B();function w(c){var f;return c.icon?c.icon:(f=c.navigation)!=null&&f.icon?c.navigation.icon:(r.navigation&&(c.icon=o(c._path,"icon",r.navigation)),c.icon||p.value.fileIcon.name)}const M=A(()=>Je({},r.fuse,{fuseOptions:{ignoreLocation:!0,includeMatches:!0,threshold:.1,keys:[{name:"title",weight:5},{name:"label",weight:5},{name:"suffix",weight:3},"children.children.value","children.children.children.value","children.children.children.children.value","children.children.children.children.children.value"]},resultLimit:12}));function g(c,f){return c?f:f==null?void 0:f.filter(v=>!v.child)}const E=A(()=>{var f,v;let c=[];return(f=r.navigation)!=null&&f.length&&(r.navigation.some(b=>{var m;return!!((m=b.children)!=null&&m.length)})?c=(r.navigation||[]).map(b=>({key:b._path,label:b.title,commands:(r.files||[]).filter(m=>{var N;return(N=m._path)==null?void 0:N.startsWith(b._path)}).flatMap(m=>L(m,b)),filter:g})):c=[{key:"docs",commands:(r.files||[]).flatMap(b=>L(b)),filter:g}]),[((v=r.links)==null?void 0:v.length)&&{key:"links",label:"Links",commands:r.links.flatMap(b=>[b.to&&{id:a.resolve(b.to).fullPath,...b,icon:b.icon||p.value.fileIcon.name},...(b.children||[]).map(m=>({id:a.resolve(m.to).fullPath,prefix:b.label,suffix:m.description,...m,icon:m.icon||b.icon||p.value.fileIcon.name}))]).filter(Boolean)},...c,...r.groups||[],!(s!=null&&s.forced)&&!r.hideColorMode&&{key:"theme",label:"Theme",commands:[{id:"theme-light",label:"Light",icon:i.ui.icons.light,disabled:s.preference==="light",click:()=>{s.preference="light"}},{id:"theme-dark",label:"Dark",icon:i.ui.icons.dark,disabled:s.preference==="dark",click:()=>{s.preference="dark"}}]}].filter(Boolean)}),R=A(()=>u.value||!l.value);function L(c,f){var b,m,N,J,ue;const v=(b=zt((f==null?void 0:f.children)||[],c))==null?void 0:b.map(({title:U})=>U).join(" > ");return[{id:c._id,label:((m=c.navigation)==null?void 0:m.title)||c.title,title:((N=c.navigation)==null?void 0:N.title)||c.title,prefix:v,to:c._path,suffix:c.description,children:k(S(((J=c==null?void 0:c.body)==null?void 0:J.children)||[])),icon:w(c)},...Object.entries(C(((ue=c==null?void 0:c.body)==null?void 0:ue.children)||[])).map(([U,{title:te,children:fe}])=>{var ce;if(te)return{id:`${c._path}${U}`,label:te,prefix:(v?`${v} > `:"")+`${((ce=c.navigation)==null?void 0:ce.title)||c.title}`,to:`${c._path}${U}`,children:k(fe),icon:w(c),child:!0}})].filter(Boolean)}function $(c){return c==null?void 0:c.map(f=>{var v,b;if(["code","code-inline","em","a","strong"].includes(f.tag))return{type:"text",value:((b=(v=f.children)==null?void 0:v.find(m=>m.type==="text"))==null?void 0:b.value)||""};if(f.type==="text")return f}).filter(Boolean)}function k(c){return c.map(f=>{var v,b;if(!["pre","style","video"].includes(f.tag))return["p","h1","h2","h3","h4","h5","h6","li","td","th"].includes(f.tag)&&((v=f.children)!=null&&v.length)?(f.children=$(f.children),f.children=(b=f.children)==null?void 0:b.reduce((m,N)=>(m.length&&m[m.length-1].type==="text"?m[m.length-1].value+=N.value||"":m.push(N),m),[]),f):(f.children&&(f.children=k(f.children)),f)}).filter(Boolean)}function S(c){const f=[];for(const v of c){if(["h1","h2","h3"].includes(v.tag))break;f.push(v)}return f}function C(c){var m,N,J,ue;const f={};let v="",b="";for(const U of c)["h1","h2","h3"].includes(U.tag)&&(b=((J=(N=(m=U.children)==null?void 0:m.map(te=>{var fe,ce;if(te.type==="text")return te.value;if(["code","code-inline","em","a","strong"].includes(te.tag))return(ce=(fe=te.children)==null?void 0:fe.find(mt=>mt.type==="text"))==null?void 0:ce.value}))==null?void 0:N.filter(Boolean))==null?void 0:J.join(" "))||"",b&&((ue=U.props)!=null&&ue.id)&&(v=`#${U.props.id}`)),f[v]?f[v].children.push(U):f[v]={children:[U],title:b};return f}function y(c){u.value=!1,c.click?c.click():c.to?c.target==="_blank"||c.to.startsWith("http")?window.open(c.to,c.target||"_blank"):a.push(c.to):c.href&&window.open(c.href,"_blank")}return co({meta_k:{usingInput:!0,whenever:[R],handler:()=>{u.value=!u.value}},escape:{usingInput:!0,whenever:[u],handler:()=>{u.value=!1}}}),t({commandPaletteRef:I}),(c,f)=>{const v=oo,b=qt;return P(),D(b,xe({modelValue:G(u),"onUpdate:modelValue":f[1]||(f[1]=m=>Wt(u)?u.value=m:null),overlay:!G(x),transition:!G(x),ui:G(p)},G(h)),{default:ie(()=>[Ze(v,{ref_key:"commandPaletteRef",ref:I,groups:G(E),ui:G(p).commandPalette,"close-button":G(p).commandPalette.closeButton,fuse:G(M),"onUpdate:modelValue":y,onClose:f[0]||(f[0]=m=>u.value=!1)},null,8,["groups","ui","close-button","fuse"])]),_:1},16,["modelValue","overlay","transition","ui"])}}});export{fo as default};
