import{_ as B,a as j}from"./PageHero.vue.9_HHMswX.js";import{_ as D}from"./MDC.vue.GUuNWluy.js";import{_ as H}from"./TagList.vue.B_Dw-UDd.js";import M from"./ContentRenderer.CIBmk4y8.js";import{d as N,s as P,x as S,aF as g,aG as U,aH as z,b as i,c as l,g as s,w as _,aA as t,e as d,F as h,a7 as L,ao as R,an as F,a8 as V,f as p,aI as y,aJ as q,t as E,q as v,aK as K}from"./entry.UQ209BRl.js";import{_ as O,a as Z}from"./PageBody.vue.z5xvjF0A.js";import"./MDCRenderer.FPZT2ueI.js";import"./index.Wme0U9j4.js";import"./_commonjsHelpers.5-cIlDoe.js";import"./node.kQagOfUD.js";import"./ContentRendererMarkdown.vue.ksfm4KTR.js";const G={key:0,class:"grid grid-cols-3 gap-x-2"},I={class:"text-right font-semibold capitalize"},J=["innerHTML"],X={key:0},ue=N({__name:"[...slug]",async setup(Q){let o,u;const m=P(),{seo:r}=S(),{data:e}=([o,u]=g(()=>y(m.path,()=>v(m.path).findOne(),"$g9rZZjXO3T")),o=await o,u(),o);if(!e.value)throw U({statusCode:404,statusMessage:"Page not found",fatal:!0});e.value.meta.jahre&&(e.value.meta.zeitraum=e.value.meta.jahre.reduce((a,c)=>(!a.length||c>a.at(-1)[0]+1?a.push([c]):a.at(-1)[1]=c,a),[]).map(a=>a.length>1?a.join(" – "):a[0]));const{data:f}=([o,u]=g(()=>y(`${m.path}-surround`,()=>v("map").where({_extension:"md",navigation:{$ne:!1}}).only(["title","description","_path"]).findSurround(K(m.path)))),o=await o,u(),o);return z({titleTemplate:`%s - ${r==null?void 0:r.siteName}`,title:e.value.title,ogTitle:`${e.value.title} - ${r==null?void 0:r.siteName}`,description:e.value.description,ogDescription:e.value.description}),(a,c)=>{const x=B,C=D,$=H,w=j,k=M,b=q,T=O,A=Z;return i(),l("div",null,[s(x,{links:[{label:"Home",icon:"i-heroicons-home",to:"/"},{label:"Karte",icon:"i-heroicons-map",to:"/map"}],class:"mt-4"}),s(w,R(F(t(e))),{description:_(()=>[s(C,{value:t(e).description},null,8,["value"]),s($,{base:"/map",tags:t(e).tags,class:"mt-5"},null,8,["tags"])]),default:_(()=>[d("dl",null,[(i(),l(h,null,L(["ort","träger","zeitraum"],n=>(i(),l(h,{key:n},[t(e).meta[n]?(i(),l("div",G,[d("dt",I,E(n)+": ",1),d("dd",{class:"col-span-2",innerHTML:Array.isArray(t(e).meta[n])?t(e).meta[n].join(", "):t(e).meta[n]},null,8,J)])):p("",!0)],64))),64))])]),_:1},16),s(A,{prose:""},{default:_(()=>{var n;return[s(b,null,{default:_(()=>[t(e).body?(i(),V(k,{key:0,value:t(e),class:"max-w-lg mx-auto"},null,8,["value"])):p("",!0)]),_:1}),(n=t(f))!=null&&n.length?(i(),l("hr",X)):p("",!0),s(T,{surround:t(f)},null,8,["surround"])]}),_:1})])}}});export{ue as default};
