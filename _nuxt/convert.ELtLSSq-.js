import{X as Re,r as Ee,o as Fe,E as $,aj as Ge,k as Ve,ad as We,ae as ve,d as Le,a3 as He,ag as Ke,ah as Oe,aL as et,aM as Je,ak as we,b as Y,c as ue,e as Qe,F as Te,a7 as $e,t as je,a9 as Ze,n as Ce,ab as Be,g as Ne,f as ze,aN as Ae,ai as tt,M as nt,a0 as at,aO as rt,l as it,aG as st,aF as Ue,a8 as De,w as lt,aA as Ie,aB as ot,aP as qe,aJ as ut}from"./entry.UQ209BRl.js";import{c as dt,g as ct}from"./_commonjsHelpers.5-cIlDoe.js";const Xe={wrapper:"relative",base:"relative block w-full disabled:cursor-not-allowed disabled:opacity-75 focus:outline-none border-0",form:"form-input",rounded:"rounded-md",placeholder:"placeholder-gray-400 dark:placeholder-gray-500",size:{"2xs":"text-xs",xs:"text-xs",sm:"text-sm",md:"text-sm",lg:"text-sm",xl:"text-base"},gap:{"2xs":"gap-x-1",xs:"gap-x-1.5",sm:"gap-x-1.5",md:"gap-x-2",lg:"gap-x-2.5",xl:"gap-x-2.5"},padding:{"2xs":"px-2 py-1",xs:"px-2.5 py-1.5",sm:"px-2.5 py-1.5",md:"px-3 py-2",lg:"px-3.5 py-2.5",xl:"px-3.5 py-2.5"},leading:{padding:{"2xs":"ps-7",xs:"ps-8",sm:"ps-9",md:"ps-10",lg:"ps-11",xl:"ps-12"}},trailing:{padding:{"2xs":"pe-7",xs:"pe-8",sm:"pe-9",md:"pe-10",lg:"pe-11",xl:"pe-12"}},color:{white:{outline:"shadow-sm bg-white dark:bg-gray-900 text-gray-900 dark:text-white ring-1 ring-inset ring-gray-300 dark:ring-gray-700 focus:ring-2 focus:ring-primary-500 dark:focus:ring-primary-400"},gray:{outline:"shadow-sm bg-gray-50 dark:bg-gray-800 text-gray-900 dark:text-white ring-1 ring-inset ring-gray-300 dark:ring-gray-700 focus:ring-2 focus:ring-primary-500 dark:focus:ring-primary-400"}},variant:{outline:"shadow-sm bg-transparent text-gray-900 dark:text-white ring-1 ring-inset ring-{color}-500 dark:ring-{color}-400 focus:ring-2 focus:ring-{color}-500 dark:focus:ring-{color}-400",none:"bg-transparent focus:ring-0 focus:shadow-none"},icon:{base:"flex-shrink-0 text-gray-400 dark:text-gray-500",color:"text-{color}-500 dark:text-{color}-400",loading:"animate-spin",size:{"2xs":"h-4 w-4",xs:"h-4 w-4",sm:"h-5 w-5",md:"h-5 w-5",lg:"h-5 w-5",xl:"h-6 w-6"},leading:{wrapper:"absolute inset-y-0 start-0 flex items-center",pointer:"pointer-events-none",padding:{"2xs":"ps-2",xs:"ps-2.5",sm:"ps-2.5",md:"ps-3",lg:"ps-3.5",xl:"ps-3.5"}},trailing:{wrapper:"absolute inset-y-0 end-0 flex items-center",pointer:"pointer-events-none",padding:{"2xs":"pe-2",xs:"pe-2.5",sm:"pe-2.5",md:"pe-3",lg:"pe-3.5",xl:"pe-3.5"}}},default:{size:"sm",color:"white",variant:"outline",loadingIcon:"i-heroicons-arrow-path-20-solid"}},ft={...Xe,form:"form-textarea",default:{size:"sm",color:"white",variant:"outline"}},ht={...Xe,form:"form-select",placeholder:"text-gray-900 dark:text-white",default:{size:"sm",color:"white",variant:"outline",loadingIcon:"i-heroicons-arrow-path-20-solid",trailingIcon:"i-heroicons-chevron-down-20-solid"}};let gt=0;function pt(){return`nuid-${gt++}`}const Ye=(t,g)=>{const x=Re("form-events",void 0),r=Re("form-group",void 0),K=Re("form-inputs",void 0),q=Ee(t==null?void 0:t.id);Fe(()=>{q.value=(t==null?void 0:t.legend)===null||t.legend?void 0:(t==null?void 0:t.id)??pt(),r&&(r.inputId.value=q.value,K&&(K.value[r.name.value]=q))});const O=Ee(!1);function y(w,b){x&&x.emit({type:w,path:b})}function d(){y("blur",r==null?void 0:r.name.value),O.value=!0}function p(){y("change",r==null?void 0:r.name.value)}const v=Ge(()=>{(O.value||r!=null&&r.eagerValidation.value)&&y("input",r==null?void 0:r.name.value)},300);return{inputId:q,name:$(()=>(t==null?void 0:t.name)??(r==null?void 0:r.name.value)),size:$(()=>{var b;const w=g.size[r==null?void 0:r.size.value]?r==null?void 0:r.size.value:null;return(t==null?void 0:t.size)??w??((b=g==null?void 0:g.default)==null?void 0:b.size)}),color:$(()=>{var w;return(w=r==null?void 0:r.error)!=null&&w.value?"red":t==null?void 0:t.color}),emitFormBlur:d,emitFormInput:v,emitFormChange:p}},oe=We(ve.ui.strategy,ve.ui.select,ht),mt=Le({components:{UIcon:He},inheritAttrs:!1,props:{modelValue:{type:[String,Number,Object],default:""},id:{type:String,default:null},name:{type:String,default:null},placeholder:{type:String,default:null},required:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},icon:{type:String,default:null},loadingIcon:{type:String,default:()=>oe.default.loadingIcon},leadingIcon:{type:String,default:null},trailingIcon:{type:String,default:()=>oe.default.trailingIcon},trailing:{type:Boolean,default:!1},leading:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},padded:{type:Boolean,default:!0},options:{type:Array,default:()=>[]},size:{type:String,default:null,validator(t){return Object.keys(oe.size).includes(t)}},color:{type:String,default:()=>oe.default.color,validator(t){return[...ve.ui.colors,...Object.keys(oe.color)].includes(t)}},variant:{type:String,default:()=>oe.default.variant,validator(t){return[...Object.keys(oe.variant),...Object.values(oe.color).flatMap(g=>Object.keys(g))].includes(t)}},optionAttribute:{type:String,default:"label"},valueAttribute:{type:String,default:"value"},selectClass:{type:String,default:null},class:{type:[String,Object,Array],default:()=>""},ui:{type:Object,default:()=>({})}},emits:["update:modelValue","change"],setup(t,{emit:g,slots:x}){const{ui:r,attrs:K}=Ke("select",Oe(t,"ui"),oe,Oe(t,"class")),{size:q,rounded:O}=et({ui:r,props:t}),{emitFormChange:y,inputId:d,color:p,size:v,name:w}=Ye(t,oe),b=$(()=>q.value||v.value),V=s=>{g("update:modelValue",s.target.value)},j=s=>{y(),g("change",s)},W=s=>Ae(s,t.valueAttribute,Ae(s,t.optionAttribute)),ae=s=>Ae(s,t.optionAttribute,Ae(s,t.valueAttribute)),fe=s=>["string","number","boolean"].includes(typeof s)?{[t.valueAttribute]:s,[t.optionAttribute]:s}:{...s,[t.valueAttribute]:W(s),[t.optionAttribute]:ae(s)},_e=$(()=>t.options.map(s=>fe(s))),_=$(()=>t.placeholder?[{[t.valueAttribute]:"",[t.optionAttribute]:t.placeholder,disabled:!0},..._e.value]:_e.value),P=$(()=>{const s=fe(t.modelValue),S=_.value.find(C=>C[t.valueAttribute]===s[t.valueAttribute]);return S?S[t.valueAttribute]:""}),se=$(()=>{var S,C;const s=((C=(S=r.value.color)==null?void 0:S[p.value])==null?void 0:C[t.variant])||r.value.variant[t.variant];return Je(we(r.value.base,r.value.form,O.value,r.value.size[b.value],t.padded?r.value.padding[b.value]:"p-0",s==null?void 0:s.replaceAll("{color}",p.value),(X.value||x.leading)&&r.value.leading.padding[b.value],(m.value||x.trailing)&&r.value.trailing.padding[b.value]),t.selectClass)}),X=$(()=>t.icon&&t.leading||t.icon&&!t.trailing||t.loading&&!t.trailing||t.leadingIcon),m=$(()=>t.icon&&t.trailing||t.loading&&t.trailing||t.trailingIcon),n=$(()=>t.loading?t.loadingIcon:t.leadingIcon||t.icon),e=$(()=>t.loading&&!X.value?t.loadingIcon:t.trailingIcon||t.icon),a=$(()=>we(r.value.icon.leading.wrapper,r.value.icon.leading.pointer,r.value.icon.leading.padding[b.value])),i=$(()=>we(r.value.icon.base,p.value&&ve.ui.colors.includes(p.value)&&r.value.icon.color.replaceAll("{color}",p.value),r.value.icon.size[b.value],t.loading&&r.value.icon.loading)),o=$(()=>we(r.value.icon.trailing.wrapper,r.value.icon.trailing.pointer,r.value.icon.trailing.padding[b.value])),h=$(()=>we(r.value.icon.base,p.value&&ve.ui.colors.includes(p.value)&&r.value.icon.color.replaceAll("{color}",p.value),r.value.icon.size[b.value],t.loading&&!X.value&&r.value.icon.loading));return{ui:r,attrs:K,name:w,inputId:d,normalizedOptionsWithPlaceholder:_,normalizedValue:P,isLeading:X,isTrailing:m,selectClass:se,leadingIconName:n,leadingIconClass:i,leadingWrapperIconClass:a,trailingIconName:e,trailingIconClass:h,trailingWrapperIconClass:o,onInput:V,onChange:j}}}),vt=["id","name","value","required","disabled"],yt=["value","label"],bt=["value","selected","disabled","textContent"],_t=["value","selected","disabled","textContent"];function kt(t,g,x,r,K,q){const O=He;return Y(),ue("div",{class:Ce(t.ui.wrapper)},[Qe("select",Ze({id:t.inputId,name:t.name,value:t.modelValue,required:t.required,disabled:t.disabled||t.loading,class:t.selectClass},t.attrs,{onInput:g[0]||(g[0]=(...y)=>t.onInput&&t.onInput(...y)),onChange:g[1]||(g[1]=(...y)=>t.onChange&&t.onChange(...y))}),[(Y(!0),ue(Te,null,$e(t.normalizedOptionsWithPlaceholder,(y,d)=>(Y(),ue(Te,null,[y.children?(Y(),ue("optgroup",{key:`${y[t.valueAttribute]}-optgroup-${d}`,value:y[t.valueAttribute],label:y[t.optionAttribute]},[(Y(!0),ue(Te,null,$e(y.children,(p,v)=>(Y(),ue("option",{key:`${p[t.valueAttribute]}-${d}-${v}`,value:p[t.valueAttribute],selected:p[t.valueAttribute]===t.normalizedValue,disabled:p.disabled,textContent:je(p[t.optionAttribute])},null,8,bt))),128))],8,yt)):(Y(),ue("option",{key:`${y[t.valueAttribute]}-${d}`,value:y[t.valueAttribute],selected:y[t.valueAttribute]===t.normalizedValue,disabled:y.disabled,textContent:je(y[t.optionAttribute])},null,8,_t))],64))),256))],16,vt),t.isLeading&&t.leadingIconName||t.$slots.leading?(Y(),ue("span",{key:0,class:Ce(t.leadingWrapperIconClass)},[Be(t.$slots,"leading",{disabled:t.disabled,loading:t.loading},()=>[Ne(O,{name:t.leadingIconName,class:Ce(t.leadingIconClass)},null,8,["name","class"])])],2)):ze("",!0),t.isTrailing&&t.trailingIconName||t.$slots.trailing?(Y(),ue("span",{key:1,class:Ce(t.trailingWrapperIconClass)},[Be(t.$slots,"trailing",{disabled:t.disabled,loading:t.loading},()=>[Ne(O,{name:t.trailingIconName,class:Ce(t.trailingIconClass),"aria-hidden":"true"},null,8,["name","class"])])],2)):ze("",!0)],2)}const wt=Ve(mt,[["render",kt]]),me=We(ve.ui.strategy,ve.ui.textarea,ft),Ct=Le({inheritAttrs:!1,props:{modelValue:{type:[String,Number],default:""},id:{type:String,default:null},name:{type:String,default:null},placeholder:{type:String,default:null},required:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},rows:{type:Number,default:3},autoresize:{type:Boolean,default:!1},autofocus:{type:Boolean,default:!1},autofocusDelay:{type:Number,default:100},resize:{type:Boolean,default:!1},padded:{type:Boolean,default:!0},size:{type:String,default:null,validator(t){return Object.keys(me.size).includes(t)}},color:{type:String,default:()=>me.default.color,validator(t){return[...ve.ui.colors,...Object.keys(me.color)].includes(t)}},variant:{type:String,default:()=>me.default.variant,validator(t){return[...Object.keys(me.variant),...Object.values(me.color).flatMap(g=>Object.keys(g))].includes(t)}},textareaClass:{type:String,default:null},class:{type:[String,Object,Array],default:()=>""},ui:{type:Object,default:()=>({})},modelModifiers:{type:Object,default:()=>({})}},emits:["update:modelValue","blur"],setup(t,{emit:g}){const{ui:x,attrs:r}=Ke("textarea",Oe(t,"ui"),me,Oe(t,"class")),{emitFormBlur:K,emitFormInput:q,inputId:O,color:y,size:d,name:p}=Ye(t,me),v=Ee(tt({},t.modelModifiers,{trim:!1,lazy:!1,number:!1})),w=Ee(null),b=()=>{var _;t.autofocus&&((_=w.value)==null||_.focus())},V=()=>{if(t.autoresize){if(!w.value)return;w.value.rows=t.rows;const _=window.getComputedStyle(w.value),P=parseInt(_.paddingTop),se=parseInt(_.paddingBottom),X=P+se,m=parseInt(_.lineHeight),{scrollHeight:n}=w.value,e=(n-X)/m;e>t.rows&&(w.value.rows=e)}},j=_=>{v.value.trim&&(_=_.trim()),v.value.number&&(_=rt(_)),g("update:modelValue",_),q()},W=_=>{V(),v.value.lazy||j(_.target.value)},ae=_=>{const P=_.target.value;v.value.lazy&&j(P),v.value.trim&&(_.target.value=P.trim())},fe=_=>{g("blur",_),K()};Fe(()=>{setTimeout(()=>{b()},t.autofocusDelay)}),nt(()=>t.modelValue,()=>{at(V)}),Fe(()=>{setTimeout(()=>{b(),V()},100)});const _e=$(()=>{var P,se;const _=((se=(P=x.value.color)==null?void 0:P[y.value])==null?void 0:se[t.variant])||x.value.variant[t.variant];return Je(we(x.value.base,x.value.form,x.value.rounded,x.value.placeholder,x.value.size[d.value],t.padded?x.value.padding[d.value]:"p-0",_==null?void 0:_.replaceAll("{color}",y.value),!t.resize&&"resize-none"),t.textareaClass)});return{ui:x,attrs:r,name:p,inputId:O,textarea:w,textareaClass:_e,onInput:W,onChange:ae,onBlur:fe}}}),It=["id","value","name","rows","required","disabled","placeholder"];function Et(t,g,x,r,K,q){return Y(),ue("div",{class:Ce(t.ui.wrapper)},[Qe("textarea",Ze({id:t.inputId,ref:"textarea",value:t.modelValue,name:t.name,rows:t.rows,required:t.required,disabled:t.disabled,placeholder:t.placeholder,class:t.textareaClass},t.attrs,{onInput:g[0]||(g[0]=(...O)=>t.onInput&&t.onInput(...O)),onBlur:g[1]||(g[1]=(...O)=>t.onBlur&&t.onBlur(...O)),onChange:g[2]||(g[2]=(...O)=>t.onChange&&t.onChange(...O))}),null,16,It),Be(t.$slots,"default")],2)}const xt=Ve(Ct,[["render",Et]]);var Pe={exports:{}};/* @license
Papa Parse
v5.4.1
https://github.com/mholt/PapaParse
License: MIT
*/(function(t,g){(function(x,r){t.exports=r()})(dt,function x(){var r=typeof self<"u"?self:typeof window<"u"?window:r!==void 0?r:{},K=!r.document&&!!r.postMessage,q=r.IS_PAPA_WORKER||!1,O={},y=0,d={parse:function(n,e){var a=(e=e||{}).dynamicTyping||!1;if(m(a)&&(e.dynamicTypingFunction=a,a={}),e.dynamicTyping=a,e.transform=!!m(e.transform)&&e.transform,e.worker&&d.WORKERS_SUPPORTED){var i=function(){if(!d.WORKERS_SUPPORTED)return!1;var h=(S=r.URL||r.webkitURL||null,C=x.toString(),d.BLOB_URL||(d.BLOB_URL=S.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",C,")();"],{type:"text/javascript"})))),s=new r.Worker(h),S,C;return s.onmessage=_e,s.id=y++,O[s.id]=s}();return i.userStep=e.step,i.userChunk=e.chunk,i.userComplete=e.complete,i.userError=e.error,e.step=m(e.step),e.chunk=m(e.chunk),e.complete=m(e.complete),e.error=m(e.error),delete e.worker,void i.postMessage({input:n,config:e,workerId:i.id})}var o=null;return d.NODE_STREAM_INPUT,typeof n=="string"?(n=function(h){return h.charCodeAt(0)===65279?h.slice(1):h}(n),o=e.download?new w(e):new V(e)):n.readable===!0&&m(n.read)&&m(n.on)?o=new j(e):(r.File&&n instanceof File||n instanceof Object)&&(o=new b(e)),o.stream(n)},unparse:function(n,e){var a=!1,i=!0,o=",",h=`\r
`,s='"',S=s+s,C=!1,u=null,F=!1;(function(){if(typeof e=="object"){if(typeof e.delimiter!="string"||d.BAD_DELIMITERS.filter(function(l){return e.delimiter.indexOf(l)!==-1}).length||(o=e.delimiter),(typeof e.quotes=="boolean"||typeof e.quotes=="function"||Array.isArray(e.quotes))&&(a=e.quotes),typeof e.skipEmptyLines!="boolean"&&typeof e.skipEmptyLines!="string"||(C=e.skipEmptyLines),typeof e.newline=="string"&&(h=e.newline),typeof e.quoteChar=="string"&&(s=e.quoteChar),typeof e.header=="boolean"&&(i=e.header),Array.isArray(e.columns)){if(e.columns.length===0)throw new Error("Option columns is empty");u=e.columns}e.escapeChar!==void 0&&(S=e.escapeChar+s),(typeof e.escapeFormulae=="boolean"||e.escapeFormulae instanceof RegExp)&&(F=e.escapeFormulae instanceof RegExp?e.escapeFormulae:/^[=+\-@\t\r].*$/)}})();var f=new RegExp(ae(s),"g");if(typeof n=="string"&&(n=JSON.parse(n)),Array.isArray(n)){if(!n.length||Array.isArray(n[0]))return re(null,n,C);if(typeof n[0]=="object")return re(u||Object.keys(n[0]),n,C)}else if(typeof n=="object")return typeof n.data=="string"&&(n.data=JSON.parse(n.data)),Array.isArray(n.data)&&(n.fields||(n.fields=n.meta&&n.meta.fields||u),n.fields||(n.fields=Array.isArray(n.data[0])?n.fields:typeof n.data[0]=="object"?Object.keys(n.data[0]):[]),Array.isArray(n.data[0])||typeof n.data[0]=="object"||(n.data=[n.data])),re(n.fields||[],n.data||[],C);throw new Error("Unable to serialize unrecognized input");function re(l,z,Q){var D="";typeof l=="string"&&(l=JSON.parse(l)),typeof z=="string"&&(z=JSON.parse(z));var H=Array.isArray(l)&&0<l.length,N=!Array.isArray(z[0]);if(H&&i){for(var U=0;U<l.length;U++)0<U&&(D+=o),D+=J(l[U],U);0<z.length&&(D+=h)}for(var c=0;c<z.length;c++){var k=H?l.length:z[c].length,R=!1,M=H?Object.keys(z[c]).length===0:z[c].length===0;if(Q&&!H&&(R=Q==="greedy"?z[c].join("").trim()==="":z[c].length===1&&z[c][0].length===0),Q==="greedy"&&H){for(var E=[],Z=0;Z<k;Z++){var B=N?l[Z]:Z;E.push(z[c][B])}R=E.join("").trim()===""}if(!R){for(var A=0;A<k;A++){0<A&&!M&&(D+=o);var ie=H&&N?l[A]:A;D+=J(z[c][ie],A)}c<z.length-1&&(!Q||0<k&&!M)&&(D+=h)}}return D}function J(l,z){if(l==null)return"";if(l.constructor===Date)return JSON.stringify(l).slice(1,25);var Q=!1;F&&typeof l=="string"&&F.test(l)&&(l="'"+l,Q=!0);var D=l.toString().replace(f,S);return(Q=Q||a===!0||typeof a=="function"&&a(l,z)||Array.isArray(a)&&a[z]||function(H,N){for(var U=0;U<N.length;U++)if(-1<H.indexOf(N[U]))return!0;return!1}(D,d.BAD_DELIMITERS)||-1<D.indexOf(o)||D.charAt(0)===" "||D.charAt(D.length-1)===" ")?s+D+s:D}}};if(d.RECORD_SEP="",d.UNIT_SEP="",d.BYTE_ORDER_MARK="\uFEFF",d.BAD_DELIMITERS=["\r",`
`,'"',d.BYTE_ORDER_MARK],d.WORKERS_SUPPORTED=!K&&!!r.Worker,d.NODE_STREAM_INPUT=1,d.LocalChunkSize=10485760,d.RemoteChunkSize=5242880,d.DefaultDelimiter=",",d.Parser=fe,d.ParserHandle=W,d.NetworkStreamer=w,d.FileStreamer=b,d.StringStreamer=V,d.ReadableStreamStreamer=j,r.jQuery){var p=r.jQuery;p.fn.parse=function(n){var e=n.config||{},a=[];return this.each(function(h){if(!(p(this).prop("tagName").toUpperCase()==="INPUT"&&p(this).attr("type").toLowerCase()==="file"&&r.FileReader)||!this.files||this.files.length===0)return!0;for(var s=0;s<this.files.length;s++)a.push({file:this.files[s],inputElem:this,instanceConfig:p.extend({},e)})}),i(),this;function i(){if(a.length!==0){var h,s,S,C,u=a[0];if(m(n.before)){var F=n.before(u.file,u.inputElem);if(typeof F=="object"){if(F.action==="abort")return h="AbortError",s=u.file,S=u.inputElem,C=F.reason,void(m(n.error)&&n.error({name:h},s,S,C));if(F.action==="skip")return void o();typeof F.config=="object"&&(u.instanceConfig=p.extend(u.instanceConfig,F.config))}else if(F==="skip")return void o()}var f=u.instanceConfig.complete;u.instanceConfig.complete=function(re){m(f)&&f(re,u.file,u.inputElem),o()},d.parse(u.file,u.instanceConfig)}else m(n.complete)&&n.complete()}function o(){a.splice(0,1),i()}}}function v(n){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},(function(e){var a=se(e);a.chunkSize=parseInt(a.chunkSize),e.step||e.chunk||(a.chunkSize=null),this._handle=new W(a),(this._handle.streamer=this)._config=a}).call(this,n),this.parseChunk=function(e,a){if(this.isFirstChunk&&m(this._config.beforeFirstChunk)){var i=this._config.beforeFirstChunk(e);i!==void 0&&(e=i)}this.isFirstChunk=!1,this._halted=!1;var o=this._partialLine+e;this._partialLine="";var h=this._handle.parse(o,this._baseIndex,!this._finished);if(!this._handle.paused()&&!this._handle.aborted()){var s=h.meta.cursor;this._finished||(this._partialLine=o.substring(s-this._baseIndex),this._baseIndex=s),h&&h.data&&(this._rowCount+=h.data.length);var S=this._finished||this._config.preview&&this._rowCount>=this._config.preview;if(q)r.postMessage({results:h,workerId:d.WORKER_ID,finished:S});else if(m(this._config.chunk)&&!a){if(this._config.chunk(h,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);h=void 0,this._completeResults=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(h.data),this._completeResults.errors=this._completeResults.errors.concat(h.errors),this._completeResults.meta=h.meta),this._completed||!S||!m(this._config.complete)||h&&h.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),S||h&&h.meta.paused||this._nextChunk(),h}this._halted=!0},this._sendError=function(e){m(this._config.error)?this._config.error(e):q&&this._config.error&&r.postMessage({workerId:d.WORKER_ID,error:e,finished:!1})}}function w(n){var e;(n=n||{}).chunkSize||(n.chunkSize=d.RemoteChunkSize),v.call(this,n),this._nextChunk=K?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(a){this._input=a,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(e=new XMLHttpRequest,this._config.withCredentials&&(e.withCredentials=this._config.withCredentials),K||(e.onload=X(this._chunkLoaded,this),e.onerror=X(this._chunkError,this)),e.open(this._config.downloadRequestBody?"POST":"GET",this._input,!K),this._config.downloadRequestHeaders){var a=this._config.downloadRequestHeaders;for(var i in a)e.setRequestHeader(i,a[i])}if(this._config.chunkSize){var o=this._start+this._config.chunkSize-1;e.setRequestHeader("Range","bytes="+this._start+"-"+o)}try{e.send(this._config.downloadRequestBody)}catch(h){this._chunkError(h.message)}K&&e.status===0&&this._chunkError()}},this._chunkLoaded=function(){e.readyState===4&&(e.status<200||400<=e.status?this._chunkError():(this._start+=this._config.chunkSize?this._config.chunkSize:e.responseText.length,this._finished=!this._config.chunkSize||this._start>=function(a){var i=a.getResponseHeader("Content-Range");return i===null?-1:parseInt(i.substring(i.lastIndexOf("/")+1))}(e),this.parseChunk(e.responseText)))},this._chunkError=function(a){var i=e.statusText||a;this._sendError(new Error(i))}}function b(n){var e,a;(n=n||{}).chunkSize||(n.chunkSize=d.LocalChunkSize),v.call(this,n);var i=typeof FileReader<"u";this.stream=function(o){this._input=o,a=o.slice||o.webkitSlice||o.mozSlice,i?((e=new FileReader).onload=X(this._chunkLoaded,this),e.onerror=X(this._chunkError,this)):e=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var o=this._input;if(this._config.chunkSize){var h=Math.min(this._start+this._config.chunkSize,this._input.size);o=a.call(o,this._start,h)}var s=e.readAsText(o,this._config.encoding);i||this._chunkLoaded({target:{result:s}})},this._chunkLoaded=function(o){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(o.target.result)},this._chunkError=function(){this._sendError(e.error)}}function V(n){var e;v.call(this,n=n||{}),this.stream=function(a){return e=a,this._nextChunk()},this._nextChunk=function(){if(!this._finished){var a,i=this._config.chunkSize;return i?(a=e.substring(0,i),e=e.substring(i)):(a=e,e=""),this._finished=!e,this.parseChunk(a)}}}function j(n){v.call(this,n=n||{});var e=[],a=!0,i=!1;this.pause=function(){v.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){v.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(o){this._input=o,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){i&&e.length===1&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),e.length?this.parseChunk(e.shift()):a=!0},this._streamData=X(function(o){try{e.push(typeof o=="string"?o:o.toString(this._config.encoding)),a&&(a=!1,this._checkIsFinished(),this.parseChunk(e.shift()))}catch(h){this._streamError(h)}},this),this._streamError=X(function(o){this._streamCleanUp(),this._sendError(o)},this),this._streamEnd=X(function(){this._streamCleanUp(),i=!0,this._streamData("")},this),this._streamCleanUp=X(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function W(n){var e,a,i,o=Math.pow(2,53),h=-o,s=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,S=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,C=this,u=0,F=0,f=!1,re=!1,J=[],l={data:[],errors:[],meta:{}};if(m(n.step)){var z=n.step;n.step=function(c){if(l=c,H())D();else{if(D(),l.data.length===0)return;u+=c.data.length,n.preview&&u>n.preview?a.abort():(l.data=l.data[0],z(l,C))}}}function Q(c){return n.skipEmptyLines==="greedy"?c.join("").trim()==="":c.length===1&&c[0].length===0}function D(){return l&&i&&(U("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+d.DefaultDelimiter+"'"),i=!1),n.skipEmptyLines&&(l.data=l.data.filter(function(c){return!Q(c)})),H()&&function(){if(!l)return;function c(R,M){m(n.transformHeader)&&(R=n.transformHeader(R,M)),J.push(R)}if(Array.isArray(l.data[0])){for(var k=0;H()&&k<l.data.length;k++)l.data[k].forEach(c);l.data.splice(0,1)}else l.data.forEach(c)}(),function(){if(!l||!n.header&&!n.dynamicTyping&&!n.transform)return l;function c(R,M){var E,Z=n.header?{}:[];for(E=0;E<R.length;E++){var B=E,A=R[E];n.header&&(B=E>=J.length?"__parsed_extra":J[E]),n.transform&&(A=n.transform(A,B)),A=N(B,A),B==="__parsed_extra"?(Z[B]=Z[B]||[],Z[B].push(A)):Z[B]=A}return n.header&&(E>J.length?U("FieldMismatch","TooManyFields","Too many fields: expected "+J.length+" fields but parsed "+E,F+M):E<J.length&&U("FieldMismatch","TooFewFields","Too few fields: expected "+J.length+" fields but parsed "+E,F+M)),Z}var k=1;return!l.data.length||Array.isArray(l.data[0])?(l.data=l.data.map(c),k=l.data.length):l.data=c(l.data,0),n.header&&l.meta&&(l.meta.fields=J),F+=k,l}()}function H(){return n.header&&J.length===0}function N(c,k){return R=c,n.dynamicTypingFunction&&n.dynamicTyping[R]===void 0&&(n.dynamicTyping[R]=n.dynamicTypingFunction(R)),(n.dynamicTyping[R]||n.dynamicTyping)===!0?k==="true"||k==="TRUE"||k!=="false"&&k!=="FALSE"&&(function(M){if(s.test(M)){var E=parseFloat(M);if(h<E&&E<o)return!0}return!1}(k)?parseFloat(k):S.test(k)?new Date(k):k===""?null:k):k;var R}function U(c,k,R,M){var E={type:c,code:k,message:R};M!==void 0&&(E.row=M),l.errors.push(E)}this.parse=function(c,k,R){var M=n.quoteChar||'"';if(n.newline||(n.newline=function(B,A){B=B.substring(0,1048576);var ie=new RegExp(ae(A)+"([^]*?)"+ae(A),"gm"),G=(B=B.replace(ie,"")).split("\r"),le=B.split(`
`),de=1<le.length&&le[0].length<G[0].length;if(G.length===1||de)return`
`;for(var ee=0,T=0;T<G.length;T++)G[T][0]===`
`&&ee++;return ee>=G.length/2?`\r
`:"\r"}(c,M)),i=!1,n.delimiter)m(n.delimiter)&&(n.delimiter=n.delimiter(c),l.meta.delimiter=n.delimiter);else{var E=function(B,A,ie,G,le){var de,ee,T,L;le=le||[",","	","|",";",d.RECORD_SEP,d.UNIT_SEP];for(var ye=0;ye<le.length;ye++){var I=le[ye],ke=0,ce=0,be=0;T=void 0;for(var he=new fe({comments:G,delimiter:I,newline:A,preview:10}).parse(B),ge=0;ge<he.data.length;ge++)if(ie&&Q(he.data[ge]))be++;else{var pe=he.data[ge].length;ce+=pe,T!==void 0?0<pe&&(ke+=Math.abs(pe-T),T=pe):T=pe}0<he.data.length&&(ce/=he.data.length-be),(ee===void 0||ke<=ee)&&(L===void 0||L<ce)&&1.99<ce&&(ee=ke,de=I,L=ce)}return{successful:!!(n.delimiter=de),bestDelimiter:de}}(c,n.newline,n.skipEmptyLines,n.comments,n.delimitersToGuess);E.successful?n.delimiter=E.bestDelimiter:(i=!0,n.delimiter=d.DefaultDelimiter),l.meta.delimiter=n.delimiter}var Z=se(n);return n.preview&&n.header&&Z.preview++,e=c,a=new fe(Z),l=a.parse(e,k,R),D(),f?{meta:{paused:!0}}:l||{meta:{paused:!1}}},this.paused=function(){return f},this.pause=function(){f=!0,a.abort(),e=m(n.chunk)?"":e.substring(a.getCharIndex())},this.resume=function(){C.streamer._halted?(f=!1,C.streamer.parseChunk(e,!0)):setTimeout(C.resume,3)},this.aborted=function(){return re},this.abort=function(){re=!0,a.abort(),l.meta.aborted=!0,m(n.complete)&&n.complete(l),e=""}}function ae(n){return n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function fe(n){var e,a=(n=n||{}).delimiter,i=n.newline,o=n.comments,h=n.step,s=n.preview,S=n.fastMode,C=e=n.quoteChar===void 0||n.quoteChar===null?'"':n.quoteChar;if(n.escapeChar!==void 0&&(C=n.escapeChar),(typeof a!="string"||-1<d.BAD_DELIMITERS.indexOf(a))&&(a=","),o===a)throw new Error("Comment character same as delimiter");o===!0?o="#":(typeof o!="string"||-1<d.BAD_DELIMITERS.indexOf(o))&&(o=!1),i!==`
`&&i!=="\r"&&i!==`\r
`&&(i=`
`);var u=0,F=!1;this.parse=function(f,re,J){if(typeof f!="string")throw new Error("Input must be a string");var l=f.length,z=a.length,Q=i.length,D=o.length,H=m(h),N=[],U=[],c=[],k=u=0;if(!f)return te();if(n.header&&!re){var R=f.split(i)[0].split(a),M=[],E={},Z=!1;for(var B in R){var A=R[B];m(n.transformHeader)&&(A=n.transformHeader(A,B));var ie=A,G=E[A]||0;for(0<G&&(Z=!0,ie=A+"_"+G),E[A]=G+1;M.includes(ie);)ie=ie+"_"+G;M.push(ie)}if(Z){var le=f.split(i);le[0]=M.join(a),f=le.join(i)}}if(S||S!==!1&&f.indexOf(e)===-1){for(var de=f.split(i),ee=0;ee<de.length;ee++){if(c=de[ee],u+=c.length,ee!==de.length-1)u+=i.length;else if(J)return te();if(!o||c.substring(0,D)!==o){if(H){if(N=[],be(c.split(a)),xe(),F)return te()}else be(c.split(a));if(s&&s<=ee)return N=N.slice(0,s),te(!0)}}return te()}for(var T=f.indexOf(a,u),L=f.indexOf(i,u),ye=new RegExp(ae(C)+ae(e),"g"),I=f.indexOf(e,u);;)if(f[u]!==e)if(o&&c.length===0&&f.substring(u,u+D)===o){if(L===-1)return te();u=L+Q,L=f.indexOf(i,u),T=f.indexOf(a,u)}else if(T!==-1&&(T<L||L===-1))c.push(f.substring(u,T)),u=T+z,T=f.indexOf(a,u);else{if(L===-1)break;if(c.push(f.substring(u,L)),pe(L+Q),H&&(xe(),F))return te();if(s&&N.length>=s)return te(!0)}else for(I=u,u++;;){if((I=f.indexOf(e,I+1))===-1)return J||U.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:N.length,index:u}),ge();if(I===l-1)return ge(f.substring(u,I).replace(ye,e));if(e!==C||f[I+1]!==C){if(e===C||I===0||f[I-1]!==C){T!==-1&&T<I+1&&(T=f.indexOf(a,I+1)),L!==-1&&L<I+1&&(L=f.indexOf(i,I+1));var ke=he(L===-1?T:Math.min(T,L));if(f.substr(I+1+ke,z)===a){c.push(f.substring(u,I).replace(ye,e)),f[u=I+1+ke+z]!==e&&(I=f.indexOf(e,u)),T=f.indexOf(a,u),L=f.indexOf(i,u);break}var ce=he(L);if(f.substring(I+1+ce,I+1+ce+Q)===i){if(c.push(f.substring(u,I).replace(ye,e)),pe(I+1+ce+Q),T=f.indexOf(a,u),I=f.indexOf(e,u),H&&(xe(),F))return te();if(s&&N.length>=s)return te(!0);break}U.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:N.length,index:u}),I++}}else I++}return ge();function be(ne){N.push(ne),k=u}function he(ne){var Me=0;if(ne!==-1){var Se=f.substring(I+1,ne);Se&&Se.trim()===""&&(Me=Se.length)}return Me}function ge(ne){return J||(ne===void 0&&(ne=f.substring(u)),c.push(ne),u=l,be(c),H&&xe()),te()}function pe(ne){u=ne,be(c),c=[],L=f.indexOf(i,u)}function te(ne){return{data:N,errors:U,meta:{delimiter:a,linebreak:i,aborted:F,truncated:!!ne,cursor:k+(re||0)}}}function xe(){h(te()),N=[],U=[]}},this.abort=function(){F=!0},this.getCharIndex=function(){return u}}function _e(n){var e=n.data,a=O[e.workerId],i=!1;if(e.error)a.userError(e.error,e.file);else if(e.results&&e.results.data){var o={abort:function(){i=!0,_(e.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:P,resume:P};if(m(a.userStep)){for(var h=0;h<e.results.data.length&&(a.userStep({data:e.results.data[h],errors:e.results.errors,meta:e.results.meta},o),!i);h++);delete e.results}else m(a.userChunk)&&(a.userChunk(e.results,o,e.file),delete e.results)}e.finished&&!i&&_(e.workerId,e.results)}function _(n,e){var a=O[n];m(a.userComplete)&&a.userComplete(e),a.terminate(),delete O[n]}function P(){throw new Error("Not implemented.")}function se(n){if(typeof n!="object"||n===null)return n;var e=Array.isArray(n)?[]:{};for(var a in n)e[a]=se(n[a]);return e}function X(n,e){return function(){n.apply(e,arguments)}}function m(n){return typeof n=="function"}return q&&(r.onmessage=function(n){var e=n.data;if(d.WORKER_ID===void 0&&e&&(d.WORKER_ID=e.workerId),typeof e.input=="string")r.postMessage({workerId:d.WORKER_ID,results:d.parse(e.input,e.config),finished:!0});else if(r.File&&e.input instanceof File||e.input instanceof Object){var a=d.parse(e.input,e.config);a&&r.postMessage({workerId:d.WORKER_ID,results:a,finished:!0})}}),(w.prototype=Object.create(v.prototype)).constructor=w,(b.prototype=Object.create(v.prototype)).constructor=b,(V.prototype=Object.create(V.prototype)).constructor=V,(j.prototype=Object.create(v.prototype)).constructor=j,d})})(Pe);var At=Pe.exports;const Ot=ct(At),Rt=Le({__name:"convert",async setup(t){let g,x;if(it().public.site_env!=="preview")throw st({statusCode:404,statusMessage:"Page not found",fatal:!0});const r=Ee(""),{data:K}=([g,x]=Ue(()=>qe("/api/meta.yml","$dg4wxn2PdN")),g=await g,x(),g),{data:q}=([g,x]=Ue(()=>qe("/api/meta.csv","$5926l9L6wT")),g=await g,x(),g),O=$(()=>{var p;return q.value?(p=Ot.parse(q.value))==null?void 0:p.data:void 0}),y=$(()=>{if(!O.value)return;const p=O.value[0].map(v=>v.trim());return O.value.slice(1).reduce((v,w)=>{const b=p.reduce((j,W,ae)=>(W&&(j[W]=w[ae].trim()),j),{}),{ID:V}=b;return delete b.ID,v.set(V,b),v},new Map)});function d(p){return K.value.replace(/^( *)([^\n{]+){([^:}]+):?([^}]+)?}.*\n/gm,(v,w,b,V,j)=>{let W=y.value.get(p)[V];if(!W)return"";if(j)switch(j){case"Boolean":W="true";break;case"Array":W=["",...W.split(/, ?/)].join(`
`+w+"  - ");break}return w+b+W+`
`}).replace(/^ {2}.+?:\n(?= {2}\S)/gm,"")}return(p,v)=>{const w=wt,b=xt,V=ut;return Y(),De(V,{class:"mt-4"},{default:lt(()=>{var j;return[(j=Ie(y))!=null&&j.size?(Y(),De(w,{key:0,modelValue:Ie(r),"onUpdate:modelValue":v[0]||(v[0]=W=>ot(r)?r.value=W:null),options:[...Ie(y).keys()],placeholder:"ID",class:"mt-8"},null,8,["modelValue","options"])):ze("",!0),Ie(r)?(Y(),De(b,{key:1,"model-value":d(Ie(r)),autoresize:"",class:"mt-8"},null,8,["model-value"])):ze("",!0)]}),_:1})}}});export{Rt as default};
