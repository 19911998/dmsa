import{_ as E}from"./Aside.vue.KkcIPF1a.js";import{_ as S}from"./PageLinks.vue.qog0hwV_.js";import{_ as V,a as q}from"./PageBody.vue.uS52qox6.js";import{_ as F}from"./nuxt-img.agwjtneI.js";import{d as h,b as l,c as d,F as U,a8 as B,a9 as u,w as r,g as n,t as x,ad as v,f as y,a4 as T,aM as R,aN as z,aB as s,e as m,G as w,aD as $,aE as G,aF as H,aa as O,aq as Q,v as j,aG as C,aH as J,aO as K,s as f}from"./entry._U8dmp_R.js";import{_ as W}from"./MDC.vue.AFKnLP4h.js";import{_ as X}from"./LandingCard.PAO7Sty2.js";import{_ as Y}from"./getCreationDate.WZs4bTl3.js";import"./MDCRenderer.00_YMKxY.js";import"./index.Wme0U9j4.js";import"./node.kQagOfUD.js";import"./Card.VeE2nflD.js";const Z={key:0,class:"flex gap-x-2"},ee=h({__name:"TagList",props:{base:{},tags:{},pageTag:{}},setup(k){return(e,p)=>{const o=T,c=R,g=z;return e.tags?(l(),d("div",Z,[(l(!0),d(U,null,B(e.tags,a=>(l(),u(g,{key:a,class:"z-50",size:"md",color:a===e.pageTag?"primary":"gray"},{default:r(()=>[n(c,{to:a===e.pageTag?e.base:e.base+"?tag="+encodeURIComponent(a),class:"flex items-center gap-x-2"},{default:r(()=>[n(o,{name:"i-heroicons-tag"}),v(" "+x(a),1)]),_:2},1032,["to"])]),_:2},1032,["color"]))),128))])):y("",!0)}}}),te={class:"flex flex-col gap-y-8"},ae={class:"flex flex-col md:flex-row items-start gap-4"},oe={class:"w-full"},ne={class:"mb-4 text-slate-500 dark:text-slate-400 text-sm flex items-center gap-x-2"},se={class:"text-[15px] text-gray-500 dark:text-gray-400 mt-1"},re=h({__name:"BlogList",props:{entries:{},pageTag:{}},setup(k){return(e,p)=>{const o=F,c=T,g=W,a=ee,_=X;return l(),d("div",te,[(l(!0),d(U,null,B(e.entries,(t,i)=>(l(),u(_,{key:i,title:t.title,to:t==null?void 0:t._path},{description:r(()=>[m("div",ae,[t.image?(l(),u(o,{key:0,src:t.image.src,alt:t.image.alt,preset:"blog",width:"250",height:"150"},null,8,["src","alt"])):y("",!0),m("div",oe,[m("div",ne,[n(c,{name:"i-heroicons-calendar"}),v(" "+x(("getCreationDate"in e?e.getCreationDate:s(Y))(t)),1)]),m("div",se,[n(g,{value:t.description},null,8,["value"])]),n(a,{base:"/blog",tags:t.tags,"page-tag":e.pageTag,class:"mt-4"},null,8,["tags","page-tag"])])])]),_:2},1032,["title","to"]))),128))])}}}),ve=h({__name:"index",async setup(k){let e,p;const o=w(()=>j().query.tag),{data:c}=([e,p]=$(()=>C(o.value?"tag-"+o.value:"blog-entries",()=>(o.value?f("blog").where({tags:{$contains:o.value}}):f("blog")).without("body").sort({createdAt:-1}).find(),{watch:[o]})),e=await e,p(),e);if(!c.value.length)throw G({statusCode:404,statusMessage:"Page not found",fatal:!0});const g=w(()=>Array.from(c.value.reduce((_,t)=>{for(const i of t.tags)_.set(i,(_.get(i)||0)+1);return _},new Map)).sort((_,t)=>t[1]-_[1])),{data:a}=([e,p]=$(()=>C("blog-overview",()=>f("_blog").findOne())),e=await e,p(),e);return H({title:a.value.title,ogTitle:a.value.title,description:a.value.description,ogDescription:a.value.description}),(_,t)=>{const i=E,D=S,L=V,N=re,A=q,P=J,I=K;return l(),u(I,null,{default:r(()=>[n(P,null,{left:r(()=>[n(i,{links:s(a).links},null,8,["links"])]),right:r(()=>[n(i,null,{default:r(()=>[s(g).length?(l(),u(D,{key:0,links:[...s(g)].map(([b,M])=>({label:`${b} (${M})`,to:`/blog?tag=${encodeURIComponent(b)}`,icon:"i-heroicons-tag",exactQuery:!0})),title:"Schlagworte"},null,8,["links"])):y("",!0)]),_:1})]),default:r(()=>[n(L,O(s(a).hero,{links:s(o)?[{label:"Alle Blog-EintrÃ¤ge",to:"/blog",target:"_self",icon:"i-heroicons-arrow-uturn-left"}]:void 0}),Q({_:2},[s(o)?{name:"headline",fn:r(()=>[v(" #"+x(s(o)),1)]),key:"0"}:void 0]),1040,["links"]),n(A,null,{default:r(()=>[n(N,{entries:s(c),"page-tag":s(o)},null,8,["entries","page-tag"])]),_:1})]),_:1})]),_:1})}}});export{ve as default};
