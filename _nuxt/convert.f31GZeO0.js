import{Y as Re,r as Ee,o as Fe,G as $,ak as Ge,k as Ve,ae as We,af as ve,d as Le,a4 as He,ah as Ke,ai as Oe,aM as et,aN as Qe,al as we,b as X,c as de,e as Je,F as Te,a8 as $e,t as je,aa as Ye,n as Ce,ac as Be,g as Ne,f as ze,aO as Ae,aj as tt,N as nt,a1 as at,aP as rt,aQ as it,aR as st,m as lt,aE as ot,aD as Ue,a9 as De,w as ut,aB as Ie,aC as dt,aS as qe,aH as ct}from"./entry.p2jKZbbz.js";const Ze={wrapper:"relative",base:"relative block w-full disabled:cursor-not-allowed disabled:opacity-75 focus:outline-none border-0",form:"form-input",rounded:"rounded-md",placeholder:"placeholder-gray-400 dark:placeholder-gray-500",size:{"2xs":"text-xs",xs:"text-xs",sm:"text-sm",md:"text-sm",lg:"text-sm",xl:"text-base"},gap:{"2xs":"gap-x-1",xs:"gap-x-1.5",sm:"gap-x-1.5",md:"gap-x-2",lg:"gap-x-2.5",xl:"gap-x-2.5"},padding:{"2xs":"px-2 py-1",xs:"px-2.5 py-1.5",sm:"px-2.5 py-1.5",md:"px-3 py-2",lg:"px-3.5 py-2.5",xl:"px-3.5 py-2.5"},leading:{padding:{"2xs":"ps-7",xs:"ps-8",sm:"ps-9",md:"ps-10",lg:"ps-11",xl:"ps-12"}},trailing:{padding:{"2xs":"pe-7",xs:"pe-8",sm:"pe-9",md:"pe-10",lg:"pe-11",xl:"pe-12"}},color:{white:{outline:"shadow-sm bg-white dark:bg-gray-900 text-gray-900 dark:text-white ring-1 ring-inset ring-gray-300 dark:ring-gray-700 focus:ring-2 focus:ring-primary-500 dark:focus:ring-primary-400"},gray:{outline:"shadow-sm bg-gray-50 dark:bg-gray-800 text-gray-900 dark:text-white ring-1 ring-inset ring-gray-300 dark:ring-gray-700 focus:ring-2 focus:ring-primary-500 dark:focus:ring-primary-400"}},variant:{outline:"shadow-sm bg-transparent text-gray-900 dark:text-white ring-1 ring-inset ring-{color}-500 dark:ring-{color}-400 focus:ring-2 focus:ring-{color}-500 dark:focus:ring-{color}-400",none:"bg-transparent focus:ring-0 focus:shadow-none"},icon:{base:"flex-shrink-0 text-gray-400 dark:text-gray-500",color:"text-{color}-500 dark:text-{color}-400",loading:"animate-spin",size:{"2xs":"h-4 w-4",xs:"h-4 w-4",sm:"h-5 w-5",md:"h-5 w-5",lg:"h-5 w-5",xl:"h-6 w-6"},leading:{wrapper:"absolute inset-y-0 start-0 flex items-center",pointer:"pointer-events-none",padding:{"2xs":"ps-2",xs:"ps-2.5",sm:"ps-2.5",md:"ps-3",lg:"ps-3.5",xl:"ps-3.5"}},trailing:{wrapper:"absolute inset-y-0 end-0 flex items-center",pointer:"pointer-events-none",padding:{"2xs":"pe-2",xs:"pe-2.5",sm:"pe-2.5",md:"pe-3",lg:"pe-3.5",xl:"pe-3.5"}}},default:{size:"sm",color:"white",variant:"outline",loadingIcon:"i-heroicons-arrow-path-20-solid"}},ft={...Ze,form:"form-textarea",default:{size:"sm",color:"white",variant:"outline"}},ht={...Ze,form:"form-select",placeholder:"text-gray-900 dark:text-white",default:{size:"sm",color:"white",variant:"outline",loadingIcon:"i-heroicons-arrow-path-20-solid",trailingIcon:"i-heroicons-chevron-down-20-solid"}};let gt=0;function pt(){return`nuid-${gt++}`}const Xe=(t,g)=>{const x=Re("form-events",void 0),r=Re("form-group",void 0),K=Re("form-inputs",void 0),V=Ee(t==null?void 0:t.id);Fe(()=>{V.value=(t==null?void 0:t.legend)===null||t.legend?void 0:(t==null?void 0:t.id)??pt(),r&&(r.inputId.value=V.value,K&&(K.value[r.name.value]=V))});const O=Ee(!1);function y(w,_){x&&x.emit({type:w,path:_})}function d(){y("blur",r==null?void 0:r.name.value),O.value=!0}function p(){y("change",r==null?void 0:r.name.value)}const v=Ge(()=>{(O.value||r!=null&&r.eagerValidation.value)&&y("input",r==null?void 0:r.name.value)},300);return{inputId:V,name:$(()=>(t==null?void 0:t.name)??(r==null?void 0:r.name.value)),size:$(()=>{var _;const w=g.size[r==null?void 0:r.size.value]?r==null?void 0:r.size.value:null;return(t==null?void 0:t.size)??w??((_=g==null?void 0:g.default)==null?void 0:_.size)}),color:$(()=>{var w;return(w=r==null?void 0:r.error)!=null&&w.value?"red":t==null?void 0:t.color}),emitFormBlur:d,emitFormInput:v,emitFormChange:p}},ue=We(ve.ui.strategy,ve.ui.select,ht),mt=Le({components:{UIcon:He},inheritAttrs:!1,props:{modelValue:{type:[String,Number,Object],default:""},id:{type:String,default:null},name:{type:String,default:null},placeholder:{type:String,default:null},required:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},icon:{type:String,default:null},loadingIcon:{type:String,default:()=>ue.default.loadingIcon},leadingIcon:{type:String,default:null},trailingIcon:{type:String,default:()=>ue.default.trailingIcon},trailing:{type:Boolean,default:!1},leading:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},padded:{type:Boolean,default:!0},options:{type:Array,default:()=>[]},size:{type:String,default:null,validator(t){return Object.keys(ue.size).includes(t)}},color:{type:String,default:()=>ue.default.color,validator(t){return[...ve.ui.colors,...Object.keys(ue.color)].includes(t)}},variant:{type:String,default:()=>ue.default.variant,validator(t){return[...Object.keys(ue.variant),...Object.values(ue.color).flatMap(g=>Object.keys(g))].includes(t)}},optionAttribute:{type:String,default:"label"},valueAttribute:{type:String,default:"value"},selectClass:{type:String,default:null},class:{type:[String,Object,Array],default:()=>""},ui:{type:Object,default:()=>({})}},emits:["update:modelValue","change"],setup(t,{emit:g,slots:x}){const{ui:r,attrs:K}=Ke("select",Oe(t,"ui"),ue,Oe(t,"class")),{size:V,rounded:O}=et({ui:r,props:t}),{emitFormChange:y,inputId:d,color:p,size:v,name:w}=Xe(t,ue),_=$(()=>V.value||v.value),j=s=>{g("update:modelValue",s.target.value)},N=s=>{y(),g("change",s)},W=s=>Ae(s,t.valueAttribute,Ae(s,t.optionAttribute)),ae=s=>Ae(s,t.optionAttribute,Ae(s,t.valueAttribute)),re=s=>["string","number","boolean"].includes(typeof s)?{[t.valueAttribute]:s,[t.optionAttribute]:s}:{...s,[t.valueAttribute]:W(s),[t.optionAttribute]:ae(s)},be=$(()=>t.options.map(s=>re(s))),b=$(()=>t.placeholder?[{[t.valueAttribute]:"",[t.optionAttribute]:t.placeholder,disabled:!0},...be.value]:be.value),P=$(()=>{const s=re(t.modelValue),S=b.value.find(C=>C[t.valueAttribute]===s[t.valueAttribute]);return S?S[t.valueAttribute]:""}),le=$(()=>{var S,C;const s=((C=(S=r.value.color)==null?void 0:S[p.value])==null?void 0:C[t.variant])||r.value.variant[t.variant];return Qe(we(r.value.base,r.value.form,O.value,r.value.size[_.value],t.padded?r.value.padding[_.value]:"p-0",s==null?void 0:s.replaceAll("{color}",p.value),(Z.value||x.leading)&&r.value.leading.padding[_.value],(m.value||x.trailing)&&r.value.trailing.padding[_.value]),t.selectClass)}),Z=$(()=>t.icon&&t.leading||t.icon&&!t.trailing||t.loading&&!t.trailing||t.leadingIcon),m=$(()=>t.icon&&t.trailing||t.loading&&t.trailing||t.trailingIcon),n=$(()=>t.loading?t.loadingIcon:t.leadingIcon||t.icon),e=$(()=>t.loading&&!Z.value?t.loadingIcon:t.trailingIcon||t.icon),a=$(()=>we(r.value.icon.leading.wrapper,r.value.icon.leading.pointer,r.value.icon.leading.padding[_.value])),i=$(()=>we(r.value.icon.base,p.value&&ve.ui.colors.includes(p.value)&&r.value.icon.color.replaceAll("{color}",p.value),r.value.icon.size[_.value],t.loading&&r.value.icon.loading)),o=$(()=>we(r.value.icon.trailing.wrapper,r.value.icon.trailing.pointer,r.value.icon.trailing.padding[_.value])),h=$(()=>we(r.value.icon.base,p.value&&ve.ui.colors.includes(p.value)&&r.value.icon.color.replaceAll("{color}",p.value),r.value.icon.size[_.value],t.loading&&!Z.value&&r.value.icon.loading));return{ui:r,attrs:K,name:w,inputId:d,normalizedOptionsWithPlaceholder:b,normalizedValue:P,isLeading:Z,isTrailing:m,selectClass:le,leadingIconName:n,leadingIconClass:i,leadingWrapperIconClass:a,trailingIconName:e,trailingIconClass:h,trailingWrapperIconClass:o,onInput:j,onChange:N}}}),vt=["id","name","value","required","disabled"],yt=["value","label"],_t=["value","selected","disabled","textContent"],bt=["value","selected","disabled","textContent"];function kt(t,g,x,r,K,V){const O=He;return X(),de("div",{class:Ce(t.ui.wrapper)},[Je("select",Ye({id:t.inputId,name:t.name,value:t.modelValue,required:t.required,disabled:t.disabled||t.loading,class:t.selectClass},t.attrs,{onInput:g[0]||(g[0]=(...y)=>t.onInput&&t.onInput(...y)),onChange:g[1]||(g[1]=(...y)=>t.onChange&&t.onChange(...y))}),[(X(!0),de(Te,null,$e(t.normalizedOptionsWithPlaceholder,(y,d)=>(X(),de(Te,null,[y.children?(X(),de("optgroup",{key:`${y[t.valueAttribute]}-optgroup-${d}`,value:y[t.valueAttribute],label:y[t.optionAttribute]},[(X(!0),de(Te,null,$e(y.children,(p,v)=>(X(),de("option",{key:`${p[t.valueAttribute]}-${d}-${v}`,value:p[t.valueAttribute],selected:p[t.valueAttribute]===t.normalizedValue,disabled:p.disabled,textContent:je(p[t.optionAttribute])},null,8,_t))),128))],8,yt)):(X(),de("option",{key:`${y[t.valueAttribute]}-${d}`,value:y[t.valueAttribute],selected:y[t.valueAttribute]===t.normalizedValue,disabled:y.disabled,textContent:je(y[t.optionAttribute])},null,8,bt))],64))),256))],16,vt),t.isLeading&&t.leadingIconName||t.$slots.leading?(X(),de("span",{key:0,class:Ce(t.leadingWrapperIconClass)},[Be(t.$slots,"leading",{disabled:t.disabled,loading:t.loading},()=>[Ne(O,{name:t.leadingIconName,class:Ce(t.leadingIconClass)},null,8,["name","class"])])],2)):ze("",!0),t.isTrailing&&t.trailingIconName||t.$slots.trailing?(X(),de("span",{key:1,class:Ce(t.trailingWrapperIconClass)},[Be(t.$slots,"trailing",{disabled:t.disabled,loading:t.loading},()=>[Ne(O,{name:t.trailingIconName,class:Ce(t.trailingIconClass),"aria-hidden":"true"},null,8,["name","class"])])],2)):ze("",!0)],2)}const wt=Ve(mt,[["render",kt]]),me=We(ve.ui.strategy,ve.ui.textarea,ft),Ct=Le({inheritAttrs:!1,props:{modelValue:{type:[String,Number],default:""},id:{type:String,default:null},name:{type:String,default:null},placeholder:{type:String,default:null},required:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},rows:{type:Number,default:3},autoresize:{type:Boolean,default:!1},autofocus:{type:Boolean,default:!1},autofocusDelay:{type:Number,default:100},resize:{type:Boolean,default:!1},padded:{type:Boolean,default:!0},size:{type:String,default:null,validator(t){return Object.keys(me.size).includes(t)}},color:{type:String,default:()=>me.default.color,validator(t){return[...ve.ui.colors,...Object.keys(me.color)].includes(t)}},variant:{type:String,default:()=>me.default.variant,validator(t){return[...Object.keys(me.variant),...Object.values(me.color).flatMap(g=>Object.keys(g))].includes(t)}},textareaClass:{type:String,default:null},class:{type:[String,Object,Array],default:()=>""},ui:{type:Object,default:()=>({})},modelModifiers:{type:Object,default:()=>({})}},emits:["update:modelValue","blur"],setup(t,{emit:g}){const{ui:x,attrs:r}=Ke("textarea",Oe(t,"ui"),me,Oe(t,"class")),{emitFormBlur:K,emitFormInput:V,inputId:O,color:y,size:d,name:p}=Xe(t,me),v=Ee(tt({},t.modelModifiers,{trim:!1,lazy:!1,number:!1})),w=Ee(null),_=()=>{var b;t.autofocus&&((b=w.value)==null||b.focus())},j=()=>{if(t.autoresize){if(!w.value)return;w.value.rows=t.rows;const b=window.getComputedStyle(w.value),P=parseInt(b.paddingTop),le=parseInt(b.paddingBottom),Z=P+le,m=parseInt(b.lineHeight),{scrollHeight:n}=w.value,e=(n-Z)/m;e>t.rows&&(w.value.rows=e)}},N=b=>{v.value.trim&&(b=b.trim()),v.value.number&&(b=rt(b)),g("update:modelValue",b),V()},W=b=>{j(),v.value.lazy||N(b.target.value)},ae=b=>{const P=b.target.value;v.value.lazy&&N(P),v.value.trim&&(b.target.value=P.trim())},re=b=>{g("blur",b),K()};Fe(()=>{setTimeout(()=>{_()},t.autofocusDelay)}),nt(()=>t.modelValue,()=>{at(j)}),Fe(()=>{setTimeout(()=>{_(),j()},100)});const be=$(()=>{var P,le;const b=((le=(P=x.value.color)==null?void 0:P[y.value])==null?void 0:le[t.variant])||x.value.variant[t.variant];return Qe(we(x.value.base,x.value.form,x.value.rounded,x.value.placeholder,x.value.size[d.value],t.padded?x.value.padding[d.value]:"p-0",b==null?void 0:b.replaceAll("{color}",y.value),!t.resize&&"resize-none"),t.textareaClass)});return{ui:x,attrs:r,name:p,inputId:O,textarea:w,textareaClass:be,onInput:W,onChange:ae,onBlur:re}}}),It=["id","value","name","rows","required","disabled","placeholder"];function Et(t,g,x,r,K,V){return X(),de("div",{class:Ce(t.ui.wrapper)},[Je("textarea",Ye({id:t.inputId,ref:"textarea",value:t.modelValue,name:t.name,rows:t.rows,required:t.required,disabled:t.disabled,placeholder:t.placeholder,class:t.textareaClass},t.attrs,{onInput:g[0]||(g[0]=(...O)=>t.onInput&&t.onInput(...O)),onBlur:g[1]||(g[1]=(...O)=>t.onBlur&&t.onBlur(...O)),onChange:g[2]||(g[2]=(...O)=>t.onChange&&t.onChange(...O))}),null,16,It),Be(t.$slots,"default")],2)}const xt=Ve(Ct,[["render",Et]]);var Pe={exports:{}};/* @license
Papa Parse
v5.4.1
https://github.com/mholt/PapaParse
License: MIT
*/(function(t,g){(function(x,r){t.exports=r()})(it,function x(){var r=typeof self<"u"?self:typeof window<"u"?window:r!==void 0?r:{},K=!r.document&&!!r.postMessage,V=r.IS_PAPA_WORKER||!1,O={},y=0,d={parse:function(n,e){var a=(e=e||{}).dynamicTyping||!1;if(m(a)&&(e.dynamicTypingFunction=a,a={}),e.dynamicTyping=a,e.transform=!!m(e.transform)&&e.transform,e.worker&&d.WORKERS_SUPPORTED){var i=function(){if(!d.WORKERS_SUPPORTED)return!1;var h=(S=r.URL||r.webkitURL||null,C=x.toString(),d.BLOB_URL||(d.BLOB_URL=S.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",C,")();"],{type:"text/javascript"})))),s=new r.Worker(h),S,C;return s.onmessage=be,s.id=y++,O[s.id]=s}();return i.userStep=e.step,i.userChunk=e.chunk,i.userComplete=e.complete,i.userError=e.error,e.step=m(e.step),e.chunk=m(e.chunk),e.complete=m(e.complete),e.error=m(e.error),delete e.worker,void i.postMessage({input:n,config:e,workerId:i.id})}var o=null;return d.NODE_STREAM_INPUT,typeof n=="string"?(n=function(h){return h.charCodeAt(0)===65279?h.slice(1):h}(n),o=e.download?new w(e):new j(e)):n.readable===!0&&m(n.read)&&m(n.on)?o=new N(e):(r.File&&n instanceof File||n instanceof Object)&&(o=new _(e)),o.stream(n)},unparse:function(n,e){var a=!1,i=!0,o=",",h=`\r
`,s='"',S=s+s,C=!1,u=null,F=!1;(function(){if(typeof e=="object"){if(typeof e.delimiter!="string"||d.BAD_DELIMITERS.filter(function(l){return e.delimiter.indexOf(l)!==-1}).length||(o=e.delimiter),(typeof e.quotes=="boolean"||typeof e.quotes=="function"||Array.isArray(e.quotes))&&(a=e.quotes),typeof e.skipEmptyLines!="boolean"&&typeof e.skipEmptyLines!="string"||(C=e.skipEmptyLines),typeof e.newline=="string"&&(h=e.newline),typeof e.quoteChar=="string"&&(s=e.quoteChar),typeof e.header=="boolean"&&(i=e.header),Array.isArray(e.columns)){if(e.columns.length===0)throw new Error("Option columns is empty");u=e.columns}e.escapeChar!==void 0&&(S=e.escapeChar+s),(typeof e.escapeFormulae=="boolean"||e.escapeFormulae instanceof RegExp)&&(F=e.escapeFormulae instanceof RegExp?e.escapeFormulae:/^[=+\-@\t\r].*$/)}})();var f=new RegExp(ae(s),"g");if(typeof n=="string"&&(n=JSON.parse(n)),Array.isArray(n)){if(!n.length||Array.isArray(n[0]))return ie(null,n,C);if(typeof n[0]=="object")return ie(u||Object.keys(n[0]),n,C)}else if(typeof n=="object")return typeof n.data=="string"&&(n.data=JSON.parse(n.data)),Array.isArray(n.data)&&(n.fields||(n.fields=n.meta&&n.meta.fields||u),n.fields||(n.fields=Array.isArray(n.data[0])?n.fields:typeof n.data[0]=="object"?Object.keys(n.data[0]):[]),Array.isArray(n.data[0])||typeof n.data[0]=="object"||(n.data=[n.data])),ie(n.fields||[],n.data||[],C);throw new Error("Unable to serialize unrecognized input");function ie(l,z,J){var D="";typeof l=="string"&&(l=JSON.parse(l)),typeof z=="string"&&(z=JSON.parse(z));var H=Array.isArray(l)&&0<l.length,U=!Array.isArray(z[0]);if(H&&i){for(var q=0;q<l.length;q++)0<q&&(D+=o),D+=Q(l[q],q);0<z.length&&(D+=h)}for(var c=0;c<z.length;c++){var k=H?l.length:z[c].length,R=!1,M=H?Object.keys(z[c]).length===0:z[c].length===0;if(J&&!H&&(R=J==="greedy"?z[c].join("").trim()==="":z[c].length===1&&z[c][0].length===0),J==="greedy"&&H){for(var E=[],Y=0;Y<k;Y++){var B=U?l[Y]:Y;E.push(z[c][B])}R=E.join("").trim()===""}if(!R){for(var A=0;A<k;A++){0<A&&!M&&(D+=o);var se=H&&U?l[A]:A;D+=Q(z[c][se],A)}c<z.length-1&&(!J||0<k&&!M)&&(D+=h)}}return D}function Q(l,z){if(l==null)return"";if(l.constructor===Date)return JSON.stringify(l).slice(1,25);var J=!1;F&&typeof l=="string"&&F.test(l)&&(l="'"+l,J=!0);var D=l.toString().replace(f,S);return(J=J||a===!0||typeof a=="function"&&a(l,z)||Array.isArray(a)&&a[z]||function(H,U){for(var q=0;q<U.length;q++)if(-1<H.indexOf(U[q]))return!0;return!1}(D,d.BAD_DELIMITERS)||-1<D.indexOf(o)||D.charAt(0)===" "||D.charAt(D.length-1)===" ")?s+D+s:D}}};if(d.RECORD_SEP="",d.UNIT_SEP="",d.BYTE_ORDER_MARK="\uFEFF",d.BAD_DELIMITERS=["\r",`
`,'"',d.BYTE_ORDER_MARK],d.WORKERS_SUPPORTED=!K&&!!r.Worker,d.NODE_STREAM_INPUT=1,d.LocalChunkSize=10485760,d.RemoteChunkSize=5242880,d.DefaultDelimiter=",",d.Parser=re,d.ParserHandle=W,d.NetworkStreamer=w,d.FileStreamer=_,d.StringStreamer=j,d.ReadableStreamStreamer=N,r.jQuery){var p=r.jQuery;p.fn.parse=function(n){var e=n.config||{},a=[];return this.each(function(h){if(!(p(this).prop("tagName").toUpperCase()==="INPUT"&&p(this).attr("type").toLowerCase()==="file"&&r.FileReader)||!this.files||this.files.length===0)return!0;for(var s=0;s<this.files.length;s++)a.push({file:this.files[s],inputElem:this,instanceConfig:p.extend({},e)})}),i(),this;function i(){if(a.length!==0){var h,s,S,C,u=a[0];if(m(n.before)){var F=n.before(u.file,u.inputElem);if(typeof F=="object"){if(F.action==="abort")return h="AbortError",s=u.file,S=u.inputElem,C=F.reason,void(m(n.error)&&n.error({name:h},s,S,C));if(F.action==="skip")return void o();typeof F.config=="object"&&(u.instanceConfig=p.extend(u.instanceConfig,F.config))}else if(F==="skip")return void o()}var f=u.instanceConfig.complete;u.instanceConfig.complete=function(ie){m(f)&&f(ie,u.file,u.inputElem),o()},d.parse(u.file,u.instanceConfig)}else m(n.complete)&&n.complete()}function o(){a.splice(0,1),i()}}}function v(n){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},(function(e){var a=le(e);a.chunkSize=parseInt(a.chunkSize),e.step||e.chunk||(a.chunkSize=null),this._handle=new W(a),(this._handle.streamer=this)._config=a}).call(this,n),this.parseChunk=function(e,a){if(this.isFirstChunk&&m(this._config.beforeFirstChunk)){var i=this._config.beforeFirstChunk(e);i!==void 0&&(e=i)}this.isFirstChunk=!1,this._halted=!1;var o=this._partialLine+e;this._partialLine="";var h=this._handle.parse(o,this._baseIndex,!this._finished);if(!this._handle.paused()&&!this._handle.aborted()){var s=h.meta.cursor;this._finished||(this._partialLine=o.substring(s-this._baseIndex),this._baseIndex=s),h&&h.data&&(this._rowCount+=h.data.length);var S=this._finished||this._config.preview&&this._rowCount>=this._config.preview;if(V)r.postMessage({results:h,workerId:d.WORKER_ID,finished:S});else if(m(this._config.chunk)&&!a){if(this._config.chunk(h,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);h=void 0,this._completeResults=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(h.data),this._completeResults.errors=this._completeResults.errors.concat(h.errors),this._completeResults.meta=h.meta),this._completed||!S||!m(this._config.complete)||h&&h.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),S||h&&h.meta.paused||this._nextChunk(),h}this._halted=!0},this._sendError=function(e){m(this._config.error)?this._config.error(e):V&&this._config.error&&r.postMessage({workerId:d.WORKER_ID,error:e,finished:!1})}}function w(n){var e;(n=n||{}).chunkSize||(n.chunkSize=d.RemoteChunkSize),v.call(this,n),this._nextChunk=K?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(a){this._input=a,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(e=new XMLHttpRequest,this._config.withCredentials&&(e.withCredentials=this._config.withCredentials),K||(e.onload=Z(this._chunkLoaded,this),e.onerror=Z(this._chunkError,this)),e.open(this._config.downloadRequestBody?"POST":"GET",this._input,!K),this._config.downloadRequestHeaders){var a=this._config.downloadRequestHeaders;for(var i in a)e.setRequestHeader(i,a[i])}if(this._config.chunkSize){var o=this._start+this._config.chunkSize-1;e.setRequestHeader("Range","bytes="+this._start+"-"+o)}try{e.send(this._config.downloadRequestBody)}catch(h){this._chunkError(h.message)}K&&e.status===0&&this._chunkError()}},this._chunkLoaded=function(){e.readyState===4&&(e.status<200||400<=e.status?this._chunkError():(this._start+=this._config.chunkSize?this._config.chunkSize:e.responseText.length,this._finished=!this._config.chunkSize||this._start>=function(a){var i=a.getResponseHeader("Content-Range");return i===null?-1:parseInt(i.substring(i.lastIndexOf("/")+1))}(e),this.parseChunk(e.responseText)))},this._chunkError=function(a){var i=e.statusText||a;this._sendError(new Error(i))}}function _(n){var e,a;(n=n||{}).chunkSize||(n.chunkSize=d.LocalChunkSize),v.call(this,n);var i=typeof FileReader<"u";this.stream=function(o){this._input=o,a=o.slice||o.webkitSlice||o.mozSlice,i?((e=new FileReader).onload=Z(this._chunkLoaded,this),e.onerror=Z(this._chunkError,this)):e=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var o=this._input;if(this._config.chunkSize){var h=Math.min(this._start+this._config.chunkSize,this._input.size);o=a.call(o,this._start,h)}var s=e.readAsText(o,this._config.encoding);i||this._chunkLoaded({target:{result:s}})},this._chunkLoaded=function(o){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(o.target.result)},this._chunkError=function(){this._sendError(e.error)}}function j(n){var e;v.call(this,n=n||{}),this.stream=function(a){return e=a,this._nextChunk()},this._nextChunk=function(){if(!this._finished){var a,i=this._config.chunkSize;return i?(a=e.substring(0,i),e=e.substring(i)):(a=e,e=""),this._finished=!e,this.parseChunk(a)}}}function N(n){v.call(this,n=n||{});var e=[],a=!0,i=!1;this.pause=function(){v.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){v.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(o){this._input=o,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){i&&e.length===1&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),e.length?this.parseChunk(e.shift()):a=!0},this._streamData=Z(function(o){try{e.push(typeof o=="string"?o:o.toString(this._config.encoding)),a&&(a=!1,this._checkIsFinished(),this.parseChunk(e.shift()))}catch(h){this._streamError(h)}},this),this._streamError=Z(function(o){this._streamCleanUp(),this._sendError(o)},this),this._streamEnd=Z(function(){this._streamCleanUp(),i=!0,this._streamData("")},this),this._streamCleanUp=Z(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function W(n){var e,a,i,o=Math.pow(2,53),h=-o,s=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,S=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,C=this,u=0,F=0,f=!1,ie=!1,Q=[],l={data:[],errors:[],meta:{}};if(m(n.step)){var z=n.step;n.step=function(c){if(l=c,H())D();else{if(D(),l.data.length===0)return;u+=c.data.length,n.preview&&u>n.preview?a.abort():(l.data=l.data[0],z(l,C))}}}function J(c){return n.skipEmptyLines==="greedy"?c.join("").trim()==="":c.length===1&&c[0].length===0}function D(){return l&&i&&(q("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+d.DefaultDelimiter+"'"),i=!1),n.skipEmptyLines&&(l.data=l.data.filter(function(c){return!J(c)})),H()&&function(){if(!l)return;function c(R,M){m(n.transformHeader)&&(R=n.transformHeader(R,M)),Q.push(R)}if(Array.isArray(l.data[0])){for(var k=0;H()&&k<l.data.length;k++)l.data[k].forEach(c);l.data.splice(0,1)}else l.data.forEach(c)}(),function(){if(!l||!n.header&&!n.dynamicTyping&&!n.transform)return l;function c(R,M){var E,Y=n.header?{}:[];for(E=0;E<R.length;E++){var B=E,A=R[E];n.header&&(B=E>=Q.length?"__parsed_extra":Q[E]),n.transform&&(A=n.transform(A,B)),A=U(B,A),B==="__parsed_extra"?(Y[B]=Y[B]||[],Y[B].push(A)):Y[B]=A}return n.header&&(E>Q.length?q("FieldMismatch","TooManyFields","Too many fields: expected "+Q.length+" fields but parsed "+E,F+M):E<Q.length&&q("FieldMismatch","TooFewFields","Too few fields: expected "+Q.length+" fields but parsed "+E,F+M)),Y}var k=1;return!l.data.length||Array.isArray(l.data[0])?(l.data=l.data.map(c),k=l.data.length):l.data=c(l.data,0),n.header&&l.meta&&(l.meta.fields=Q),F+=k,l}()}function H(){return n.header&&Q.length===0}function U(c,k){return R=c,n.dynamicTypingFunction&&n.dynamicTyping[R]===void 0&&(n.dynamicTyping[R]=n.dynamicTypingFunction(R)),(n.dynamicTyping[R]||n.dynamicTyping)===!0?k==="true"||k==="TRUE"||k!=="false"&&k!=="FALSE"&&(function(M){if(s.test(M)){var E=parseFloat(M);if(h<E&&E<o)return!0}return!1}(k)?parseFloat(k):S.test(k)?new Date(k):k===""?null:k):k;var R}function q(c,k,R,M){var E={type:c,code:k,message:R};M!==void 0&&(E.row=M),l.errors.push(E)}this.parse=function(c,k,R){var M=n.quoteChar||'"';if(n.newline||(n.newline=function(B,A){B=B.substring(0,1048576);var se=new RegExp(ae(A)+"([^]*?)"+ae(A),"gm"),G=(B=B.replace(se,"")).split("\r"),oe=B.split(`
`),ce=1<oe.length&&oe[0].length<G[0].length;if(G.length===1||ce)return`
`;for(var ee=0,T=0;T<G.length;T++)G[T][0]===`
`&&ee++;return ee>=G.length/2?`\r
`:"\r"}(c,M)),i=!1,n.delimiter)m(n.delimiter)&&(n.delimiter=n.delimiter(c),l.meta.delimiter=n.delimiter);else{var E=function(B,A,se,G,oe){var ce,ee,T,L;oe=oe||[",","	","|",";",d.RECORD_SEP,d.UNIT_SEP];for(var ye=0;ye<oe.length;ye++){var I=oe[ye],ke=0,fe=0,_e=0;T=void 0;for(var he=new re({comments:G,delimiter:I,newline:A,preview:10}).parse(B),ge=0;ge<he.data.length;ge++)if(se&&J(he.data[ge]))_e++;else{var pe=he.data[ge].length;fe+=pe,T!==void 0?0<pe&&(ke+=Math.abs(pe-T),T=pe):T=pe}0<he.data.length&&(fe/=he.data.length-_e),(ee===void 0||ke<=ee)&&(L===void 0||L<fe)&&1.99<fe&&(ee=ke,ce=I,L=fe)}return{successful:!!(n.delimiter=ce),bestDelimiter:ce}}(c,n.newline,n.skipEmptyLines,n.comments,n.delimitersToGuess);E.successful?n.delimiter=E.bestDelimiter:(i=!0,n.delimiter=d.DefaultDelimiter),l.meta.delimiter=n.delimiter}var Y=le(n);return n.preview&&n.header&&Y.preview++,e=c,a=new re(Y),l=a.parse(e,k,R),D(),f?{meta:{paused:!0}}:l||{meta:{paused:!1}}},this.paused=function(){return f},this.pause=function(){f=!0,a.abort(),e=m(n.chunk)?"":e.substring(a.getCharIndex())},this.resume=function(){C.streamer._halted?(f=!1,C.streamer.parseChunk(e,!0)):setTimeout(C.resume,3)},this.aborted=function(){return ie},this.abort=function(){ie=!0,a.abort(),l.meta.aborted=!0,m(n.complete)&&n.complete(l),e=""}}function ae(n){return n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function re(n){var e,a=(n=n||{}).delimiter,i=n.newline,o=n.comments,h=n.step,s=n.preview,S=n.fastMode,C=e=n.quoteChar===void 0||n.quoteChar===null?'"':n.quoteChar;if(n.escapeChar!==void 0&&(C=n.escapeChar),(typeof a!="string"||-1<d.BAD_DELIMITERS.indexOf(a))&&(a=","),o===a)throw new Error("Comment character same as delimiter");o===!0?o="#":(typeof o!="string"||-1<d.BAD_DELIMITERS.indexOf(o))&&(o=!1),i!==`
`&&i!=="\r"&&i!==`\r
`&&(i=`
`);var u=0,F=!1;this.parse=function(f,ie,Q){if(typeof f!="string")throw new Error("Input must be a string");var l=f.length,z=a.length,J=i.length,D=o.length,H=m(h),U=[],q=[],c=[],k=u=0;if(!f)return te();if(n.header&&!ie){var R=f.split(i)[0].split(a),M=[],E={},Y=!1;for(var B in R){var A=R[B];m(n.transformHeader)&&(A=n.transformHeader(A,B));var se=A,G=E[A]||0;for(0<G&&(Y=!0,se=A+"_"+G),E[A]=G+1;M.includes(se);)se=se+"_"+G;M.push(se)}if(Y){var oe=f.split(i);oe[0]=M.join(a),f=oe.join(i)}}if(S||S!==!1&&f.indexOf(e)===-1){for(var ce=f.split(i),ee=0;ee<ce.length;ee++){if(c=ce[ee],u+=c.length,ee!==ce.length-1)u+=i.length;else if(Q)return te();if(!o||c.substring(0,D)!==o){if(H){if(U=[],_e(c.split(a)),xe(),F)return te()}else _e(c.split(a));if(s&&s<=ee)return U=U.slice(0,s),te(!0)}}return te()}for(var T=f.indexOf(a,u),L=f.indexOf(i,u),ye=new RegExp(ae(C)+ae(e),"g"),I=f.indexOf(e,u);;)if(f[u]!==e)if(o&&c.length===0&&f.substring(u,u+D)===o){if(L===-1)return te();u=L+J,L=f.indexOf(i,u),T=f.indexOf(a,u)}else if(T!==-1&&(T<L||L===-1))c.push(f.substring(u,T)),u=T+z,T=f.indexOf(a,u);else{if(L===-1)break;if(c.push(f.substring(u,L)),pe(L+J),H&&(xe(),F))return te();if(s&&U.length>=s)return te(!0)}else for(I=u,u++;;){if((I=f.indexOf(e,I+1))===-1)return Q||q.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:U.length,index:u}),ge();if(I===l-1)return ge(f.substring(u,I).replace(ye,e));if(e!==C||f[I+1]!==C){if(e===C||I===0||f[I-1]!==C){T!==-1&&T<I+1&&(T=f.indexOf(a,I+1)),L!==-1&&L<I+1&&(L=f.indexOf(i,I+1));var ke=he(L===-1?T:Math.min(T,L));if(f.substr(I+1+ke,z)===a){c.push(f.substring(u,I).replace(ye,e)),f[u=I+1+ke+z]!==e&&(I=f.indexOf(e,u)),T=f.indexOf(a,u),L=f.indexOf(i,u);break}var fe=he(L);if(f.substring(I+1+fe,I+1+fe+J)===i){if(c.push(f.substring(u,I).replace(ye,e)),pe(I+1+fe+J),T=f.indexOf(a,u),I=f.indexOf(e,u),H&&(xe(),F))return te();if(s&&U.length>=s)return te(!0);break}q.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:U.length,index:u}),I++}}else I++}return ge();function _e(ne){U.push(ne),k=u}function he(ne){var Me=0;if(ne!==-1){var Se=f.substring(I+1,ne);Se&&Se.trim()===""&&(Me=Se.length)}return Me}function ge(ne){return Q||(ne===void 0&&(ne=f.substring(u)),c.push(ne),u=l,_e(c),H&&xe()),te()}function pe(ne){u=ne,_e(c),c=[],L=f.indexOf(i,u)}function te(ne){return{data:U,errors:q,meta:{delimiter:a,linebreak:i,aborted:F,truncated:!!ne,cursor:k+(ie||0)}}}function xe(){h(te()),U=[],q=[]}},this.abort=function(){F=!0},this.getCharIndex=function(){return u}}function be(n){var e=n.data,a=O[e.workerId],i=!1;if(e.error)a.userError(e.error,e.file);else if(e.results&&e.results.data){var o={abort:function(){i=!0,b(e.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:P,resume:P};if(m(a.userStep)){for(var h=0;h<e.results.data.length&&(a.userStep({data:e.results.data[h],errors:e.results.errors,meta:e.results.meta},o),!i);h++);delete e.results}else m(a.userChunk)&&(a.userChunk(e.results,o,e.file),delete e.results)}e.finished&&!i&&b(e.workerId,e.results)}function b(n,e){var a=O[n];m(a.userComplete)&&a.userComplete(e),a.terminate(),delete O[n]}function P(){throw new Error("Not implemented.")}function le(n){if(typeof n!="object"||n===null)return n;var e=Array.isArray(n)?[]:{};for(var a in n)e[a]=le(n[a]);return e}function Z(n,e){return function(){n.apply(e,arguments)}}function m(n){return typeof n=="function"}return V&&(r.onmessage=function(n){var e=n.data;if(d.WORKER_ID===void 0&&e&&(d.WORKER_ID=e.workerId),typeof e.input=="string")r.postMessage({workerId:d.WORKER_ID,results:d.parse(e.input,e.config),finished:!0});else if(r.File&&e.input instanceof File||e.input instanceof Object){var a=d.parse(e.input,e.config);a&&r.postMessage({workerId:d.WORKER_ID,results:a,finished:!0})}}),(w.prototype=Object.create(v.prototype)).constructor=w,(_.prototype=Object.create(v.prototype)).constructor=_,(j.prototype=Object.create(j.prototype)).constructor=j,(N.prototype=Object.create(v.prototype)).constructor=N,d})})(Pe);var At=Pe.exports;const Ot=st(At),St=Le({__name:"convert",async setup(t){let g,x;if(lt().public.site_env!=="preview")throw ot({statusCode:404,statusMessage:"Page not found",fatal:!0});const r=Ee(""),{data:K}=([g,x]=Ue(()=>qe("/api/meta.yml","$dg4wxn2PdN")),g=await g,x(),g),{data:V}=([g,x]=Ue(()=>qe("/api/meta.csv","$5926l9L6wT")),g=await g,x(),g),O=$(()=>{var p;return V.value?(p=Ot.parse(V.value))==null?void 0:p.data:void 0}),y=$(()=>{if(!O.value)return;const p=O.value[0].map(v=>v.trim());return O.value.slice(1).reduce((v,w)=>{const _=p.reduce((N,W,ae)=>{var re;return W&&(N[W]=(re=w[ae])==null?void 0:re.trim()),N},{}),{ID:j}=_;return j&&(delete _.ID,v.set(j,_)),v},new Map)});function d(p){return K.value.replace(/^( *)([^\n{]+){([^:}]+):?([^}]+)?}.*\n/gm,(v,w,_,j,N)=>{let W=y.value.get(p)[j];if(!W)return"";if(N)switch(N){case"Boolean":W="true";break;case"Array":W=["",...W.split(/, ?/)].join(`
`+w+"  - ");break}return w+_+W+`
`}).replace(/^ {2}.+?:\n(?= {2}\S)/gm,"")}return(p,v)=>{const w=wt,_=xt,j=ct;return X(),De(j,{class:"mt-4"},{default:ut(()=>{var N;return[(N=Ie(y))!=null&&N.size?(X(),De(w,{key:0,modelValue:Ie(r),"onUpdate:modelValue":v[0]||(v[0]=W=>dt(r)?r.value=W:null),options:[...Ie(y).keys()],placeholder:"ID",class:"mt-8"},null,8,["modelValue","options"])):ze("",!0),Ie(r)?(X(),De(_,{key:1,"model-value":d(Ie(r)),autoresize:"",class:"mt-8"},null,8,["model-value"])):ze("",!0)]}),_:1})}}});export{St as default};
