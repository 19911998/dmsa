import{_ as D}from"./MDC.vue.Q2jV_bI8.js";import{_ as N}from"./TagList.vue.BZzm-SgX.js";import{_ as S}from"./PageHero.vue.IrBLdWJC.js";import j from"./ContentRenderer.ic0GaM4v.js";import{d as B,s as M,x as P,aC as f,aD as b,aE as z,b as r,c as u,g as i,w as c,aA as t,e as d,F as h,a7 as H,ao as L,an as R,a8 as U,f as p,aF as y,aG as E,t as F,q as v,aH as V}from"./entry.oEvlOGl_.js";import{_ as q,a as O}from"./PageBody.vue.Lt6P0jpm.js";import"./MDCRenderer.-Xrt-zNI.js";import"./index.Wme0U9j4.js";import"./_commonjsHelpers.5-cIlDoe.js";import"./node.kQagOfUD.js";import"./ContentRendererMarkdown.vue.ivJwFA2Z.js";const Z={key:0,class:"grid grid-cols-3 gap-x-2"},G={class:"text-right font-semibold capitalize"},X=["innerHTML"],I={key:0},ie=B({__name:"[...slug]",async setup(J){let s,l;const m=M(),{seo:o}=P(),{data:e}=([s,l]=f(()=>y(m.path,()=>v(m.path).findOne(),"$g9rZZjXO3T")),s=await s,l(),s);if(!e.value)throw b({statusCode:404,statusMessage:"Page not found",fatal:!0});e.value.meta.jahre&&(e.value.meta.zeitraum=e.value.meta.jahre.reduce((a,_)=>(!a.length||_>a.at(-1)[0]+1?a.push([_]):a.at(-1)[1]=_,a),[]).map(a=>a.length>1?a.join(" – "):a[0]));const{data:g}=([s,l]=f(()=>y(`${m.path}-surround`,()=>v("map").where({_extension:"md",navigation:{$ne:!1}}).only(["title","description","_path"]).findSurround(V(m.path)))),s=await s,l(),s);return z({titleTemplate:`%s - ${o==null?void 0:o.siteName}`,title:e.value.title,ogTitle:`${e.value.title} - ${o==null?void 0:o.siteName}`,ogSiteName:e.value.title,description:e.value.description,ogDescription:e.value.description}),(a,_)=>{const C=D,x=N,$=S,w=j,k=E,T=q,A=O;return r(),u("div",null,[i($,L(R(t(e))),{description:c(()=>[i(C,{value:t(e).description},null,8,["value"]),i(x,{base:"/map",tags:t(e).tags,class:"mt-5"},null,8,["tags"])]),default:c(()=>[d("dl",null,[(r(),u(h,null,H(["ort","träger","zeitraum","adresse"],n=>(r(),u(h,{key:n},[t(e).meta[n]?(r(),u("div",Z,[d("dt",G,F(n)+": ",1),d("dd",{class:"col-span-2",innerHTML:Array.isArray(t(e).meta[n])?t(e).meta[n].join(", "):t(e).meta[n]},null,8,X)])):p("",!0)],64))),64))])]),_:1},16),i(A,{prose:""},{default:c(()=>{var n;return[i(k,null,{default:c(()=>[t(e).body?(r(),U(w,{key:0,value:t(e),class:"max-w-lg mx-auto"},null,8,["value"])):p("",!0)]),_:1}),(n=t(g))!=null&&n.length?(r(),u("hr",I)):p("",!0),i(T,{surround:t(g)},null,8,["surround"])]}),_:1})])}}});export{ie as default};
