import{d as P,ah as D,ai as C,b as a,c as n,e as l,n as i,aB as t,ac as u,f as m,g as f,aa as A,a$ as L,ad as w,t as k,F as $,a8 as B,a9 as N,a4 as O,ag as H,v as M,y as Z,aD as S,aE as q,aF as G,w as _,aG as j,b0 as K,s as z,aL as X}from"./entry.FRcf34_h.js";import{_ as J,a as Q}from"./DocsSurround.vue.e9uE5cwN.js";import W from"./ContentRenderer.l8AgIGxy.js";import{_ as Y}from"./PageBody.vue.i54G1WG0.js";import"./ContentRendererMarkdown.vue.hWES5xxk.js";import"./MDCRenderer.-tWPoWDj.js";import"./index.Wme0U9j4.js";const ee={class:"relative"},te=P({inheritAttrs:!1,__name:"Aside",props:{links:{},ui:{},class:{}},setup(v){const r={wrapper:"hidden overflow-y-auto lg:block lg:max-h-[calc(100vh-var(--header-height))] lg:sticky lg:top-[--header-height] py-8 lg:px-4 lg:-mx-4",top:{wrapper:"sticky -top-8 -mt-8 pointer-events-none z-[1]",header:"h-8 bg-background -mx-4 px-4",body:"bg-background relative pointer-events-auto flex -mx-4 px-4",footer:"h-8 bg-gradient-to-b from-background -mx-4 px-4"}},c=v,{ui:s,attrs:d}=D("aside",C(c,"ui"),r,C(c,"class"),!0);return(e,b)=>{const o=L;return a(),n("aside",A({class:t(s).wrapper},t(d)),[l("div",ee,[e.$slots.top?(a(),n("div",{key:0,class:i(t(s).top.wrapper)},[l("div",{class:i(t(s).top.header)},null,2),l("div",{class:i(t(s).top.body)},[u(e.$slots,"top")],2),l("div",{class:i(t(s).top.footer)},null,2)],2)):m("",!0),u(e.$slots,"links",{},()=>[f(o,{links:e.links},null,8,["links"])]),u(e.$slots,"default"),u(e.$slots,"bottom")])],16)}}}),se={class:"flex flex-col lg:flex-row items-start gap-6"},ae={class:"flex-1"},ne=P({inheritAttrs:!1,__name:"PageHeader",props:{headline:{default:void 0},title:{default:""},description:{default:""},icon:{default:void 0},links:{default:()=>[]},ui:{default:()=>({})},class:{default:void 0}},setup(v){const r={wrapper:"relative border-b border-gray-200 dark:border-gray-800 py-8",container:"flex flex-col lg:flex-row lg:items-center lg:justify-between",headline:"mb-4 text-sm font-semibold text-primary flex items-center gap-1.5",title:"text-3xl sm:text-4xl font-bold text-gray-900 dark:text-white tracking-tight",description:"mt-4 text-lg text-gray-500 dark:text-gray-400",icon:{wrapper:"flex",base:"w-10 h-10 flex-shrink-0 text-primary"},links:"flex flex-wrap items-center gap-1.5 mt-4 lg:mt-0"},c=v,{ui:s,attrs:d}=D("page.header",C(c,"ui"),r,C(c,"class"),!0);return(e,b)=>{var x;const o=O,g=H;return a(),n("div",A({class:t(s).wrapper},t(d)),[e.headline||e.$slots.headline?(a(),n("div",{key:0,class:i(t(s).headline)},[u(e.$slots,"headline",{},()=>[w(k(e.headline),1)])],2)):m("",!0),l("div",se,[e.icon||e.$slots.icon?(a(),n("div",{key:0,class:i(t(s).icon.wrapper)},[u(e.$slots,"icon",{},()=>[f(o,{name:e.icon,class:i(t(s).icon.base)},null,8,["name","class"])])],2)):m("",!0),l("div",ae,[l("div",{class:i(t(s).container)},[l("h1",{class:i(t(s).title)},[u(e.$slots,"title",{},()=>[w(k(e.title),1)])],2),(x=e.links)!=null&&x.length||e.$slots.links?(a(),n("div",{key:0,class:i(t(s).links)},[u(e.$slots,"links",{},()=>[(a(!0),n($,null,B(e.links,(h,U)=>(a(),N(g,A({key:U},{...h,target:h.target||"_blank",color:h.color||"white"},{onClick:h.click}),null,16,["onClick"]))),128))])],2)):m("",!0)],2),e.description||e.$slots.description?(a(),n("p",{key:0,class:i(t(s).description)},[u(e.$slots,"description",{},()=>[w(k(e.description),1)])],2)):m("",!0),u(e.$slots,"default")])])],16)}}}),oe={class:"flex flex-col gap-y-2 text-sm"},re={key:0},ie={class:"text-primary font-semibold capitalize"},le={key:0},ce={key:1},_e=P({__name:"[...slug]",async setup(v){let r,c;const s=M(),{seo:d}=Z(),{data:e}=([r,c]=S(()=>j(s.path,()=>z(s.path).findOne(),"$g9rZZjXO3T")),r=await r,c(),r);if(!e.value)throw q({statusCode:404,statusMessage:"Page not found",fatal:!0});e.value.meta.jahre&&(e.value.meta.zeitraum=e.value.meta.jahre.reduce((o,g)=>(!o.length||g>o.at(-1).at(-1)+1?o.push([g]):o.at(-1)[1]=g,o),[]).map(o=>o.length>1?o.join(" – "):o[0]));const{data:b}=([r,c]=S(()=>j(`${s.path}-surround`,()=>z("map").where({_extension:"md",navigation:{$ne:!1}}).only(["title","description","_path"]).findSurround(X(s.path)))),r=await r,c(),r);return G({titleTemplate:`%s - ${d==null?void 0:d.siteName}`,title:e.value.title,ogTitle:`${e.value.title} - ${d==null?void 0:d.siteName}`,description:e.value.description,ogDescription:e.value.description}),(o,g)=>{const x=te,h=J,U=ne,R=W,T=Q,V=Y,E=K;return a(),N(E,null,{left:_(()=>[]),right:_(()=>{var y;return[f(x,{links:(y=t(e).tags)==null?void 0:y.map(p=>({label:p,to:`/map?tag=${encodeURIComponent(p)}`,icon:"i-heroicons-tag"}))},{default:_(()=>[l("dl",oe,[(a(),n($,null,B(["bundesland","ort","träger","zeitraum","Organisationen"],p=>(a(),n($,{key:p},[t(e).meta[p]?(a(),n("div",re,[l("dt",ie,k(p),1),l("dd",null,[Array.isArray(t(e).meta[p])?(a(),n("ul",le,[(a(!0),n($,null,B(t(e).meta[p],(F,I)=>(a(),n("li",{key:I,class:"mb-2"},k(F),1))),128))])):(a(),n($,{key:1},[w(k(t(e).meta[p]),1)],64))])])):m("",!0)],64))),64))])]),_:1},8,["links"])]}),default:_(()=>[f(U,{title:t(e).title,description:t(e).description},{headline:_(()=>[f(h,{links:[{label:"Karte",icon:"i-heroicons-map",to:"/map"}]})]),_:1},8,["title","description"]),f(V,{prose:""},{default:_(()=>{var y;return[t(e).body?(a(),N(R,{key:0,value:t(e),class:"max-w-xl"},null,8,["value"])):m("",!0),(y=t(b))!=null&&y.length?(a(),n("hr",ce)):m("",!0),f(T,{surround:t(b)},null,8,["surround"])]}),_:1})]),_:1})}}});export{_e as default};
