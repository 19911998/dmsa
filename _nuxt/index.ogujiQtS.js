import{a as M,_ as S}from"./Aside.vue.yf5xKfIh.js";import{_ as V,a as q}from"./PageBody.vue.agH9c1y2.js";import{_ as F}from"./nuxt-img.yWNXEpKk.js";import{d as x,b as l,c as f,F as U,a8 as B,a9 as u,w as r,g as s,t as v,ad as k,f as y,a4 as T,aO as R,aP as z,aB as n,e as d,G as w,aD as $,aE as G,aF as H,aa as O,aq as Q,v as j,aG as C,aH as J,aQ as K,s as h}from"./entry.OgL76LDr.js";import{_ as W}from"./MDC.vue.6uBzA-2P.js";import{_ as X}from"./LandingCard.dWKBuDkH.js";import{_ as Y}from"./getCreationDate.WZs4bTl3.js";import"./MDCRenderer.5i0FEoAx.js";import"./index.Wme0U9j4.js";import"./node.kQagOfUD.js";import"./Card.DvoM4PMZ.js";const Z={key:0,class:"flex gap-x-2"},ee=x({__name:"TagList",props:{base:{},tags:{},pageTag:{}},setup(b){return(e,g)=>{const a=T,c=R,p=z;return e.tags?(l(),f("div",Z,[(l(!0),f(U,null,B(e.tags,o=>(l(),u(p,{key:o,class:"z-50",size:"md",color:o===e.pageTag?"primary":"gray"},{default:r(()=>[s(c,{to:o===e.pageTag?e.base:e.base+"?tag="+encodeURIComponent(o),class:"flex items-center gap-x-2"},{default:r(()=>[s(a,{name:"i-heroicons-tag"}),k(" "+v(o),1)]),_:2},1032,["to"])]),_:2},1032,["color"]))),128))])):y("",!0)}}}),te={class:"flex flex-col gap-y-8"},ae={class:"flex flex-col md:flex-row items-start gap-4"},oe={class:"w-full"},ne={class:"mb-4 text-slate-500 dark:text-slate-400 text-sm flex items-center gap-x-2"},se={class:"text-[15px] text-gray-500 dark:text-gray-400 mt-1"},re=x({__name:"BlogList",props:{entries:{},pageTag:{}},setup(b){return(e,g)=>{const a=F,c=T,p=W,o=ee,_=X;return l(),f("div",te,[(l(!0),f(U,null,B(e.entries,(t,i)=>(l(),u(_,{key:i,title:t.title,to:t==null?void 0:t._path},{description:r(()=>[d("div",ae,[t.image?(l(),u(a,{key:0,src:t.image.src,alt:t.image.alt,preset:"blog",width:"250",height:"150"},null,8,["src","alt"])):y("",!0),d("div",oe,[d("div",ne,[s(c,{name:"i-heroicons-calendar"}),k(" "+v(("getCreationDate"in e?e.getCreationDate:n(Y))(t)),1)]),d("div",se,[s(p,{value:t.description},null,8,["value"])]),s(o,{base:"/blog",tags:t.tags,"page-tag":e.pageTag,class:"mt-4"},null,8,["tags","page-tag"])])])]),_:2},1032,["title","to"]))),128))])}}}),xe=x({__name:"index",async setup(b){let e,g;const a=w(()=>j().query.tag),{data:c}=([e,g]=$(()=>C(a.value?"tag-"+a.value:"blog-entries",()=>(a.value?h("blog").where({tags:{$contains:a.value}}):h("blog")).without("body").sort({createdAt:-1}).find(),{watch:[a]})),e=await e,g(),e);if(!c.value.length)throw G({statusCode:404,statusMessage:"Page not found",fatal:!0});const p=w(()=>Array.from(c.value.reduce((_,t)=>{for(const i of t.tags)_.set(i,(_.get(i)||0)+1);return _},new Map)).sort((_,t)=>t[1]-_[1])),{data:o}=([e,g]=$(()=>C("blog-overview",()=>h("_blog").findOne())),e=await e,g(),e);return H({title:o.value.title,ogTitle:o.value.title,description:o.value.description,ogDescription:o.value.description}),(_,t)=>{const i=M,D=S,L=V,P=re,A=q,N=J,I=K;return l(),u(I,null,{default:r(()=>[s(N,null,{left:r(()=>[s(i,{links:n(o).links},null,8,["links"])]),right:r(()=>[s(i,null,{default:r(()=>[n(p).length?(l(),u(D,{key:0,links:[...n(p)].filter(([m])=>m!==n(a)).map(([m,E])=>({label:`${m} (${E})`,to:`/blog?tag=${encodeURIComponent(m)}`,icon:"i-heroicons-tag"})),title:"Schlagworte"},null,8,["links"])):y("",!0)]),_:1})]),default:r(()=>[s(L,O(n(o).hero,{links:n(a)?[{label:"Alle Blog-EintrÃ¤ge",to:"/blog",target:"_self",icon:"i-heroicons-arrow-uturn-left"}]:void 0}),Q({_:2},[n(a)?{name:"headline",fn:r(()=>[k(" #"+v(n(a)),1)]),key:"0"}:void 0]),1040,["links"]),s(A,null,{default:r(()=>[s(P,{entries:n(c),"page-tag":n(a)},null,8,["entries","page-tag"])]),_:1})]),_:1})]),_:1})}}});export{xe as default};
